/*! For license information please see orochart.js.LICENSE.txt */
(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[309],{"../node_modules/@oroinc/oro-webpack-config-builder/loader/text-loader.js!./bundles/orochart/js/templates/base-chart-template.html":t=>{t.exports='<div class="chart-container">\n    <div class="clearfix">\n        <div class="chart-content pull-left"></div>\n        <div class="chart-legend pull-left"></div>\n    </div>\n</div>\n'},"../node_modules/bean/bean.js":function(t,e,i){var o,s,a;a=function(t,e){t=t||"bean",e=e||this;var i,o,s,a,n,r=window,l=e[t],h=/[^\.]*(?=\..*)\.|.*/,c=/\..*/,u="addEventListener",d=document||{},p=d.documentElement||{},f=p[u],m=f?u:"attachEvent",g={},x=Array.prototype.slice,v=function(t,e){return t.split(e||" ")},b=function(t){return"string"==typeof t},y=function(t){return"function"==typeof t},w=function(t,e,i){for(i=0;i<e.length;i++)e[i]&&(t[e[i]]=1);return t}({},v("click dblclick mouseup mousedown contextmenu mousewheel mousemultiwheel DOMMouseScroll mouseover mouseout mousemove selectstart selectend keydown keypress keyup orientationchange focus blur change reset select submit load unload beforeunload resize move DOMContentLoaded readystatechange message error abort scroll "+(f?"show input invalid touchstart touchmove touchend touchcancel gesturestart gesturechange gestureend textinput readystatechange pageshow pagehide popstate hashchange offline online afterprint beforeprint dragstart dragenter dragover dragleave drag drop dragend loadstart progress suspend emptied stalled loadmetadata loadeddata canplay canplaythrough playing waiting seeking seeked ended durationchange timeupdate play pause ratechange volumechange cuechange checking noupdate downloading cached updateready obsolete ":""))),M=(a="compareDocumentPosition"in p?function(t,e){return e.compareDocumentPosition&&!(16&~e.compareDocumentPosition(t))}:"contains"in p?function(t,e){return(e=9===e.nodeType||e===window?p:e)!==t&&e.contains(t)}:function(t,e){for(;t=t.parentNode;)if(t===e)return 1;return 0},{mouseenter:{base:"mouseover",condition:n=function(t){var e=t.relatedTarget;return e?e!==this&&"xul"!==e.prefix&&!/document/.test(this.toString())&&!a(e,this):null==e}},mouseleave:{base:"mouseout",condition:n},mousewheel:{base:/Firefox/.test(navigator.userAgent)?"DOMMouseScroll":"mousewheel"}}),k=function(){var t=v("altKey attrChange attrName bubbles cancelable ctrlKey currentTarget detail eventPhase getModifierState isTrusted metaKey relatedNode relatedTarget shiftKey srcElement target timeStamp type view which propertyName"),e=t.concat(v("button buttons clientX clientY dataTransfer fromElement offsetX offsetY pageX pageY screenX screenY toElement")),i=e.concat(v("wheelDelta wheelDeltaX wheelDeltaY wheelDeltaZ axis")),o=t.concat(v("char charCode key keyCode keyIdentifier keyLocation location")),s=t.concat(v("data")),a=t.concat(v("touches targetTouches changedTouches scale rotation")),n=t.concat(v("data origin source")),l=t.concat(v("state")),h=/over|out/,c=[{reg:/key/i,fix:function(t,e){return e.keyCode=t.keyCode||t.which,o}},{reg:/click|mouse(?!(.*wheel|scroll))|menu|drag|drop/i,fix:function(t,i,o){return i.rightClick=3===t.which||2===t.button,i.pos={x:0,y:0},t.pageX||t.pageY?(i.clientX=t.pageX,i.clientY=t.pageY):(t.clientX||t.clientY)&&(i.clientX=t.clientX+d.body.scrollLeft+p.scrollLeft,i.clientY=t.clientY+d.body.scrollTop+p.scrollTop),h.test(o)&&(i.relatedTarget=t.relatedTarget||t[("mouseover"==o?"from":"to")+"Element"]),e}},{reg:/mouse.*(wheel|scroll)/i,fix:function(){return i}},{reg:/^text/i,fix:function(){return s}},{reg:/^touch|^gesture/i,fix:function(){return a}},{reg:/^message$/i,fix:function(){return n}},{reg:/^popstate$/i,fix:function(){return l}},{reg:/.*/,fix:function(){return t}}],u={},f=function(t,e,i){if(arguments.length&&(t=t||((e.ownerDocument||e.document||e).parentWindow||r).event,this.originalEvent=t,this.isNative=i,this.isBean=!0,t)){var o,s,a,n,l,h=t.type,d=t.target||t.srcElement;if(this.target=d&&3===d.nodeType?d.parentNode:d,i){if(!(l=u[h]))for(o=0,s=c.length;o<s;o++)if(c[o].reg.test(h)){u[h]=l=c[o].fix;break}for(o=(n=l(t,this,h)).length;o--;)!((a=n[o])in this)&&a in t&&(this[a]=t[a])}}};return f.prototype.preventDefault=function(){this.originalEvent.preventDefault?this.originalEvent.preventDefault():this.originalEvent.returnValue=!1},f.prototype.stopPropagation=function(){this.originalEvent.stopPropagation?this.originalEvent.stopPropagation():this.originalEvent.cancelBubble=!0},f.prototype.stop=function(){this.preventDefault(),this.stopPropagation(),this.stopped=!0},f.prototype.stopImmediatePropagation=function(){this.originalEvent.stopImmediatePropagation&&this.originalEvent.stopImmediatePropagation(),this.isImmediatePropagationStopped=function(){return!0}},f.prototype.isImmediatePropagationStopped=function(){return this.originalEvent.isImmediatePropagationStopped&&this.originalEvent.isImmediatePropagationStopped()},f.prototype.clone=function(t){var e=new f(this,this.element,this.isNative);return e.currentTarget=t,e},f}(),S=function(t,e){return f||e||t!==d&&t!==r?t:p},T=function(){var t=function(t,e,i,o){var s=function(i,s){return e.apply(t,o?x.call(s,i?0:1).concat(o):s)},a=function(i,o){return e.__beanDel?e.__beanDel.ft(i.target,t):o},n=i?function(t){var e=a(t,this);if(i.apply(e,arguments))return t&&(t.currentTarget=e),s(t,arguments)}:function(t){return e.__beanDel&&(t=t.clone(a(t))),s(t,arguments)};return n.__beanDel=e.__beanDel,n},e=function(e,i,o,s,a,n,r){var l,h=M[i];"unload"==i&&(o=O(D,e,i,o,s)),h&&(h.condition&&(o=t(e,o,h.condition,n)),i=h.base||i),this.isNative=l=w[i]&&!!e[m],this.customType=!f&&!l&&i,this.element=e,this.type=i,this.original=s,this.namespaces=a,this.eventType=f||l?i:"propertychange",this.target=S(e,l),this[m]=!!this.target[m],this.root=r,this.handler=t(e,o,null,n)};return e.prototype.inNamespaces=function(t){var e,i,o=0;if(!t)return!0;if(!this.namespaces)return!1;for(e=t.length;e--;)for(i=this.namespaces.length;i--;)t[e]==this.namespaces[i]&&o++;return t.length===o},e.prototype.matches=function(t,e,i){return!(this.element!==t||e&&this.original!==e||i&&this.handler!==i)},e}(),F=(o={},s=function(t,e,i,a,n,r){var l=n?"r":"$";if(e&&"*"!=e){var h,c=0,u=o[l+e],d="*"==t;if(!u)return;for(h=u.length;c<h;c++)if((d||u[c].matches(t,i,a))&&!r(u[c],u,c,e))return}else for(var p in o)p.charAt(0)==l&&s(t,p.substr(1),i,a,n,r)},{has:function(t,e,i,s){var a,n=o[(s?"r":"$")+e];if(n)for(a=n.length;a--;)if(!n[a].root&&n[a].matches(t,i,null))return!0;return!1},get:function(t,e,i,o){var a=[];return s(t,e,i,null,o,(function(t){return a.push(t)})),a},put:function(t){var e=!t.root&&!this.has(t.element,t.type,null,!1),i=(t.root?"r":"$")+t.type;return(o[i]||(o[i]=[])).push(t),e},del:function(t){s(t.element,t.type,null,t.handler,t.root,(function(t,e,i){return e.splice(i,1),t.removed=!0,0===e.length&&delete o[(t.root?"r":"$")+t.type],!1}))},entries:function(){var t,e=[];for(t in o)"$"==t.charAt(0)&&(e=e.concat(o[t]));return e}}),_=function(t){i=arguments.length?t:d.querySelectorAll?function(t,e){return e.querySelectorAll(t)}:function(){throw new Error("Bean: No selector engine installed")}},C=function(t,e){if(f||!e||!t||t.propertyName=="_on"+e){var i=F.get(this,e||t.type,null,!1),o=i.length,s=0;for(t=new k(t,this,!0),e&&(t.type=e);s<o&&!t.isImmediatePropagationStopped();s++)i[s].removed||i[s].handler.call(this,t)}},j=f?function(t,e,i){t[i?u:"removeEventListener"](e,C,!1)}:function(t,e,i,o){var s;i?(F.put(s=new T(t,o||e,(function(e){C.call(t,e,o)}),C,null,null,!0)),o&&null==t["_on"+o]&&(t["_on"+o]=0),s.target.attachEvent("on"+s.eventType,s.handler)):(s=F.get(t,o||e,C,!0)[0])&&(s.target.detachEvent("on"+s.eventType,s.handler),F.del(s))},O=function(t,e,i,o,s){return function(){o.apply(this,arguments),t(e,i,s)}},D=function(t,e,i,o){var s,a,n=e&&e.replace(c,""),r=F.get(t,n,null,!1),l={};for(s=0,a=r.length;s<a;s++)i&&r[s].original!==i||!r[s].inNamespaces(o)||(F.del(r[s]),!l[r[s].eventType]&&r[s][m]&&(l[r[s].eventType]={t:r[s].eventType,c:r[s].type}));for(s in l)F.has(t,l[s].t,null,!1)||j(t,l[s].t,!1,l[s].c)},A=f?function(t,e,i){var o=d.createEvent(t?"HTMLEvents":"UIEvents");o[t?"initEvent":"initUIEvent"](e,!0,!0,r,1),i.dispatchEvent(o)}:function(t,e,i){i=S(i,t),t?i.fireEvent("on"+e,d.createEventObject()):i["_on"+e]++},z=function(t,e,i){var o,s,a,n,r=b(e);if(r&&e.indexOf(" ")>0){for(n=(e=v(e)).length;n--;)z(t,e[n],i);return t}if((s=r&&e.replace(c,""))&&M[s]&&(s=M[s].base),!e||r)(a=r&&e.replace(h,""))&&(a=v(a,".")),D(t,s,i,a);else if(y(e))D(t,null,e);else for(o in e)e.hasOwnProperty(o)&&z(t,o,e[o]);return t},W=function(t,e,o,s){var a,n,r,l,u,d,p;if(void 0!==o||"object"!=typeof e){for(y(o)?(u=x.call(arguments,3),s=a=o):(a=s,u=x.call(arguments,4),s=function(t,e){var o=function(e,o){for(var s,a=b(t)?i(t,o):t;e&&e!==o;e=e.parentNode)for(s=a.length;s--;)if(a[s]===e)return e},s=function(t){var i=o(t.target,this);i&&e.apply(i,arguments)};return s.__beanDel={ft:o,selector:t},s}(o,a)),r=v(e),this===g&&(s=O(z,t,e,s,a)),l=r.length;l--;)p=F.put(d=new T(t,r[l].replace(c,""),s,a,v(r[l].replace(h,""),"."),u,!1)),d[m]&&p&&j(t,d.eventType,!0,d.customType);return t}for(n in e)e.hasOwnProperty(n)&&W.call(this,t,n,e[n])},P={on:W,add:function(t,e,i,o){return W.apply(null,b(i)?[t,i,e,o].concat(arguments.length>3?x.call(arguments,5):[]):x.call(arguments))},one:function(){return W.apply(g,arguments)},off:z,remove:z,clone:function(t,e,i){for(var o,s,a=F.get(e,i,null,!1),n=a.length,r=0;r<n;r++)a[r].original&&(o=[t,a[r].type],(s=a[r].handler.__beanDel)&&o.push(s.selector),o.push(a[r].original),W.apply(null,o));return t},fire:function(t,e,i){var o,s,a,n,r,l=v(e);for(o=l.length;o--;)if(e=l[o].replace(c,""),(n=l[o].replace(h,""))&&(n=v(n,".")),n||i||!t[m])for(r=F.get(t,e,null,!1),i=[!1].concat(i),s=0,a=r.length;s<a;s++)r[s].inNamespaces(n)&&r[s].handler.apply(t,i);else A(w[e],e,t);return t},Event:k,setSelectorEngine:_,noConflict:function(){return e[t]=l,this}};if(r.attachEvent){var H=function(){var t,e=F.entries();for(t in e)e[t].type&&"unload"!==e[t].type&&z(e[t].element,e[t].type);r.detachEvent("onunload",H),r.CollectGarbage&&r.CollectGarbage()};r.attachEvent("onunload",H)}return _(),P},t.exports?t.exports=a():void 0===(s="function"==typeof(o=a)?o.call(e,i,e,t):o)||(t.exports=s)},"../node_modules/flotr2/flotr2.amd.js":function(t,e,o){var s,a,n;n=this,s=[o("../node_modules/bean/bean.js"),o("./bundles/oroui/js/extend/underscore.js")],a=function(t,e){return n.Flotr=function(t,e){return function(){var i,o=this,s=this.Flotr;i={_:e,bean:t,isIphone:/iphone/i.test(navigator.userAgent),isIE:-1!=navigator.appVersion.indexOf("MSIE")&&parseFloat(navigator.appVersion.split("MSIE")[1]),graphTypes:{},plugins:{},addType:function(t,e){i.graphTypes[t]=e,i.defaultOptions[t]=e.options||{},i.defaultOptions.defaultType=i.defaultOptions.defaultType||t},addPlugin:function(t,e){i.plugins[t]=e,i.defaultOptions[t]=e.options||{}},draw:function(t,e,o,s){return new(s=s||i.Graph)(t,e,o)},merge:function(t,e){var o,s,a=e||{};for(o in t)(s=t[o])&&"object"==typeof s?s.constructor===Array?a[o]=this._.clone(s):s.constructor===RegExp||this._.isElement(s)?a[o]=s:a[o]=i.merge(s,e?e[o]:void 0):a[o]=s;return a},clone:function(t){return i.merge(t,{})},getTickSize:function(t,e,o,s){var a=(o-e)/t,n=i.getMagnitude(a),r=10,l=a/n;return l<1.5?r=1:l<2.25?r=2:l<3?r=0===s?2:2.5:l<7.5&&(r=5),r*n},defaultTickFormatter:function(t,e){return t+""},defaultTrackFormatter:function(t){return"("+t.x+", "+t.y+")"},engineeringNotation:function(t,e,i){var o=["Y","Z","E","P","T","G","M","k",""],s=o.length;if(i=i||1e3,e=Math.pow(10,e||2),0===t)return 0;if(t>1)for(;s--&&t>=i;)t/=i;else for(s=(o=["y","z","a","f","p","n","µ","m",""]).length;s--&&t<1;)t*=i;return Math.round(t*e)/e+o[s]},getMagnitude:function(t){return Math.pow(10,Math.floor(Math.log(t)/Math.LN10))},toPixel:function(t){return Math.floor(t)+.5},toRad:function(t){return-t*(Math.PI/180)},floorInBase:function(t,e){return e*Math.floor(t/e)},drawText:function(t,e,o,s,a){t.fillText?(a=this._.extend({size:i.defaultOptions.fontSize,color:"#000000",textAlign:"left",textBaseline:"bottom",weight:1,angle:0},a),t.save(),t.translate(o,s),t.rotate(a.angle),t.fillStyle=a.color,t.font=(a.weight>1?"bold ":"")+1.3*a.size+"px sans-serif",t.textAlign=a.textAlign,t.textBaseline=a.textBaseline,t.fillText(e,0,0),t.restore()):t.drawText(e,o,s,a)},getBestTextAlign:function(t,e){return e=e||{textAlign:"center",textBaseline:"middle"},t+=i.getTextAngleFromAlign(e),Math.abs(Math.cos(t))>.01&&(e.textAlign=Math.cos(t)>0?"right":"left"),Math.abs(Math.sin(t))>.01&&(e.textBaseline=Math.sin(t)>0?"top":"bottom"),e},alignTable:{"right middle":0,"right top":Math.PI/4,"center top":Math.PI/2,"left top":Math.PI/4*3,"left middle":Math.PI,"left bottom":Math.PI/4*-3,"center bottom":-Math.PI/2,"right bottom":-Math.PI/4,"center middle":0},getTextAngleFromAlign:function(t){return i.alignTable[t.textAlign+" "+t.textBaseline]||0},noConflict:function(){return o.Flotr=s,this}},o.Flotr=i}(),Flotr.defaultOptions={colors:["#00A8F0","#C0D800","#CB4B4B","#4DA74D","#9440ED"],ieBackgroundColor:"#FFFFFF",title:null,subtitle:null,shadowSize:4,defaultType:null,HtmlText:!0,fontColor:"#545454",fontSize:7.5,resolution:1,parseFloat:!0,preventDefault:!0,xaxis:{ticks:null,minorTicks:null,showLabels:!0,showMinorLabels:!1,labelsAngle:0,title:null,titleAngle:0,noTicks:5,minorTickFreq:null,tickFormatter:Flotr.defaultTickFormatter,tickDecimals:null,min:null,max:null,autoscale:!1,autoscaleMargin:0,color:null,mode:"normal",timeFormat:null,timeMode:"UTC",timeUnit:"millisecond",scaling:"linear",base:Math.E,titleAlign:"center",margin:!0},x2axis:{},yaxis:{ticks:null,minorTicks:null,showLabels:!0,showMinorLabels:!1,labelsAngle:0,title:null,titleAngle:90,noTicks:5,minorTickFreq:null,tickFormatter:Flotr.defaultTickFormatter,tickDecimals:null,min:null,max:null,autoscale:!1,autoscaleMargin:0,color:null,scaling:"linear",base:Math.E,titleAlign:"center",margin:!0},y2axis:{titleAngle:270},grid:{color:"#545454",backgroundColor:null,backgroundImage:null,watermarkAlpha:.4,tickColor:"#DDDDDD",labelMargin:3,verticalLines:!0,minorVerticalLines:null,horizontalLines:!0,minorHorizontalLines:null,outlineWidth:1,outline:"nsew",circular:!1},mouse:{track:!1,trackAll:!1,position:"se",relative:!1,trackFormatter:Flotr.defaultTrackFormatter,margin:5,lineColor:"#FF3F19",trackDecimals:1,sensibility:2,trackY:!0,radius:3,fillColor:null,fillOpacity:.4}},function(){var t=Flotr._;function e(t,e,i,o){this.rgba=["r","g","b","a"];for(var s=4;-1<--s;)this[this.rgba[s]]=arguments[s]||(3==s?1:0);this.normalize()}var i={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]};e.prototype={scale:function(e,i,o,s){for(var a=4;-1<--a;)t.isUndefined(arguments[a])||(this[this.rgba[a]]*=arguments[a]);return this.normalize()},alpha:function(e){return t.isUndefined(e)||t.isNull(e)||(this.a=e),this.normalize()},clone:function(){return new e(this.r,this.b,this.g,this.a)},limit:function(t,e,i){return Math.max(Math.min(t,i),e)},normalize:function(){var t=this.limit;return this.r=t(parseInt(this.r,10),0,255),this.g=t(parseInt(this.g,10),0,255),this.b=t(parseInt(this.b,10),0,255),this.a=t(this.a,0,1),this},distance:function(t){if(t){t=new e.parse(t);for(var i=0,o=3;-1<--o;)i+=Math.abs(this[this.rgba[o]]-t[this.rgba[o]]);return i}},toString:function(){return this.a>=1?"rgb("+[this.r,this.g,this.b].join(",")+")":"rgba("+[this.r,this.g,this.b,this.a].join(",")+")"},contrast:function(){return 1-(.299*this.r+.587*this.g+.114*this.b)/255<.5?"#000000":"#ffffff"}},t.extend(e,{parse:function(t){if(t instanceof e)return t;var o;if(o=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(t))return new e(parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16));if(o=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(t))return new e(parseInt(o[1],10),parseInt(o[2],10),parseInt(o[3],10));if(o=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(t))return new e(parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16));if(o=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(t))return new e(parseInt(o[1],10),parseInt(o[2],10),parseInt(o[3],10),parseFloat(o[4]));if(o=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(t))return new e(2.55*parseFloat(o[1]),2.55*parseFloat(o[2]),2.55*parseFloat(o[3]));if(o=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(t))return new e(2.55*parseFloat(o[1]),2.55*parseFloat(o[2]),2.55*parseFloat(o[3]),parseFloat(o[4]));var s=(t+"").replace(/^\s*([\S\s]*?)\s*$/,"$1").toLowerCase();return"transparent"==s?new e(255,255,255,0):(o=i[s])?new e(o[0],o[1],o[2]):new e(0,0,0,0)},processColor:function(i,o){var s=o.opacity;if(!i)return"rgba(0, 0, 0, 0)";if(i instanceof e)return i.alpha(s).toString();if(t.isString(i))return e.parse(i).alpha(s).toString();var a=i.colors?i:{colors:i};if(!o.ctx)return t.isArray(a.colors)?e.parse(t.isArray(a.colors[0])?a.colors[0][1]:a.colors[0]).alpha(s).toString():"rgba(0, 0, 0, 0)";a=t.extend({start:"top",end:"bottom"},a),/top/i.test(a.start)&&(o.x1=0),/left/i.test(a.start)&&(o.y1=0),/bottom/i.test(a.end)&&(o.x2=0),/right/i.test(a.end)&&(o.y2=0);var n,r,l,h=o.ctx.createLinearGradient(o.x1,o.y1,o.x2,o.y2);for(n=0;n<a.colors.length;n++)r=a.colors[n],t.isArray(r)?(l=r[0],r=r[1]):l=n/(a.colors.length-1),h.addColorStop(l,e.parse(r).alpha(s));return h}}),Flotr.Color=e}(),Flotr.Date={set:function(t,e,i,o){t[e="set"+("UTC"===(i=i||"UTC")?"UTC":"")+e](o)},get:function(t,e,i){return t[e="get"+("UTC"===(i=i||"UTC")?"UTC":"")+e]()},format:function(t,e,i){if(t){for(var o,s=this.get,a={h:s(t,"Hours",i).toString(),H:h(s(t,"Hours",i)),M:h(s(t,"Minutes",i)),S:h(s(t,"Seconds",i)),s:s(t,"Milliseconds",i),d:s(t,"Date",i).toString(),m:(s(t,"Month",i)+1).toString(),y:s(t,"FullYear",i).toString(),b:Flotr.Date.monthNames[s(t,"Month",i)]},n=[],r=!1,l=0;l<e.length;++l)o=e.charAt(l),r?(n.push(a[o]||o),r=!1):"%"==o?r=!0:n.push(o);return n.join("")}function h(t){return 1==(t+="").length?"0"+t:t}},getFormat:function(t,e){var i=Flotr.Date.timeUnits;return t<i.second?"%h:%M:%S.%s":t<i.minute?"%h:%M:%S":t<i.day?e<2*i.day?"%h:%M":"%b %d %h:%M":t<i.month?"%b %d":t<i.year?e<i.year?"%b":"%b %y":"%y"},formatter:function(t,e){var i=e.options,o=Flotr.Date.timeUnits[i.timeUnit],s=new Date(t*o);if(e.options.timeFormat)return Flotr.Date.format(s,i.timeFormat,i.timeMode);var a=(e.max-e.min)*o,n=e.tickSize*Flotr.Date.timeUnits[e.tickUnit];return Flotr.Date.format(s,Flotr.Date.getFormat(n,a),i.timeMode)},generator:function(t){var e,i,o,s=this.set,a=this.get,n=this.timeUnits,r=this.spec,l=t.options,h=l.timeMode,c=n[l.timeUnit],u=t.min*c,d=t.max*c,p=(d-u)/l.noTicks,f=[],m=t.tickSize;for(i=l.tickFormatter===Flotr.defaultTickFormatter?this.formatter:l.tickFormatter,o=0;o<r.length-1;++o){var g=r[o][0]*n[r[o][1]];if(p<(g+r[o+1][0]*n[r[o+1][1]])/2&&g>=m)break}m=r[o][0],"year"==(e=r[o][1])&&.5==(m=Flotr.getTickSize(l.noTicks*n.year,u,d,0))&&(e="month",m=6),t.tickUnit=e,t.tickSize=m;var x=m*n[e];function v(t){s(g,t,h,Flotr.floorInBase(a(g,t,h),m))}switch(g=new Date(u),e){case"millisecond":v("Milliseconds");break;case"second":v("Seconds");break;case"minute":v("Minutes");break;case"hour":v("Hours");break;case"month":v("Month");break;case"year":v("FullYear")}x>=n.second&&s(g,"Milliseconds",h,0),x>=n.minute&&s(g,"Seconds",h,0),x>=n.hour&&s(g,"Minutes",h,0),x>=n.day&&s(g,"Hours",h,0),x>=4*n.day&&s(g,"Date",h,1),x>=n.year&&s(g,"Month",h,0);var b,y=0,w=NaN;do{if(b=w,w=g.getTime(),f.push({v:w/c,label:i(w/c,t)}),"month"==e)if(m<1){s(g,"Date",h,1);var M=g.getTime();s(g,"Month",h,a(g,"Month",h)+1);var k=g.getTime();g.setTime(w+y*n.hour+(k-M)*m),y=a(g,"Hours",h),s(g,"Hours",h,0)}else s(g,"Month",h,a(g,"Month",h)+m);else"year"==e?s(g,"FullYear",h,a(g,"FullYear",h)+m):g.setTime(w+x)}while(w<d&&w!=b);return f},timeUnits:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,month:2592e6,year:31556952e3},spec:[[1,"millisecond"],[20,"millisecond"],[50,"millisecond"],[100,"millisecond"],[200,"millisecond"],[500,"millisecond"],[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[.25,"month"],[.5,"month"],[1,"month"],[2,"month"],[3,"month"],[6,"month"],[1,"year"]],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},function(){var t=Flotr._;Flotr.DOM={addClass:function(e,i){var o=e.className?e.className:"";t.include(o.split(/\s+/g),i)||(e.className=(o?o+" ":"")+i)},create:function(t){return document.createElement(t)},node:function(t){var e,i=Flotr.DOM.create("div");return i.innerHTML=t,e=i.children[0],i.innerHTML="",e},empty:function(t){t.innerHTML=""},hide:function(t){Flotr.DOM.setStyles(t,{display:"none"})},insert:function(e,i){t.isString(i)?e.innerHTML+=i:t.isElement(i)&&e.appendChild(i)},opacity:function(t,e){t.style.opacity=e},position:function(t,e){return t.offsetParent?((e=this.position(t.offsetParent)).left+=t.offsetLeft,e.top+=t.offsetTop,e):{left:t.offsetLeft||0,top:t.offsetTop||0}},removeClass:function(e,i){var o=e.className?e.className:"";e.className=t.filter(o.split(/\s+/g),(function(t){if(t!=i)return!0})).join(" ")},setStyles:function(e,i){t.each(i,(function(t,i){e.style[i]=t}))},show:function(t){Flotr.DOM.setStyles(t,{display:""})},size:function(t){return{height:t.offsetHeight,width:t.offsetWidth}}}}(),function(){var t=Flotr,e=t.bean;t.EventAdapter={observe:function(t,i,o){return e.add(t,i,o),this},fire:function(t,i,o){return e.fire(t,i,o),"undefined"!=typeof Prototype&&Event.fire(t,i,o),this},stopObserving:function(t,i,o){return e.remove(t,i,o),this},eventPointer:function(e){if(!t._.isUndefined(e.touches)&&e.touches.length>0)return{x:e.touches[0].pageX,y:e.touches[0].pageY};if(!t._.isUndefined(e.changedTouches)&&e.changedTouches.length>0)return{x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY};if(e.pageX||e.pageY)return{x:e.pageX,y:e.pageY};if(e.clientX||e.clientY){var i=document,o=i.body,s=i.documentElement;return{x:e.clientX+o.scrollLeft+s.scrollLeft,y:e.clientY+o.scrollTop+s.scrollTop}}}}}(),function(){var t=Flotr,e=t.DOM,i=t._,o=function(t){this.o=t};o.prototype={dimensions:function(t,e,i,o){return t?this.o.html?this.html(t,this.o.element,i,o):this.canvas(t,e):{width:0,height:0}},canvas:function(e,i){if(this.o.textEnabled){i=i||{};var o=this.measureText(e,i).width,s=i.size||t.defaultOptions.fontSize,a=i.angle||0,n=Math.cos(a),r=Math.sin(a);return{width:Math.abs(n*o)+Math.abs(r*s)+2,height:Math.abs(r*o)+Math.abs(n*s)+6}}},html:function(t,i,o,s){var a=e.create("div");return e.setStyles(a,{position:"absolute",top:"-10000px"}),e.insert(a,'<div style="'+o+'" class="'+s+' flotr-dummy-div">'+t+"</div>"),e.insert(this.o.element,a),e.size(a)},measureText:function(e,o){var s,a=this.o.ctx;return!a.fillText||t.isIphone&&a.measure?{width:a.measure(e,o)}:(o=i.extend({size:t.defaultOptions.fontSize,weight:1,angle:0},o),a.save(),a.font=(o.weight>1?"bold ":"")+1.3*o.size+"px sans-serif",s=a.measureText(e),a.restore(),s)}},Flotr.Text=o}(),function(){var t=Flotr.DOM,e=Flotr.EventAdapter,i=Flotr._,o=Flotr;function s(t,i,o){return e.observe.apply(this,arguments),this._handles.push(arguments),this}Graph=function(t,s,a){this._setEl(t),this._initMembers(),this._initPlugins(),e.fire(this.el,"flotr:beforeinit",[this]),this.data=s,this.series=o.Series.getSeries(s),this._initOptions(a),this._initGraphTypes(),this._initCanvas(),this._text=new o.Text({element:this.el,ctx:this.ctx,html:this.options.HtmlText,textEnabled:this.textEnabled}),e.fire(this.el,"flotr:afterconstruct",[this]),this._initEvents(),this.findDataRanges(),this.calculateSpacing(),this.draw(i.bind((function(){e.fire(this.el,"flotr:afterinit",[this])}),this))},Graph.prototype={destroy:function(){e.fire(this.el,"flotr:destroy"),i.each(this._handles,(function(t){e.stopObserving.apply(this,t)})),this._handles=[],this.el.graph=null},observe:s,_observe:s,processColor:function(t,e){var s={x1:0,y1:0,x2:this.plotWidth,y2:this.plotHeight,opacity:1,ctx:this.ctx};return i.extend(s,e),o.Color.processColor(t,s)},findDataRanges:function(){var t,e,s,a=this.axes;i.each(this.series,(function(i){(s=i.getRange())&&(t=i.xaxis,e=i.yaxis,t.datamin=Math.min(s.xmin,t.datamin),t.datamax=Math.max(s.xmax,t.datamax),e.datamin=Math.min(s.ymin,e.datamin),e.datamax=Math.max(s.ymax,e.datamax),t.used=t.used||s.xused,e.used=e.used||s.yused)}),this),a.x.used||a.x2.used||(a.x.used=!0),a.y.used||a.y2.used||(a.y.used=!0),i.each(a,(function(t){t.calculateRange()}));var n=i.keys(o.graphTypes),r=!1;i.each(this.series,(function(t){t.hide||(i.each(n,(function(e){t[e]&&t[e].show&&(this.extendRange(e,t),r=!0)}),this),r||this.extendRange(this.options.defaultType,t))}),this)},extendRange:function(t,e){this[t].extendRange&&this[t].extendRange(e,e.data,e[t],this[t]),this[t].extendYRange&&this[t].extendYRange(e.yaxis,e.data,e[t],this[t]),this[t].extendXRange&&this[t].extendXRange(e.xaxis,e.data,e[t],this[t])},calculateSpacing:function(){var t,e,o=this.axes,s=this.options,a=this.series,n=s.grid.labelMargin,r=this._text,l=o.x,h=o.x2,c=o.y,u=o.y2,d=s.grid.outlineWidth;for(i.each(o,(function(t){t.calculateTicks(),t.calculateTextDimensions(r,s)})),e=r.dimensions(s.title,{size:1.5*s.fontSize},"font-size:1em;font-weight:bold;","flotr-title"),this.titleHeight=e.height,e=r.dimensions(s.subtitle,{size:s.fontSize},"font-size:smaller;","flotr-subtitle"),this.subtitleHeight=e.height,t=0;t<s.length;++t)a[t].points.show&&(d=Math.max(d,a[t].points.radius+a[t].points.lineWidth/2));var p=this.plotOffset;!1===l.options.margin?(p.bottom=0,p.top=0):(p.bottom+=(s.grid.circular?0:l.used&&l.options.showLabels?l.maxLabel.height+n:0)+(l.used&&l.options.title?l.titleSize.height+n:0)+d,p.top+=(s.grid.circular?0:h.used&&h.options.showLabels?h.maxLabel.height+n:0)+(h.used&&h.options.title?h.titleSize.height+n:0)+this.subtitleHeight+this.titleHeight+d),!1===c.options.margin?(p.left=0,p.right=0):(p.left+=(s.grid.circular?0:c.used&&c.options.showLabels?c.maxLabel.width+n:0)+(c.used&&c.options.title?c.titleSize.width+n:0)+d,p.right+=(s.grid.circular?0:u.used&&u.options.showLabels?u.maxLabel.width+n:0)+(u.used&&u.options.title?u.titleSize.width+n:0)+d),p.top=Math.floor(p.top),this.plotWidth=this.canvasWidth-p.left-p.right,this.plotHeight=this.canvasHeight-p.bottom-p.top,l.length=h.length=this.plotWidth,c.length=u.length=this.plotHeight,c.offset=u.offset=this.plotHeight,l.setScale(),h.setScale(),c.setScale(),u.setScale()},draw:function(t){var i,o=this.ctx;if(e.fire(this.el,"flotr:beforedraw",[this.series,this]),this.series.length){for(o.save(),o.translate(this.plotOffset.left,this.plotOffset.top),i=0;i<this.series.length;i++)this.series[i].hide||this.drawSeries(this.series[i]);o.restore(),this.clip()}e.fire(this.el,"flotr:afterdraw",[this.series,this]),t&&t()},drawSeries:function(t){function e(t,e){var i=this.getOptions(t,e);this[e].draw(i)}var s=!1;t=t||this.series,i.each(o.graphTypes,(function(i,o){t[o]&&t[o].show&&this[o]&&(s=!0,e.call(this,t,o))}),this),s||e.call(this,t,this.options.defaultType)},getOptions:function(t,e){var i=t[e],s=(this[e],t.xaxis),a=t.yaxis,n={context:this.ctx,width:this.plotWidth,height:this.plotHeight,fontSize:this.options.fontSize,fontColor:this.options.fontColor,textEnabled:this.textEnabled,htmlText:this.options.HtmlText,text:this._text,element:this.el,data:t.data,color:t.color,shadowSize:t.shadowSize,xScale:s.d2p,yScale:a.d2p,xInverse:s.p2d,yInverse:a.p2d};return(n=o.merge(i,n)).fillStyle=this.processColor(i.fillColor||t.color,{opacity:i.fillOpacity}),n},getEventPosition:function(i){var o,s,a,n=document,r=n.body,l=n.documentElement,h=this.axes,c=this.plotOffset,u=this.lastMousePos,d=e.eventPointer(i),p=d.x-u.pageX,f=d.y-u.pageY;return"ontouchstart"in this.el?(o=t.position(this.overlay),s=d.x-o.left-c.left,a=d.y-o.top-c.top):(o=this.overlay.getBoundingClientRect(),s=i.clientX-o.left-c.left-r.scrollLeft-l.scrollLeft,a=i.clientY-o.top-c.top-r.scrollTop-l.scrollTop),{x:h.x.p2d(s),x2:h.x2.p2d(s),y:h.y.p2d(a),y2:h.y2.p2d(a),relX:s,relY:a,dX:p,dY:f,absX:d.x,absY:d.y,pageX:d.x,pageY:d.y}},clickHandler:function(t){if(this.ignoreClick)return this.ignoreClick=!1,this.ignoreClick;e.fire(this.el,"flotr:click",[this.getEventPosition(t),this])},mouseMoveHandler:function(t){if(!this.mouseDownMoveHandler){var i=this.getEventPosition(t);e.fire(this.el,"flotr:mousemove",[t,i,this]),this.lastMousePos=i}},mouseDownHandler:function(t){this.mouseUpHandler||(this.mouseUpHandler=i.bind((function(t){e.stopObserving(document,"mouseup",this.mouseUpHandler),e.stopObserving(document,"mousemove",this.mouseDownMoveHandler),this.mouseDownMoveHandler=null,this.mouseUpHandler=null,e.fire(this.el,"flotr:mouseup",[t,this])}),this),this.mouseDownMoveHandler=i.bind((function(i){var o=this.getEventPosition(i);e.fire(this.el,"flotr:mousemove",[t,o,this]),this.lastMousePos=o}),this),e.observe(document,"mouseup",this.mouseUpHandler),e.observe(document,"mousemove",this.mouseDownMoveHandler),e.fire(this.el,"flotr:mousedown",[t,this]),this.ignoreClick=!1)},drawTooltip:function(e,i,o,s){var a=this.getMouseTrack(),n="opacity:0.7;background-color:#000;color:#fff;display:none;position:absolute;padding:2px 8px;-moz-border-radius:4px;border-radius:4px;white-space:nowrap;",r=s.position,l=s.margin,h=this.plotOffset;null!==i&&null!==o?(s.relative?("n"==r.charAt(0)?n+="bottom:"+(l-h.top-o+this.canvasHeight)+"px;top:auto;":"s"==r.charAt(0)&&(n+="top:"+(l+h.top+o)+"px;bottom:auto;"),"e"==r.charAt(1)?n+="left:"+(l+h.left+i)+"px;right:auto;":"w"==r.charAt(1)&&(n+="right:"+(l-h.left-i+this.canvasWidth)+"px;left:auto;")):("n"==r.charAt(0)?n+="top:"+(l+h.top)+"px;bottom:auto;":"s"==r.charAt(0)&&(n+="bottom:"+(l+h.bottom)+"px;top:auto;"),"e"==r.charAt(1)?n+="right:"+(l+h.right)+"px;left:auto;":"w"==r.charAt(1)&&(n+="left:"+(l+h.left)+"px;right:auto;")),a.style.cssText=n,t.empty(a),t.insert(a,e),t.show(a)):t.hide(a)},clip:function(t){var e=this.plotOffset,i=this.canvasWidth,s=this.canvasHeight;t=t||this.ctx,o.isIE&&o.isIE<9?(t.save(),t.fillStyle=this.processColor(this.options.ieBackgroundColor),t.fillRect(0,0,i,e.top),t.fillRect(0,0,e.left,s),t.fillRect(0,s-e.bottom,i,e.bottom),t.fillRect(i-e.right,0,e.right,s),t.restore()):(t.clearRect(0,0,i,e.top),t.clearRect(0,0,e.left,s),t.clearRect(0,s-e.bottom,i,e.bottom),t.clearRect(i-e.right,0,e.right,s))},_initMembers:function(){this._handles=[],this.lastMousePos={pageX:null,pageY:null},this.plotOffset={left:0,right:0,top:0,bottom:0},this.ignoreClick=!0,this.prevHit=null},_initGraphTypes:function(){i.each(o.graphTypes,(function(t,e){this[e]=o.clone(t)}),this)},_initEvents:function(){var t,o,s,a=this.el;"ontouchstart"in a?(t=i.bind((function(i){s=!0,e.stopObserving(document,"touchend",t),e.fire(a,"flotr:mouseup",[event,this]),this.multitouches=null,o||this.clickHandler(i)}),this),this.observe(this.overlay,"touchstart",i.bind((function(i){o=!1,s=!1,this.ignoreClick=!1,i.touches&&i.touches.length>1&&(this.multitouches=i.touches),e.fire(a,"flotr:mousedown",[event,this]),this.observe(document,"touchend",t)}),this)),this.observe(this.overlay,"touchmove",i.bind((function(t){var i=this.getEventPosition(t);this.options.preventDefault&&t.preventDefault(),o=!0,this.multitouches||t.touches&&t.touches.length>1?this.multitouches=t.touches:s||e.fire(a,"flotr:mousemove",[event,i,this]),this.lastMousePos=i}),this))):this.observe(this.overlay,"mousedown",i.bind(this.mouseDownHandler,this)).observe(a,"mousemove",i.bind(this.mouseMoveHandler,this)).observe(this.overlay,"click",i.bind(this.clickHandler,this)).observe(a,"mouseout",(function(){e.fire(a,"flotr:mouseout")}))},_initCanvas:function(){var e,o,s,a=this.el,n=this.options,r=a.children,l=[];for(o=r.length;o--;)e=r[o],this.canvas||"flotr-canvas"!==e.className?this.overlay||"flotr-overlay"!==e.className?l.push(e):this.overlay=e:this.canvas=e;for(o=l.length;o--;)a.removeChild(l[o]);if(t.setStyles(a,{position:"relative"}),(s={}).width=a.clientWidth,s.height=a.clientHeight,s.width<=0||s.height<=0||n.resolution<=0)throw"Invalid dimensions for plot, width = "+s.width+", height = "+s.height+", resolution = "+n.resolution;function h(e,o){return e||(e=t.create("canvas"),"undefined"!=typeof FlashCanvas&&"function"==typeof e.getContext&&FlashCanvas.initElement(e),e.className="flotr-"+o,e.style.cssText="position:absolute;left:0px;top:0px;",t.insert(a,e)),i.each(s,(function(i,s){t.show(e),"canvas"==o&&e.getAttribute(s)===i||(e.setAttribute(s,i*n.resolution),e.style[s]=i+"px")})),e.context_=null,e}function c(t){window.G_vmlCanvasManager&&window.G_vmlCanvasManager.initElement(t);var e=t.getContext("2d");return window.G_vmlCanvasManager||e.scale(n.resolution,n.resolution),e}this.canvas=h(this.canvas,"canvas"),this.overlay=h(this.overlay,"overlay"),this.ctx=c(this.canvas),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.octx=c(this.overlay),this.octx.clearRect(0,0,this.overlay.width,this.overlay.height),this.canvasHeight=s.height,this.canvasWidth=s.width,this.textEnabled=!!this.ctx.drawText||!!this.ctx.fillText},_initPlugins:function(){i.each(o.plugins,(function(t,e){i.each(t.callbacks,(function(t,e){this.observe(this.el,e,i.bind(t,this))}),this),this[e]=o.clone(t),i.each(this[e],(function(t,o){i.isFunction(t)&&(this[e][o]=i.bind(t,this))}),this)}),this)},_initOptions:function(t){var s=o.clone(o.defaultOptions);s.x2axis=i.extend(i.clone(s.xaxis),s.x2axis),s.y2axis=i.extend(i.clone(s.yaxis),s.y2axis),this.options=o.merge(t||{},s),null===this.options.grid.minorVerticalLines&&"logarithmic"===this.options.xaxis.scaling&&(this.options.grid.minorVerticalLines=!0),null===this.options.grid.minorHorizontalLines&&"logarithmic"===this.options.yaxis.scaling&&(this.options.grid.minorHorizontalLines=!0),e.fire(this.el,"flotr:afterinitoptions",[this]),this.axes=o.Axis.getAxes(this.options);var a,n,r,l,h=[],c=[],u=this.series.length,d=this.series.length,p=this.options.colors,f=[],m=0;for(n=d-1;n>-1;--n)(a=this.series[n].color)&&(--d,i.isNumber(a)?h.push(a):f.push(o.Color.parse(a)));for(n=h.length-1;n>-1;--n)d=Math.max(d,h[n]+1);for(n=0;c.length<d;){a=p.length==n?new o.Color(100,100,100):o.Color.parse(p[n]);var g=1+(m%2==1?-1:1)*Math.ceil(m/2)*.2;a.scale(g,g,g),c.push(a),++n>=p.length&&(n=0,++m)}for(n=0,r=0;n<u;++n){for(var x in(l=this.series[n]).color?i.isNumber(l.color)&&(l.color=c[l.color].toString()):l.color=c[r++].toString(),l.xaxis||(l.xaxis=this.axes.x),1==l.xaxis?l.xaxis=this.axes.x:2==l.xaxis&&(l.xaxis=this.axes.x2),l.yaxis||(l.yaxis=this.axes.y),1==l.yaxis?l.yaxis=this.axes.y:2==l.yaxis&&(l.yaxis=this.axes.y2),o.graphTypes)l[x]=i.extend(i.clone(this.options[x]),l[x]);l.mouse=i.extend(i.clone(this.options.mouse),l.mouse),i.isUndefined(l.shadowSize)&&(l.shadowSize=this.options.shadowSize)}},_setEl:function(t){if(!t)throw"The target container doesn't exist";if(t.graph instanceof Graph)t.graph.destroy();else if(!t.clientWidth)throw"The target container must be visible";t.graph=this,this.el=t}},Flotr.Graph=Graph}(),function(){var t=Flotr._;function e(e){this.orientation=1,this.offset=0,this.datamin=Number.MAX_VALUE,this.datamax=-Number.MAX_VALUE,t.extend(this,e)}function o(t,e){return t=Math.log(Math.max(t,Number.MIN_VALUE)),e!==Math.E&&(t/=Math.log(e)),t}e.prototype={setScale:function(){var t,e=this.length,i=this.max,s=this.min,a=this.offset,n=this.orientation,r=this.options,l="logarithmic"===r.scaling;t=l?e/(o(i,r.base)-o(s,r.base)):e/(i-s),this.scale=t,l?(this.d2p=function(e){return a+n*(o(e,r.base)-o(s,r.base))*t},this.p2d=function(e){return i=(a+n*e)/t+o(s,r.base),(l=r.base)===Math.E?Math.exp(i):Math.pow(l,i);var i,l}):(this.d2p=function(e){return a+n*(e-s)*t},this.p2d=function(e){return(a+n*e)/t+s})},calculateTicks:function(){var e=this.options;this.ticks=[],this.minorTicks=[],e.ticks?(this._cleanUserTicks(e.ticks,this.ticks),this._cleanUserTicks(e.minorTicks||[],this.minorTicks)):"time"==e.mode?this._calculateTimeTicks():"logarithmic"===e.scaling?this._calculateLogTicks():this._calculateTicks(),t.each(this.ticks,(function(t){t.label+=""})),t.each(this.minorTicks,(function(t){t.label+=""}))},calculateRange:function(){if(this.used){var t=this,e=t.options,i=null!==e.min?e.min:t.datamin,o=null!==e.max?e.max:t.datamax,s=e.autoscaleMargin;if("logarithmic"==e.scaling&&(i<=0&&(i=t.datamin),o<=0&&(o=i)),o==i){var a=o?.01:1;null===e.min&&(i-=a),null===e.max&&(o+=a)}if("logarithmic"===e.scaling){i<0&&(i=o/e.base);var n=Math.log(o);e.base!=Math.E&&(n/=Math.log(e.base)),n=Math.ceil(n);var r=Math.log(i);e.base!=Math.E&&(r/=Math.log(e.base)),r=Math.ceil(r),t.tickSize=Flotr.getTickSize(e.noTicks,r,n,null===e.tickDecimals?0:e.tickDecimals),null===e.minorTickFreq&&(e.minorTickFreq=n-r>10?0:n-r>5?2:5)}else t.tickSize=Flotr.getTickSize(e.noTicks,i,o,e.tickDecimals);t.min=i,t.max=o,null===e.min&&e.autoscale&&(t.min-=t.tickSize*s,t.min<0&&t.datamin>=0&&(t.min=0),t.min=t.tickSize*Math.floor(t.min/t.tickSize)),null===e.max&&e.autoscale&&(t.max+=t.tickSize*s,t.max>0&&t.datamax<=0&&t.datamax!=t.datamin&&(t.max=0),t.max=t.tickSize*Math.ceil(t.max/t.tickSize)),t.min==t.max&&(t.max=t.min+1)}},calculateTextDimensions:function(t,e){var i,o="";if(this.options.showLabels)for(i=0;i<this.ticks.length;++i)this.ticks[i].label.length>o.length&&(o=this.ticks[i].label);this.maxLabel=t.dimensions(o,{size:e.fontSize,angle:Flotr.toRad(this.options.labelsAngle)},"font-size:smaller;","flotr-grid-label"),this.titleSize=t.dimensions(this.options.title,{size:1.2*e.fontSize,angle:Flotr.toRad(this.options.titleAngle)},"font-weight:bold;","flotr-axis-title")},_cleanUserTicks:function(e,i){var o,s,a,n,r=this,l=this.options;for(t.isFunction(e)&&(e=e({min:r.min,max:r.max})),s=0;s<e.length;++s)"object"==typeof(n=e[s])?(o=n[0],a=n.length>1?n[1]:l.tickFormatter(o,{min:r.min,max:r.max})):(o=n,a=l.tickFormatter(o,{min:this.min,max:this.max})),i[s]={v:o,label:a}},_calculateTimeTicks:function(){this.ticks=Flotr.Date.generator(this)},_calculateLogTicks:function(){var t,e,o=this,s=o.options,a=Math.log(o.max);s.base!=Math.E&&(a/=Math.log(s.base)),a=Math.ceil(a);var n=Math.log(o.min);for(s.base!=Math.E&&(n/=Math.log(s.base)),n=Math.ceil(n),i=n;i<a;i+=o.tickSize){var r=(e=s.base==Math.E?Math.exp(i):Math.pow(s.base,i))*(s.base==Math.E?Math.exp(o.tickSize):Math.pow(s.base,o.tickSize)),l=(r-e)/s.minorTickFreq;for(o.ticks.push({v:e,label:s.tickFormatter(e,{min:o.min,max:o.max})}),t=e+l;t<r;t+=l)o.minorTicks.push({v:t,label:s.tickFormatter(t,{min:o.min,max:o.max})})}e=s.base==Math.E?Math.exp(i):Math.pow(s.base,i),o.ticks.push({v:e,label:s.tickFormatter(e,{min:o.min,max:o.max})})},_calculateTicks:function(){var t,e,i,o,s,a,n=this,r=n.options,l=n.tickSize,h=n.min,c=n.max,u=l*Math.ceil(h/l);for(r.minorTickFreq&&(e=l/r.minorTickFreq),s=0;(i=o=u+s*l)<=c;++s)if(null===(t=r.tickDecimals)&&(t=1-Math.floor(Math.log(l)/Math.LN10)),t<0&&(t=0),i=i.toFixed(t),n.ticks.push({v:i,label:r.tickFormatter(i,{min:n.min,max:n.max})}),r.minorTickFreq)for(a=0;a<r.minorTickFreq&&s*l+a*e<c;++a)i=o+a*e,n.minorTicks.push({v:i,label:r.tickFormatter(i,{min:n.min,max:n.max})})}},t.extend(e,{getAxes:function(t){return{x:new e({options:t.xaxis,n:1,length:this.plotWidth}),x2:new e({options:t.x2axis,n:2,length:this.plotWidth}),y:new e({options:t.yaxis,n:1,length:this.plotHeight,offset:this.plotHeight,orientation:-1}),y2:new e({options:t.y2axis,n:2,length:this.plotHeight,offset:this.plotHeight,orientation:-1})}}}),Flotr.Axis=e}(),function(){var t=Flotr._;function e(e){t.extend(this,e)}e.prototype={getRange:function(){var t,e,i,o=this.data,s=o.length,a=Number.MAX_VALUE,n=Number.MAX_VALUE,r=-Number.MAX_VALUE,l=-Number.MAX_VALUE,h=!1,c=!1;if(s<0||this.hide)return!1;for(i=0;i<s;i++)null!==(t=o[i][0])&&(t<a&&(a=t,h=!0),t>r&&(r=t,h=!0)),null!==(e=o[i][1])&&(e<n&&(n=e,c=!0),e>l&&(l=e,c=!0));return{xmin:a,xmax:r,ymin:n,ymax:l,xused:h,yused:c}}},t.extend(e,{getSeries:function(i){return t.map(i,(function(i){var o;return i.data?(o=new e,t.extend(o,i)):o=new e({data:i}),o}))}}),Flotr.Series=e}(),Flotr.addType("lines",{options:{show:!1,lineWidth:2,fill:!1,fillBorder:!1,fillColor:null,fillOpacity:.4,steps:!1,stacked:!1},stack:{values:[]},draw:function(t){var e,i=t.context,o=t.lineWidth,s=t.shadowSize;i.save(),i.lineJoin="round",s&&(i.lineWidth=s/2,e=o/2+i.lineWidth/2,i.strokeStyle="rgba(0,0,0,0.1)",this.plot(t,e+s/2,!1),i.strokeStyle="rgba(0,0,0,0.2)",this.plot(t,e,!1)),i.lineWidth=o,i.strokeStyle=t.color,this.plot(t,0,!0),i.restore()},plot:function(t,e,i){var o,s,a,n,r,l,h,c=t.context,u=t.width,d=t.height,p=t.xScale,f=t.yScale,m=t.data,g=!!t.stacked&&this.stack,x=m.length-1,v=null,b=null,y=f(0),w=null;if(!(x<1)){for(c.beginPath(),h=0;h<x;++h)null!==m[h][1]&&null!==m[h+1][1]?(o=p(m[h][0]),s=p(m[h+1][0]),null===w&&(w=m[h]),g?(r=g.values[m[h][0]]||0,l=g.values[m[h+1][0]]||g.values[m[h][0]]||0,a=f(m[h][1]+r),n=f(m[h+1][1]+l),i&&(g.values[m[h][0]]=m[h][1]+r,h==x-1&&(g.values[m[h+1][0]]=m[h+1][1]+l))):(a=f(m[h][1]),n=f(m[h+1][1])),a>d&&n>d||a<0&&n<0||o<0&&s<0||o>u&&s>u||(v==o&&b==a+e||c.moveTo(o,a+e),v=s,b=n+e,t.steps?(c.lineTo(v+e/2,a+e),c.lineTo(v+e/2,b)):c.lineTo(v,b))):t.fill&&h>0&&m[h][1]&&(c.stroke(),M(),w=null,c.closePath(),c.beginPath());(!t.fill||t.fill&&!t.fillBorder)&&c.stroke(),M(),c.closePath()}function M(){!e&&t.fill&&w&&(o=p(w[0]),c.fillStyle=t.fillStyle,c.lineTo(s,y),c.lineTo(o,y),c.lineTo(o,f(w[1])),c.fill(),t.fillBorder&&c.stroke())}},extendYRange:function(t,e,i,o){var s=t.options;if(i.stacked&&(!s.max&&0!==s.max||!s.min&&0!==s.min)){var a,n,r=t.max,l=t.min,h=o.positiveSums||{},c=o.negativeSums||{};for(n=0;n<e.length;n++)a=e[n][0]+"",e[n][1]>0?(h[a]=(h[a]||0)+e[n][1],r=Math.max(r,h[a])):(c[a]=(c[a]||0)+e[n][1],l=Math.min(l,c[a]));o.negativeSums=c,o.positiveSums=h,t.max=r,t.min=l}i.steps&&(this.hit=function(t){var e,i=t.data,o=t.args,s=t.yScale,a=o[0],n=i.length,r=o[1],l=t.xInverse(a.relX),h=a.relY;for(e=0;e<n-1;e++)if(l>=i[e][0]&&l<=i[e+1][0]){Math.abs(s(i[e][1])-h)<8&&(r.x=i[e][0],r.y=i[e][1],r.index=e,r.seriesIndex=t.index);break}},this.drawHit=function(t){var e,i=t.context,o=t.args,s=t.data,a=t.xScale,n=o.index,r=a(o.x),l=t.yScale(o.y);s.length-1>n&&(e=t.xScale(s[n+1][0]),i.save(),i.strokeStyle=t.color,i.lineWidth=t.lineWidth,i.beginPath(),i.moveTo(r,l),i.lineTo(e,l),i.stroke(),i.closePath(),i.restore())},this.clearHit=function(t){var e,i=t.context,o=t.args,s=t.data,a=t.xScale,n=t.lineWidth,r=o.index,l=a(o.x),h=t.yScale(o.y);s.length-1>r&&(e=t.xScale(s[r+1][0]),i.clearRect(l-n,h-n,e-l+2*n,2*n))})}}),Flotr.addType("bars",{options:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,fillOpacity:.4,horizontal:!1,stacked:!1,centered:!0,topPadding:.1,grouped:!1},stack:{positive:[],negative:[],_positive:[],_negative:[]},draw:function(t){var e=t.context;this.current+=1,e.save(),e.lineJoin="miter",e.lineWidth=t.lineWidth,e.strokeStyle=t.color,t.fill&&(e.fillStyle=t.fillStyle),this.plot(t),e.restore()},plot:function(t){var e,i,o,s,a,n,r=t.data,l=t.context,h=t.shadowSize;if(!(r.length<1))for(this.translate(l,t.horizontal),e=0;e<r.length;e++)null!==(i=this.getBarGeometry(r[e][0],r[e][1],t))&&(o=i.left,s=i.top,a=i.width,n=i.height,t.fill&&l.fillRect(o,s,a,n),h&&(l.save(),l.fillStyle="rgba(0,0,0,0.05)",l.fillRect(o+h,s+h,a,n),l.restore()),t.lineWidth&&l.strokeRect(o,s,a,n))},translate:function(t,e){e&&(t.rotate(-Math.PI/2),t.scale(-1,1))},getBarGeometry:function(t,e,i){var o,s,a,n,r,l=i.horizontal,h=i.barWidth,c=i.centered,u=!!i.stacked&&this.stack,d=i.lineWidth,p=c?h/2:0,f=l?i.yScale:i.xScale,m=l?i.xScale:i.yScale,g=l?e:t,x=l?t:e,v=0;return i.grouped&&(this.current,this.groups,g-=p,p=(h/=this.groups)/2,g=g+h*this.current-p),u&&(v=(o=x>0?u.positive:u.negative)[g]||v,o[g]=v+x),s=f(g-p),a=f(g+h-p),n=m(x+v),(r=m(v))<0&&(r=0),null===t||null===e?null:{x:g,y:x,xScale:f,yScale:m,top:n,left:Math.min(s,a)-d/2,width:Math.abs(a-s)-d,height:r-n}},hit:function(t){var e,i,o=t.data,s=t.args,a=s[0],n=s[1],r=t.xInverse(a.relX),l=t.yInverse(a.relY),h=this.getBarGeometry(r,l,t),c=h.width/2,u=h.left,d=h.y;for(i=o.length;i--;)e=this.getBarGeometry(o[i][0],o[i][1],t),(d>0&&d<e.y||d<0&&d>e.y)&&Math.abs(u-e.left)<c&&(n.x=o[i][0],n.y=o[i][1],n.index=i,n.seriesIndex=t.index)},drawHit:function(t){var e=t.context,i=t.args,o=this.getBarGeometry(i.x,i.y,t),s=o.left,a=o.top,n=o.width,r=o.height;e.save(),e.strokeStyle=t.color,e.lineWidth=t.lineWidth,this.translate(e,t.horizontal),e.beginPath(),e.moveTo(s,a+r),e.lineTo(s,a),e.lineTo(s+n,a),e.lineTo(s+n,a+r),t.fill&&(e.fillStyle=t.fillStyle,e.fill()),e.stroke(),e.closePath(),e.restore()},clearHit:function(t){var e=t.context,i=t.args,o=this.getBarGeometry(i.x,i.y,t),s=o.left,a=o.width,n=o.top,r=o.height,l=2*t.lineWidth;e.save(),this.translate(e,t.horizontal),e.clearRect(s-l,Math.min(n,n+r)-l,a+2*l,Math.abs(r)+2*l),e.restore()},extendXRange:function(t,e,i,o){this._extendRange(t,e,i,o),this.groups=this.groups+1||1,this.current=0},extendYRange:function(t,e,i,o){this._extendRange(t,e,i,o)},_extendRange:function(t,i,o,s){var a=t.options.max;if(!e.isNumber(a)&&!e.isString(a)){var n,r,l,h=t.min,c=t.max,u=o.horizontal,d=t.orientation,p=this.positiveSums||{},f=this.negativeSums||{};if((1==d&&!u||-1==d&&u)&&o.centered&&(c=Math.max(t.datamax+o.barWidth,c),h=Math.min(t.datamin-o.barWidth,h)),o.stacked&&(1==d&&u||-1==d&&!u))for(l=i.length;l--;)n=i[l][1==d?1:0]+"",(r=i[l][1==d?0:1])>0?(p[n]=(p[n]||0)+r,c=Math.max(c,p[n])):(f[n]=(f[n]||0)+r,h=Math.min(h,f[n]));(1==d&&u||-1==d&&!u)&&o.topPadding&&(t.max===t.datamax||o.stacked&&this.stackMax!==c)&&(c+=o.topPadding*(c-h)),this.stackMin=h,this.stackMax=c,this.negativeSums=f,this.positiveSums=p,t.max=c,t.min=h}}}),Flotr.addType("bubbles",{options:{show:!1,lineWidth:2,fill:!0,fillOpacity:.4,baseRadius:2},draw:function(t){var e=t.context,i=t.shadowSize;e.save(),e.lineWidth=t.lineWidth,e.fillStyle="rgba(0,0,0,0.05)",e.strokeStyle="rgba(0,0,0,0.05)",this.plot(t,i/2),e.strokeStyle="rgba(0,0,0,0.1)",this.plot(t,i/4),e.strokeStyle=t.color,e.fillStyle=t.fillStyle,this.plot(t),e.restore()},plot:function(t,e){var i,o,s=t.data,a=t.context;for(e=e||0,o=0;o<s.length;++o)i=this.getGeometry(s[o],t),a.beginPath(),a.arc(i.x+e,i.y+e,i.z,0,2*Math.PI,!0),a.stroke(),t.fill&&a.fill(),a.closePath()},getGeometry:function(t,e){return{x:e.xScale(t[0]),y:e.yScale(t[1]),z:t[2]*e.baseRadius}},hit:function(t){var e,o,s,a=t.data,n=t.args,r=n[0],l=n[1],h=r.relX,c=r.relY;for(l.best=l.best||Number.MAX_VALUE,i=a.length;i--;)o=(e=this.getGeometry(a[i],t)).x-h,s=e.y-c,Math.sqrt(o*o+s*s)<e.z&&e.z<l.best&&(l.x=a[i][0],l.y=a[i][1],l.index=i,l.seriesIndex=t.index,l.best=e.z)},drawHit:function(t){var e=t.context,i=this.getGeometry(t.data[t.args.index],t);e.save(),e.lineWidth=t.lineWidth,e.fillStyle=t.fillStyle,e.strokeStyle=t.color,e.beginPath(),e.arc(i.x,i.y,i.z,0,2*Math.PI,!0),e.fill(),e.stroke(),e.closePath(),e.restore()},clearHit:function(t){var e=t.context,i=this.getGeometry(t.data[t.args.index],t),o=i.z+t.lineWidth;e.save(),e.clearRect(i.x-o,i.y-o,2*o,2*o),e.restore()}}),Flotr.addType("candles",{options:{show:!1,lineWidth:1,wickLineWidth:1,candleWidth:.6,fill:!0,upFillColor:"#00A8F0",downFillColor:"#CB4B4B",fillOpacity:.5,barcharts:!1},draw:function(t){var e=t.context;e.save(),e.lineJoin="miter",e.lineCap="butt",e.lineWidth=t.wickLineWidth||t.lineWidth,this.plot(t),e.restore()},plot:function(t){var e,i,o,s,a,n,r,l,h,c,u,d,p,f,m,g=t.data,x=t.context,v=t.xScale,b=t.yScale,y=t.candleWidth/2,w=t.shadowSize,M=t.lineWidth,k=t.wickLineWidth,S=k%2/2;if(!(g.length<1))for(m=0;m<g.length;m++)o=(i=g[m])[0],a=i[1],n=i[2],r=i[3],l=i[4],h=v(o-y),c=v(o+y),u=b(r),d=b(n),p=b(Math.min(a,l)),f=b(Math.max(a,l)),e=t[a>l?"downFillColor":"upFillColor"],t.fill&&!t.barcharts&&(x.fillStyle="rgba(0,0,0,0.05)",x.fillRect(h+w,f+w,c-h,p-f),x.save(),x.globalAlpha=t.fillOpacity,x.fillStyle=e,x.fillRect(h,f+M,c-h,p-f),x.restore()),(M||k)&&(o=Math.floor((h+c)/2)+S,x.strokeStyle=e,x.beginPath(),t.barcharts?(x.moveTo(o,Math.floor(d+y)),x.lineTo(o,Math.floor(u+y)),s=Math.floor(a+y)+.5,x.moveTo(Math.floor(h)+S,s),x.lineTo(o,s),s=Math.floor(l+y)+.5,x.moveTo(Math.floor(c)+S,s),x.lineTo(o,s)):(x.strokeRect(h,f+M,c-h,p-f),x.moveTo(o,Math.floor(f+M)),x.lineTo(o,Math.floor(d+M)),x.moveTo(o,Math.floor(p+M)),x.lineTo(o,Math.floor(u+M))),x.closePath(),x.stroke())},extendXRange:function(t,e,i){null===t.options.max&&(t.max=Math.max(t.datamax+.5,t.max),t.min=Math.min(t.datamin-.5,t.min))}}),Flotr.addType("gantt",{options:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,fillOpacity:.4,centered:!0},draw:function(t){var e=this.ctx,i=t.gantt.barWidth,o=Math.min(t.gantt.lineWidth,i);if(e.save(),e.translate(this.plotOffset.left,this.plotOffset.top),e.lineJoin="miter",e.lineWidth=o,e.strokeStyle=t.color,e.save(),this.gantt.plotShadows(t,i,0,t.gantt.fill),e.restore(),t.gantt.fill){var s=t.gantt.fillColor||t.color;e.fillStyle=this.processColor(s,{opacity:t.gantt.fillOpacity})}this.gantt.plot(t,i,0,t.gantt.fill),e.restore()},plot:function(t,e,i,o){var s=t.data;if(!(s.length<1)){var a,n=t.xaxis,r=t.yaxis,l=this.ctx;for(a=0;a<s.length;a++){var h=s[a][0],c=s[a][1],u=s[a][2],d=!0,p=!0;if(null!==c&&null!==u){var f=c,m=c+u,g=h-(t.gantt.centered?e/2:0),x=h+e-(t.gantt.centered?e/2:0);m<n.min||f>n.max||x<r.min||g>r.max||(f<n.min&&(f=n.min,d=!1),m>n.max&&(m=n.max,n.lastSerie!=t&&(p=!1)),g<r.min&&(g=r.min),x>r.max&&(x=r.max,r.lastSerie!=t&&(p=!1)),o&&(l.beginPath(),l.moveTo(n.d2p(f),r.d2p(g)+i),l.lineTo(n.d2p(f),r.d2p(x)+i),l.lineTo(n.d2p(m),r.d2p(x)+i),l.lineTo(n.d2p(m),r.d2p(g)+i),l.fill(),l.closePath()),t.gantt.lineWidth&&(l.beginPath(),l.moveTo(n.d2p(f),r.d2p(g)+i),l[d?"lineTo":"moveTo"](n.d2p(f),r.d2p(x)+i),l[p?"lineTo":"moveTo"](n.d2p(m),r.d2p(x)+i),l.lineTo(n.d2p(m),r.d2p(g)+i),l.stroke(),l.closePath()))}}}},plotShadows:function(t,e,i){var o=t.data;if(!(o.length<1)){var s,a,n,r,l=t.xaxis,h=t.yaxis,c=this.ctx,u=this.options.shadowSize;for(s=0;s<o.length;s++)if(a=o[s][0],n=o[s][1],r=o[s][2],null!==n&&null!==r){var d=n,p=n+r,f=a-(t.gantt.centered?e/2:0),m=a+e-(t.gantt.centered?e/2:0);if(!(p<l.min||d>l.max||m<h.min||f>h.max)){d<l.min&&(d=l.min),p>l.max&&(p=l.max),f<h.min&&(f=h.min),m>h.max&&(m=h.max);var g=l.d2p(p)-l.d2p(d)-(l.d2p(p)+u<=this.plotWidth?0:u),x=h.d2p(f)-h.d2p(m)-(h.d2p(f)+u<=this.plotHeight?0:u);c.fillStyle="rgba(0,0,0,0.05)",c.fillRect(Math.min(l.d2p(d)+u,this.plotWidth),Math.min(h.d2p(m)+u,this.plotHeight),g,x)}}}},extendXRange:function(t){if(null===t.options.max){var e,i,o,s,a=t.min,n=t.max,r={},l=null;for(e=0;e<this.series.length;++e)if((s=(o=this.series[e]).gantt).show&&o.xaxis==t){for(i=0;i<o.data.length;i++)s.show&&(y=o.data[i][0]+"",r[y]=Math.max(r[y]||0,o.data[i][1]+o.data[i][2]),l=o);for(i in r)n=Math.max(r[i],n)}t.lastSerie=l,t.max=n,t.min=a}},extendYRange:function(t){if(null===t.options.max){var e,i,o,s,a=Number.MIN_VALUE,n=Number.MAX_VALUE;for(e=0;e<this.series.length;++e)if((s=(o=this.series[e]).gantt).show&&!o.hide&&o.yaxis==t){var r=Number.MIN_VALUE,l=Number.MAX_VALUE;for(i=0;i<o.data.length;i++)r=Math.max(r,o.data[i][0]),l=Math.min(l,o.data[i][0]);s.centered?(a=Math.max(r+.5,a),n=Math.min(l-.5,n)):(a=Math.max(r+1,a),n=Math.min(l,n)),s.barWidth+r>a&&(a=t.max+s.barWidth)}t.lastSerie=null,t.max=a,t.min=n,t.tickSize=Flotr.getTickSize(t.options.noTicks,n,a,t.options.tickDecimals)}}}),function(){function t(t){return"object"==typeof t&&t.constructor&&(!!Image||t.constructor===Image)}Flotr.defaultMarkerFormatter=function(t){return Math.round(100*t.y)/100+""},Flotr.addType("markers",{options:{show:!1,lineWidth:1,color:"#000000",fill:!1,fillColor:"#FFFFFF",fillOpacity:.4,stroke:!1,position:"ct",verticalMargin:0,labelFormatter:Flotr.defaultMarkerFormatter,fontSize:Flotr.defaultOptions.fontSize,stacked:!1,stackingType:"b",horizontal:!1},stack:{positive:[],negative:[],values:[]},draw:function(t){var e,i,o,s,a,n,r,l=t.data,h=t.context,c=!!t.stacked&&t.stack,u=t.stackingType;function d(t,o){return i=c.negative[t]||0,e=c.positive[t]||0,o>0?(c.positive[t]=i+o,i+o):(c.negative[t]=e+o,e+o)}for(h.save(),h.lineJoin="round",h.lineWidth=t.lineWidth,h.strokeStyle="rgba(0,0,0,0.5)",h.fillStyle=t.fillStyle,s=0;s<l.length;++s)a=l[s][0],n=l[s][1],c&&("b"==u?t.horizontal?n=d(n,a):a=d(a,n):"a"==u&&(o=c.values[a]||0,c.values[a]=o+n,n=o+n)),r=t.labelFormatter({x:a,y:n,index:s,data:l}),this.plot(t.xScale(a),t.yScale(n),r,t);h.restore()},plot:function(e,i,o,s){if(s.context,t(o)&&!o.complete)throw"Marker image not loaded.";this._plot(e,i,o,s)},_plot:function(e,i,o,s){var a,n=s.context,r=e,l=i;(a=t(o)?{height:o.height,width:o.width}:s.text.canvas(o)).width=Math.floor(a.width+4),a.height=Math.floor(a.height+4),-1!=s.position.indexOf("c")?r-=a.width/2+2:-1!=s.position.indexOf("l")&&(r-=a.width),-1!=s.position.indexOf("m")?l-=a.height/2+2:-1!=s.position.indexOf("t")?l-=a.height+s.verticalMargin:l+=s.verticalMargin,r=Math.floor(r)+.5,l=Math.floor(l)+.5,s.fill&&n.fillRect(r,l,a.width,a.height),s.stroke&&n.strokeRect(r,l,a.width,a.height),t(o)?n.drawImage(o,r+2,l+2):Flotr.drawText(n,o,r+2,l+2,{textBaseline:"top",textAlign:"left",size:s.fontSize,color:s.color})}})}(),Flotr._,Flotr.defaultPieLabelFormatter=function(t,e){return(100*e/t).toFixed(2)+"%"},Flotr.addType("pie",{options:{show:!1,lineWidth:1,fill:!0,fillColor:null,fillOpacity:.6,explode:6,sizeRatio:.6,startAngle:Math.PI/4,labelFormatter:Flotr.defaultPieLabelFormatter,pie3D:!1,pie3DviewAngle:Math.PI/2*.8,pie3DspliceThickness:20,epsilon:.1},draw:function(t){var e,i,o,s=t.data,a=t.context,n=a.canvas,r=t.lineWidth,l=t.shadowSize,h=t.sizeRatio,c=t.height,u=t.width,d=t.explode,p=t.color,f=t.fill,m=t.fillStyle,g=Math.min(n.width,n.height)*h/2,x=s[0][1],v=[],b=2*Math.PI*x/this.total,y=this.startAngle||2*Math.PI*t.startAngle,w=y+b,M=y+b/2,k=t.labelFormatter(this.total,x),S=d+g+4,T=Math.cos(M)*S,F=Math.sin(M)*S,_=T<0?"right":"left",C=F>0?"top":"bottom";if(a.save(),a.translate(u/2,c/2),a.scale(1,1),i=Math.cos(M)*d,o=Math.sin(M)*d,l>0&&(this.plotSlice(i+l,o+l,g,y,w,a),f&&(a.fillStyle="rgba(0,0,0,0.1)",a.fill())),this.plotSlice(i,o,g,y,w,a),f&&(a.fillStyle=m,a.fill()),a.lineWidth=r,a.strokeStyle=p,a.stroke(),e={size:1.2*t.fontSize,color:t.fontColor,weight:1.5},k&&(t.htmlText||!t.textEnabled?(divStyle="position:absolute;"+C+":"+(c/2+("top"===C?F:-F))+"px;",divStyle+=_+":"+(u/2+("right"===_?-T:T))+"px;",v.push('<div style="',divStyle,'" class="flotr-grid-label">',k,"</div>")):(e.textAlign=_,e.textBaseline=C,Flotr.drawText(a,k,T,F,e))),t.htmlText||!t.textEnabled){var j=Flotr.DOM.node('<div style="color:'+t.fontColor+'" class="flotr-labels"></div>');Flotr.DOM.insert(j,v.join("")),Flotr.DOM.insert(t.element,j)}a.restore(),this.startAngle=w,this.slices=this.slices||[],this.slices.push({radius:Math.min(n.width,n.height)*h/2,x:i,y:o,explode:d,start:y,end:w})},plotSlice:function(t,e,i,o,s,a){a.beginPath(),a.moveTo(t,e),a.arc(t,e,i,o,s,!1),a.lineTo(t,e),a.closePath()},hit:function(t){var e=t.data[0],i=t.args,o=t.index,s=i[0],a=i[1],n=this.slices[o],r=s.relX-t.width/2,l=s.relY-t.height/2,h=Math.sqrt(r*r+l*l),c=Math.atan(l/r),u=2*Math.PI,d=n.explode||t.explode,p=n.start%u,f=n.end%u,m=t.epsilon;r<0?c+=Math.PI:r>0&&l<0&&(c+=u),h<n.radius+d&&h>d&&(c>p&&c<f||p>f&&(c<f||c>p)||p===f&&(n.start===n.end&&Math.abs(c-p)<m||n.start!==n.end&&Math.abs(c-p)>m))&&(a.x=e[0],a.y=e[1],a.sAngle=p,a.eAngle=f,a.index=0,a.seriesIndex=o,a.fraction=e[1]/this.total)},drawHit:function(t){var e=t.context,i=this.slices[t.args.seriesIndex];e.save(),e.translate(t.width/2,t.height/2),this.plotSlice(i.x,i.y,i.radius,i.start,i.end,e),e.stroke(),e.restore()},clearHit:function(t){var e=t.context,i=this.slices[t.args.seriesIndex],o=2*t.lineWidth,s=i.radius+o;e.save(),e.translate(t.width/2,t.height/2),e.clearRect(i.x-s,i.y-s,2*s+o,2*s+o),e.restore()},extendYRange:function(t,e){this.total=(this.total||0)+e[0][1]}}),Flotr.addType("points",{options:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#FFFFFF",fillOpacity:1,hitRadius:null},draw:function(t){var e=t.context,i=(t.lineWidth,t.shadowSize);e.save(),i>0&&(e.lineWidth=i/2,e.strokeStyle="rgba(0,0,0,0.1)",this.plot(t,i/2+e.lineWidth/2),e.strokeStyle="rgba(0,0,0,0.2)",this.plot(t,e.lineWidth/2)),e.lineWidth=t.lineWidth,e.strokeStyle=t.color,t.fill&&(e.fillStyle=t.fillStyle),this.plot(t),e.restore()},plot:function(t,e){var i,o,s,a=t.data,n=t.context,r=t.xScale,l=t.yScale;for(i=a.length-1;i>-1;--i)null!==(s=a[i][1])&&(o=r(a[i][0]),s=l(s),o<0||o>t.width||s<0||s>t.height||(n.beginPath(),e?n.arc(o,s+e,t.radius,0,Math.PI,!1):(n.arc(o,s,t.radius,0,2*Math.PI,!0),t.fill&&n.fill()),n.stroke(),n.closePath()))}}),Flotr.addType("radar",{options:{show:!1,lineWidth:2,fill:!0,fillOpacity:.4,radiusRatio:.9},draw:function(t){var e=t.context,i=t.shadowSize;e.save(),e.translate(t.width/2,t.height/2),e.lineWidth=t.lineWidth,e.fillStyle="rgba(0,0,0,0.05)",e.strokeStyle="rgba(0,0,0,0.05)",this.plot(t,i/2),e.strokeStyle="rgba(0,0,0,0.1)",this.plot(t,i/4),e.strokeStyle=t.color,e.fillStyle=t.fillStyle,this.plot(t),e.restore()},plot:function(t,e){var i,o,s=t.data,a=t.context,n=Math.min(t.height,t.width)*t.radiusRatio/2,r=2*Math.PI/s.length,l=-Math.PI/2;for(e=e||0,a.beginPath(),i=0;i<s.length;++i)o=s[i][1]/this.max,a[0===i?"moveTo":"lineTo"](Math.cos(i*r+l)*n*o+e,Math.sin(i*r+l)*n*o+e);a.closePath(),t.fill&&a.fill(),a.stroke()},extendYRange:function(t,e){this.max=Math.max(t.max,this.max||-Number.MAX_VALUE)}}),Flotr.addType("timeline",{options:{show:!1,lineWidth:1,barWidth:.2,fill:!0,fillColor:null,fillOpacity:.4,centered:!0},draw:function(t){var e=t.context;e.save(),e.lineJoin="miter",e.lineWidth=t.lineWidth,e.strokeStyle=t.color,e.fillStyle=t.fillStyle,this.plot(t),e.restore()},plot:function(t){var e=t.data,i=t.context,o=t.xScale,s=t.yScale,a=t.barWidth,n=t.lineWidth;Flotr._.each(e,(function(t){var e=t[0],r=t[1],l=t[2],h=a,c=Math.ceil(o(e)),u=Math.ceil(o(e+l))-c,d=Math.round(s(r)),p=Math.round(s(r-h))-d,f=c-n/2,m=Math.round(d-p/2)-n/2;i.strokeRect(f,m,u,p),i.fillRect(f,m,u,p)}))},extendRange:function(t){var e=t.data,i=t.xaxis,o=t.yaxis,s=t.timeline.barWidth;if(null===i.options.min&&(i.min=i.datamin-s/2),null===i.options.max){var a=i.max;Flotr._.each(e,(function(t){a=Math.max(a,t[0]+t[2])}),this),i.max=a+s/2}null===o.options.min&&(o.min=o.datamin-s),null===o.options.min&&(o.max=o.datamax+s)}}),o=Flotr.DOM,Flotr.addPlugin("crosshair",{options:{mode:null,color:"#FF0000",hideCursor:!0},callbacks:{"flotr:mousemove":function(t,e){this.options.crosshair.mode&&(this.crosshair.clearCrosshair(),this.crosshair.drawCrosshair(e))}},drawCrosshair:function(t){var e=this.octx,i=this.options.crosshair,s=this.plotOffset,a=s.left+Math.round(t.relX)+.5,n=s.top+Math.round(t.relY)+.5;if(t.relX<0||t.relY<0||t.relX>this.plotWidth||t.relY>this.plotHeight)return this.el.style.cursor=null,void o.removeClass(this.el,"flotr-crosshair");i.hideCursor&&(this.el.style.cursor="none",o.addClass(this.el,"flotr-crosshair")),e.save(),e.strokeStyle=i.color,e.lineWidth=1,e.beginPath(),-1!=i.mode.indexOf("x")&&(e.moveTo(a,s.top),e.lineTo(a,s.top+this.plotHeight)),-1!=i.mode.indexOf("y")&&(e.moveTo(s.left,n),e.lineTo(s.left+this.plotWidth,n)),e.stroke(),e.restore()},clearCrosshair:function(){var t=this.plotOffset,e=this.lastMousePos,i=this.octx;e&&(i.clearRect(Math.round(e.relX)+t.left,t.top,1,this.plotHeight+1),i.clearRect(t.left,Math.round(e.relY)+t.top,this.plotWidth+1,1))}}),function(){var t=Flotr.DOM,e=Flotr._;Flotr.addPlugin("download",{saveImage:function(i,o,s,a){var n=null;if(Flotr.isIE&&Flotr.isIE<9)return n="<html><body>"+this.canvas.firstChild.innerHTML+"</body></html>",window.open().document.write(n);if("jpeg"===i||"png"===i){if(n=function(t,e,i,o){var s="image/"+t,a=e.toDataURL(s),n=new Image;return n.src=a,n}(i,this.canvas),!e.isElement(n)||!a)return window.open(n.src);this.download.restoreCanvas(),t.hide(this.canvas),t.hide(this.overlay),t.setStyles({position:"absolute"}),t.insert(this.el,n),this.saveImageElement=n}},restoreCanvas:function(){t.show(this.canvas),t.show(this.overlay),this.saveImageElement&&this.el.removeChild(this.saveImageElement),this.saveImageElement=null}})}(),function(){var t=Flotr.EventAdapter,e=Flotr._;Flotr.addPlugin("graphGrid",{callbacks:{"flotr:beforedraw":function(){this.graphGrid.drawGrid()},"flotr:afterdraw":function(){this.graphGrid.drawOutline()}},drawGrid:function(){var i,o,s,a=this.ctx,n=this.options,r=n.grid,l=r.verticalLines,h=r.horizontalLines,c=r.minorVerticalLines,u=r.minorHorizontalLines,d=this.plotHeight,p=this.plotWidth;function f(t){for(o=0;o<t.length;++o){var e=t[o].v/i.max;for(s=0;s<=b;++s)a[0===s?"moveTo":"lineTo"](Math.cos(s*y+w)*v*e,Math.sin(s*y+w)*v*e)}}function m(t,o){e.each(e.pluck(t,"v"),(function(t){t<=i.min||t>=i.max||(t==i.min||t==i.max)&&r.outlineWidth||o(Math.floor(i.d2p(t))+a.lineWidth/2)}))}function g(t){a.moveTo(t,0),a.lineTo(t,d)}function x(t){a.moveTo(0,t),a.lineTo(p,t)}if((l||c||h||u)&&t.fire(this.el,"flotr:beforegrid",[this.axes.x,this.axes.y,n,this]),a.save(),a.lineWidth=1,a.strokeStyle=r.tickColor,r.circular){a.translate(this.plotOffset.left+p/2,this.plotOffset.top+d/2);var v=Math.min(d,p)*n.radar.radiusRatio/2,b=this.axes.x.ticks.length,y=Math.PI/b*2,w=-Math.PI/2;a.beginPath(),i=this.axes.y,h&&f(i.ticks),u&&f(i.minorTicks),l&&e.times(b,(function(t){a.moveTo(0,0),a.lineTo(Math.cos(t*y+w)*v,Math.sin(t*y+w)*v)})),a.stroke()}else a.translate(this.plotOffset.left,this.plotOffset.top),r.backgroundColor&&(a.fillStyle=this.processColor(r.backgroundColor,{x1:0,y1:0,x2:p,y2:d}),a.fillRect(0,0,p,d)),a.beginPath(),i=this.axes.x,l&&m(i.ticks,g),c&&m(i.minorTicks,g),i=this.axes.y,h&&m(i.ticks,x),u&&m(i.minorTicks,x),a.stroke();a.restore(),(l||c||h||u)&&t.fire(this.el,"flotr:aftergrid",[this.axes.x,this.axes.y,n,this])},drawOutline:function(){var t,e,o,s,a=this,n=a.options,r=n.grid,l=r.outline,h=a.ctx,c=r.backgroundImage,u=a.plotOffset,d=u.left,p=u.top,f=a.plotWidth,m=a.plotHeight;if(r.outlineWidth){if(h.save(),r.circular){h.translate(d+f/2,p+m/2);var g=Math.min(m,f)*n.radar.radiusRatio/2,x=this.axes.x.ticks.length,v=Math.PI/x*2,b=-Math.PI/2;for(h.beginPath(),h.lineWidth=r.outlineWidth,h.strokeStyle=r.color,h.lineJoin="round",i=0;i<=x;++i)h[0===i?"moveTo":"lineTo"](Math.cos(i*v+b)*g,Math.sin(i*v+b)*g);h.stroke()}else{h.translate(d,p);var y=r.outlineWidth,w=.5-y+(y+1)%2/2,M="lineTo",k="moveTo";h.lineWidth=y,h.strokeStyle=r.color,h.lineJoin="miter",h.beginPath(),h.moveTo(w,w),f-=y/2%1,m+=y/2,h[-1!==l.indexOf("n")?M:k](f,w),h[-1!==l.indexOf("e")?M:k](f,m),h[-1!==l.indexOf("s")?M:k](w,m),h[-1!==l.indexOf("w")?M:k](w,w),h.stroke(),h.closePath()}h.restore(),c&&(e=c.src||c,o=(parseInt(c.left,10)||0)+u.left,s=(parseInt(c.top,10)||0)+u.top,(t=new Image).onload=function(){h.save(),c.alpha&&(h.globalAlpha=c.alpha),h.globalCompositeOperation="destination-over",h.drawImage(t,0,0,t.width,t.height,o,s,f,m),h.restore()},t.src=e)}}})}(),function(){var t=Flotr.DOM,e=Flotr._,i=Flotr;Flotr.addPlugin("hit",{callbacks:{"flotr:mousemove":function(t,e){this.hit.track(e)},"flotr:click":function(t){var i=this.hit.track(t);e.defaults(t,i)},"flotr:mouseout":function(){this.hit.clearHit()},"flotr:destroy":function(){this.mouseTrack=null}},track:function(t){if(this.options.mouse.track||e.any(this.series,(function(t){return t.mouse&&t.mouse.track})))return this.hit.hit(t)},executeOnType:function(t,o,s){var a,n=!1;return e.isArray(t)||(t=[t]),e.each(t,(function(t,r){e.each(e.keys(i.graphTypes),(function(e){t[e]&&t[e].show&&this[e][o]&&((a=this.getOptions(t,e)).fill=!!t.mouse.fillColor,a.fillStyle=this.processColor(t.mouse.fillColor||"#ffffff",{opacity:t.mouse.fillOpacity}),a.color=t.mouse.lineColor,a.context=this.octx,a.index=r,s&&(a.args=s),this[e][o].call(this[e],a),n=!0)}),this)}),this),n},drawHit:function(t){var e=this.octx,i=t.series;if(i.mouse.lineColor){if(e.save(),e.lineWidth=i.points?i.points.lineWidth:1,e.strokeStyle=i.mouse.lineColor,e.fillStyle=this.processColor(i.mouse.fillColor||"#ffffff",{opacity:i.mouse.fillOpacity}),e.translate(this.plotOffset.left,this.plotOffset.top),!this.hit.executeOnType(i,"drawHit",t)){var o=t.xaxis,s=t.yaxis;e.beginPath(),e.arc(o.d2p(t.x),s.d2p(t.y),i.points.hitRadius||i.points.radius||i.mouse.radius,0,2*Math.PI,!0),e.fill(),e.stroke(),e.closePath()}e.restore(),this.clip(e)}this.prevHit=t},clearHit:function(){var e=this.prevHit,i=this.octx,o=this.plotOffset;if(i.save(),i.translate(o.left,o.top),e){if(!this.hit.executeOnType(e.series,"clearHit",this.prevHit)){var s=e.series,a=s.points?s.points.lineWidth:1;offset=(s.points.hitRadius||s.points.radius||s.mouse.radius)+a,i.clearRect(e.xaxis.d2p(e.x)-offset,e.yaxis.d2p(e.y)-offset,2*offset,2*offset)}t.hide(this.mouseTrack),this.prevHit=null}i.restore()},hit:function(t){var i,o,s,a,n,r,l,h=this.options,c=this.prevHit;if(0!==this.series.length)return l={relX:t.relX,relY:t.relY,absX:t.absX,absY:t.absY},h.mouse.trackY&&!h.mouse.trackAll&&this.hit.executeOnType(this.series,"hit",[t,l])&&!e.isUndefined(l.seriesIndex)?(a=this.series[l.seriesIndex],l.series=a,l.mouse=a.mouse,l.xaxis=a.xaxis,l.yaxis=a.yaxis):(i=this.hit.closest(t))&&(s=(i=h.mouse.trackY?i.point:i.x).seriesIndex,n=(a=this.series[s]).xaxis,r=a.yaxis,o=2*a.mouse.sensibility,(h.mouse.trackAll||i.distanceX<o/n.scale&&(!h.mouse.trackY||i.distanceY<o/r.scale))&&(l.series=a,l.xaxis=a.xaxis,l.yaxis=a.yaxis,l.mouse=a.mouse,l.x=i.x,l.y=i.y,l.dist=i.distance,l.index=i.dataIndex,l.seriesIndex=s)),c&&c.index===l.index&&c.seriesIndex===l.seriesIndex||(this.hit.clearHit(),l.series&&l.mouse&&l.mouse.track&&(this.hit.drawMouseTrack(l),this.hit.drawHit(l),Flotr.EventAdapter.fire(this.el,"flotr:hit",[l,this]))),l},closest:function(t){var e,i,o,s,a,n,r,l,h,c,u,d=this.series,p=(this.options,t.relX),f=t.relY,m=Number.MAX_VALUE,g=Number.MAX_VALUE,x={},v={},b=!1;function y(t){t.distance=o,t.distanceX=s,t.distanceY=a,t.seriesIndex=c,t.dataIndex=u,t.x=l,t.y=h,b=!0}for(c=0;c<d.length;c++)for(i=(e=d[c]).data,n=e.xaxis.p2d(p),r=e.yaxis.p2d(f),u=i.length;u--;)l=i[u][0],h=i[u][1],null!==l&&null!==h&&(l<e.xaxis.min||l>e.xaxis.max||(s=Math.abs(l-n),a=Math.abs(h-r),(o=s*s+a*a)<m&&(m=o,y(x)),s<g&&(g=s,y(v))));return!!b&&{point:x,x:v}},drawMouseTrack:function(e){var i="",o=e.series,s=e.mouse.position,a=e.mouse.margin,n=e.x,r=e.y,l="opacity:0.7;background-color:#000;color:#fff;display:none;position:absolute;padding:2px 8px;-moz-border-radius:4px;border-radius:4px;white-space:nowrap;",h=this.mouseTrack,c=this.plotOffset,u=c.left,d=c.right,p=c.bottom,f=c.top,m=e.mouse.trackDecimals;if(this.options,h||(h=t.node('<div class="flotr-mouse-value"></div>'),this.mouseTrack=h,t.insert(this.el,h)),e.mouse.relative)if(o.pie&&o.pie.show){var g={x:this.plotWidth/2,y:this.plotHeight/2},x=Math.min(this.canvasWidth,this.canvasHeight)*o.pie.sizeRatio/2,v=e.sAngle<e.eAngle?(e.sAngle+e.eAngle)/2:(e.sAngle+e.eAngle+2*Math.PI)/2;i+="bottom:"+(a-f-g.y-Math.sin(v)*x/2+this.canvasHeight)+"px;top:auto;",i+="left:"+(a+u+g.x+Math.cos(v)*x/2)+"px;right:auto;"}else/n/.test(s)?i+="bottom:"+(a-f-e.yaxis.d2p(e.y)+this.canvasHeight)+"px;top:auto;":i+="top:"+(a+f+e.yaxis.d2p(e.y))+"px;bottom:auto;",/w/.test(s)?i+="right:"+(a-u-e.xaxis.d2p(e.x)+this.canvasWidth)+"px;left:auto;":i+="left:"+(a+u+e.xaxis.d2p(e.x))+"px;right:auto;";else"n"==s.charAt(0)?i+="top:"+(a+f)+"px;bottom:auto;":"s"==s.charAt(0)&&(i+="bottom:"+(a+p)+"px;top:auto;"),"e"==s.charAt(1)?i+="right:"+(a+d)+"px;left:auto;":"w"==s.charAt(1)&&(i+="left:"+(a+u)+"px;right:auto;");l+=i,h.style.cssText=l,(!m||m<0)&&(m=0),n&&n.toFixed&&(n=n.toFixed(m)),r&&r.toFixed&&(r=r.toFixed(m)),h.innerHTML=e.mouse.trackFormatter({x:n,y:r,series:e.series,index:e.index,nearest:e,fraction:e.fraction}),t.show(h),e.mouse.relative&&(/[ew]/.test(s)?/[ns]/.test(s)||(h.style.top=f+e.yaxis.d2p(e.y)-t.size(h).height/2+"px"):h.style.left=u+e.xaxis.d2p(e.x)-t.size(h).width/2+"px")}})}(),function(){function t(t,e){return Math.min(Math.max(0,t),e.plotWidth-1)}function e(t,e){return Math.min(Math.max(0,t),e.plotHeight)}Flotr.DOM;var i=Flotr.EventAdapter,o=Flotr._;Flotr.addPlugin("selection",{options:{pinchOnly:null,mode:null,color:"#B6D9FF",fps:20},callbacks:{"flotr:mouseup":function(t){var e=this.options.selection,i=this.selection,o=this.getEventPosition(t);e&&e.mode&&(i.interval&&clearInterval(i.interval),this.multitouches?i.updateSelection():e.pinchOnly||i.setSelectionPos(i.selection.second,o),i.clearSelection(),i.selecting&&i.selectionIsSane()&&(i.drawSelection(),i.fireSelectEvent(),this.ignoreClick=!0))},"flotr:mousedown":function(t){var e,i=this.options.selection,s=this.selection,a=this.getEventPosition(t);i&&i.mode&&(!i.mode||!((e=t).which?1===e.which:0===e.button||1===e.button)&&o.isUndefined(t.touches)||(i.pinchOnly||s.setSelectionPos(s.selection.first,a),s.interval&&clearInterval(s.interval),this.lastMousePos.pageX=null,s.selecting=!1,s.interval=setInterval(o.bind(s.updateSelection,this),1e3/i.fps)))},"flotr:destroy":function(t){clearInterval(this.selection.interval)}},getArea:function(){var t,e,i,o,s=this.selection.selection,a=this.axes;return s.first,s.second,t=a.x.p2d(s.first.x),e=a.x.p2d(s.second.x),i=a.y.p2d(s.first.y),o=a.y.p2d(s.second.y),{x1:Math.min(t,e),y1:Math.min(i,o),x2:Math.max(t,e),y2:Math.max(i,o),xfirst:t,xsecond:e,yfirst:i,ysecond:o}},selection:{first:{x:-1,y:-1},second:{x:-1,y:-1}},prevSelection:null,interval:null,fireSelectEvent:function(t){var e=this.selection.getArea();t=t||"select",e.selection=this.selection.selection,i.fire(this.el,"flotr:"+t,[e,this])},setSelection:function(i,o){var s=this.options,a=this.axes.x,n=this.axes.y,r=n.scale,l=a.scale,h=-1!=s.selection.mode.indexOf("x"),c=-1!=s.selection.mode.indexOf("y"),u=this.selection.selection;this.selection.clearSelection(),u.first.y=e(h&&!c?0:(n.max-i.y1)*r,this),u.second.y=e(h&&!c?this.plotHeight-1:(n.max-i.y2)*r,this),u.first.x=t(c&&!h?0:(i.x1-a.min)*l,this),u.second.x=t(c&&!h?this.plotWidth:(i.x2-a.min)*l,this),this.selection.drawSelection(),o||this.selection.fireSelectEvent()},setSelectionPos:function(i,o){var s=this.options.selection.mode,a=this.selection.selection;-1==s.indexOf("x")?i.x=i==a.first?0:this.plotWidth:i.x=t(o.relX,this),-1==s.indexOf("y")?i.y=i==a.first?0:this.plotHeight-1:i.y=e(o.relY,this)},drawSelection:function(){this.selection.fireSelectEvent("selecting");var t=this.selection.selection,e=this.octx,i=this.options,o=this.plotOffset,s=this.selection.prevSelection;if(!s||t.first.x!=s.first.x||t.first.y!=s.first.y||t.second.x!=s.second.x||t.second.y!=s.second.y){e.save(),e.strokeStyle=this.processColor(i.selection.color,{opacity:.8}),e.lineWidth=1,e.lineJoin="miter",e.fillStyle=this.processColor(i.selection.color,{opacity:.4}),this.selection.prevSelection={first:{x:t.first.x,y:t.first.y},second:{x:t.second.x,y:t.second.y}};var a=Math.min(t.first.x,t.second.x),n=Math.min(t.first.y,t.second.y),r=Math.abs(t.second.x-t.first.x),l=Math.abs(t.second.y-t.first.y);e.fillRect(a+o.left+.5,n+o.top+.5,r,l),e.strokeRect(a+o.left+.5,n+o.top+.5,r,l),e.restore()}},updateSelection:function(){if(this.lastMousePos.pageX){if(this.selection.selecting=!0,this.multitouches)this.selection.setSelectionPos(this.selection.selection.first,this.getEventPosition(this.multitouches[0])),this.selection.setSelectionPos(this.selection.selection.second,this.getEventPosition(this.multitouches[1]));else{if(this.options.selection.pinchOnly)return;this.selection.setSelectionPos(this.selection.selection.second,this.lastMousePos)}this.selection.clearSelection(),this.selection.selectionIsSane()&&this.selection.drawSelection()}},clearSelection:function(){if(this.selection.prevSelection){var t=this.selection.prevSelection,e=this.plotOffset,i=Math.min(t.first.x,t.second.x),o=Math.min(t.first.y,t.second.y),s=Math.abs(t.second.x-t.first.x),a=Math.abs(t.second.y-t.first.y);this.octx.clearRect(i+e.left-1+.5,o+e.top-1,s+2+.5,a+2+.5),this.selection.prevSelection=null}},selectionIsSane:function(){var t=this.selection.selection;return Math.abs(t.second.x-t.first.x)>=5||Math.abs(t.second.y-t.first.y)>=5}})}(),function(){var t=Flotr.DOM;Flotr.addPlugin("labels",{callbacks:{"flotr:afterdraw":function(){this.labels.draw()}},draw:function(){var e,i,o,s,a,n,r,l,h="",c=0,u=this.options,d=this.ctx,p=this.axes;for(u.fontSize,l=0;l<p.x.ticks.length;++l)p.x.ticks[l].label&&++c;function f(t,i,s){var r,h=s?i.minorTicks:i.ticks,c=1===i.orientation;for(i.n,r={color:i.options.color||u.grid.color,angle:Flotr.toRad(i.options.labelsAngle),textBaseline:"middle"},l=0;l<h.length&&(s?i.options.showMinorLabels:i.options.showLabels);++l)(e=h[l]).label+="",e.label&&e.label.length&&(x=Math.cos(l*a+n)*o,y=Math.sin(l*a+n)*o,r.textAlign=c?Math.abs(x)<.1?"center":x<0?"right":"left":"left",Flotr.drawText(d,e.label,c?x:3,c?y:-i.ticks[l].v/i.max*(o-u.fontSize),r))}function m(t,i,o,s){var a,n,r=1===i.orientation,h=1===i.n;for(a={color:i.options.color||u.grid.color,textAlign:o,textBaseline:s,angle:Flotr.toRad(i.options.labelsAngle)},a=Flotr.getBestTextAlign(a.angle,a),l=0;l<i.ticks.length&&c(i);++l)(e=i.ticks[l]).label&&e.label.length&&((n=i.d2p(e.v))<0||n>(r?t.plotWidth:t.plotHeight)||(Flotr.drawText(d,e.label,p(t,r,h,n),f(t,r,h,n),a),r||h||(d.save(),d.strokeStyle=a.color,d.beginPath(),d.moveTo(t.plotOffset.left+t.plotWidth-8,t.plotOffset.top+i.d2p(e.v)),d.lineTo(t.plotOffset.left+t.plotWidth,t.plotOffset.top+i.d2p(e.v)),d.stroke(),d.restore())));function c(t){return t.options.showLabels&&t.used}function p(t,e,i,o){return t.plotOffset.left+(e?o:i?-u.grid.labelMargin:u.grid.labelMargin+t.plotWidth)}function f(t,e,i,o){return t.plotOffset.top+(e?u.grid.labelMargin:o)+(e&&i?t.plotHeight:0)}}function g(t,o){var s,a,n=1===o.orientation,r=1===o.n,c="",p=t.plotOffset;if(n||r||(d.save(),d.strokeStyle=o.options.color||u.grid.color,d.beginPath()),o.options.showLabels&&(r||o.used))for(l=0;l<o.ticks.length;++l)!(e=o.ticks[l]).label||!e.label.length||(n?p.left:p.top)+o.d2p(e.v)<0||(n?p.left:p.top)+o.d2p(e.v)>(n?t.canvasWidth:t.canvasHeight)||(a=p.top+(n?(r?1:-1)*(t.plotHeight+u.grid.labelMargin):o.d2p(e.v)-o.maxLabel.height/2),s=n?p.left+o.d2p(e.v)-i/2:0,c="",0===l?c=" first":l===o.ticks.length-1&&(c=" last"),c+=n?" flotr-grid-label-x":" flotr-grid-label-y",h+=['<div style="position:absolute; text-align:'+(n?"center":"right")+"; ","top:"+a+"px; ",(n||r?"left:":"right:")+s+"px; ","width:"+(n?i:(r?p.left:p.right)-u.grid.labelMargin)+"px; ",o.options.color?"color:"+o.options.color+"; ":" ",'" class="flotr-grid-label'+c+'">'+e.label+"</div>"].join(" "),n||r||(d.moveTo(p.left+t.plotWidth-8,p.top+o.d2p(e.v)),d.lineTo(p.left+t.plotWidth,p.top+o.d2p(e.v))))}i=this.plotWidth/c,u.grid.circular&&(d.save(),d.translate(this.plotOffset.left+this.plotWidth/2,this.plotOffset.top+this.plotHeight/2),o=this.plotHeight*u.radar.radiusRatio/2+u.fontSize,s=this.axes.x.ticks.length,a=Math.PI/s*2,n=-Math.PI/2,f(0,p.x,!1),f(0,p.x,!0),f(0,p.y,!1),f(0,p.y,!0),d.restore()),!u.HtmlText&&this.textEnabled?(m(this,p.x,"center","top"),m(this,p.x2,"center","bottom"),m(this,p.y,"right","middle"),m(this,p.y2,"left","middle")):(p.x.options.showLabels||p.x2.options.showLabels||p.y.options.showLabels||p.y2.options.showLabels)&&!u.grid.circular&&(h="",g(this,p.x),g(this,p.x2),g(this,p.y),g(this,p.y2),d.stroke(),d.restore(),r=t.create("div"),t.setStyles(r,{fontSize:"smaller",color:u.grid.color}),r.className="flotr-labels",t.insert(this.el,r),t.insert(r,h))}})}(),function(){var t=Flotr.DOM,e=Flotr._;Flotr.addPlugin("legend",{options:{show:!0,noColumns:1,labelFormatter:function(t){return t},labelBoxBorderColor:"#CCCCCC",labelBoxWidth:14,labelBoxHeight:10,labelBoxMargin:5,container:null,position:"nw",margin:5,backgroundColor:"#F0F0F0",backgroundOpacity:.85},callbacks:{"flotr:afterinit":function(){this.legend.insertLegend()}},insertLegend:function(){if(this.options.legend.show){var i,o,s,a=this.series,n=this.plotOffset,r=this.options,l=r.legend,h=[],c=!1,u=this.ctx,d=e.filter(a,(function(t){return t.label&&!t.hide})).length,p=l.position,f=l.margin,m=l.backgroundOpacity;if(d){var g=l.labelBoxWidth,x=l.labelBoxHeight,v=l.labelBoxMargin,b=n.left+f,y=n.top+f,w=0,M={size:1.1*r.fontSize,color:r.grid.color};for(i=a.length-1;i>-1;--i)a[i].label&&!a[i].hide&&(o=l.labelFormatter(a[i].label),w=Math.max(w,this._text.measureText(o,M).width));var k=Math.round(g+3*v+w),S=Math.round(d*(v+x)+v);if(m||0===m||(m=.1),r.HtmlText||!this.textEnabled||l.container){for(i=0;i<a.length;++i)if(a[i].label&&!a[i].hide){i%l.noColumns==0&&(h.push(c?"</tr><tr>":"<tr>"),c=!0);var T=a[i],F=l.labelBoxWidth,_=l.labelBoxHeight;o=l.labelFormatter(T.label),s="background-color:"+(T.bars&&T.bars.show&&T.bars.fillColor&&T.bars.fill?T.bars.fillColor:T.color)+";",h.push('<td class="flotr-legend-color-box">','<div style="border:1px solid ',l.labelBoxBorderColor,';padding:1px">','<div style="width:',F-1,"px;height:",_-1,"px;border:1px solid ",a[i].color,'">','<div style="width:',F,"px;height:",_,"px;",s,'"></div>',"</div>","</div>","</td>",'<td class="flotr-legend-label">',o,"</td>")}if(c&&h.push("</tr>"),h.length>0){var C='<table style="font-size:smaller;color:'+r.grid.color+'">'+h.join("")+"</table>";if(l.container)t.empty(l.container),t.insert(l.container,C);else{var j={position:"absolute",zIndex:"2",border:"1px solid "+l.labelBoxBorderColor};"n"==p.charAt(0)?(j.top=f+n.top+"px",j.bottom="auto"):"c"==p.charAt(0)?(j.top=f+(this.plotHeight-S)/2+"px",j.bottom="auto"):"s"==p.charAt(0)&&(j.bottom=f+n.bottom+"px",j.top="auto"),"e"==p.charAt(1)?(j.right=f+n.right+"px",j.left="auto"):"w"==p.charAt(1)&&(j.left=f+n.left+"px",j.right="auto");var O=t.create("div");if(O.className="flotr-legend",t.setStyles(O,j),t.insert(O,C),t.insert(this.el,O),!m)return;var D=l.backgroundColor||r.grid.backgroundColor||"#ffffff";e.extend(j,t.size(O),{backgroundColor:D,zIndex:"",border:""}),j.width+="px",j.height+="px",(O=t.create("div")).className="flotr-legend-bg",t.setStyles(O,j),t.opacity(O,m),t.insert(O," "),t.insert(this.el,O)}}}else{"s"==p.charAt(0)&&(y=n.top+this.plotHeight-(f+S)),"c"==p.charAt(0)&&(y=n.top+this.plotHeight/2-(f+S/2)),"e"==p.charAt(1)&&(b=n.left+this.plotWidth-(f+k)),s=this.processColor(l.backgroundColor,{opacity:m}),u.fillStyle=s,u.fillRect(b,y,k,S),u.strokeStyle=l.labelBoxBorderColor,u.strokeRect(Flotr.toPixel(b),Flotr.toPixel(y),k,S);var A=b+v,z=y+v;for(i=0;i<a.length;i++)a[i].label&&!a[i].hide&&(o=l.labelFormatter(a[i].label),u.fillStyle=a[i].color,u.fillRect(A,z,g-1,x-1),u.strokeStyle=l.labelBoxBorderColor,u.lineWidth=1,u.strokeRect(Math.ceil(A)-1.5,Math.ceil(z)-1.5,g+2,x+2),Flotr.drawText(u,o,A+g+v,z+x,M),z+=x+v)}}}}})}(),function(){function t(t){if(this.options.spreadsheet.tickFormatter)return this.options.spreadsheet.tickFormatter(t);var e=i.find(this.axes.x.ticks,(function(e){return e.v==t}));return e?e.label:t}var e=Flotr.DOM,i=Flotr._;Flotr.addPlugin("spreadsheet",{options:{show:!1,tabGraphLabel:"Graph",tabDataLabel:"Data",toolbarDownload:"Download CSV",toolbarSelectAll:"Select all",csvFileSeparator:",",decimalSeparator:".",tickFormatter:null,initialTab:"graph"},callbacks:{"flotr:afterconstruct":function(){if(this.options.spreadsheet.show){var t,i=this.spreadsheet,o=e.node('<div class="flotr-tabs-group" style="position:absolute;left:0px;width:'+this.canvasWidth+'px"></div>'),s=e.node('<div style="float:left" class="flotr-tab selected">'+this.options.spreadsheet.tabGraphLabel+"</div>"),a=e.node('<div style="float:left" class="flotr-tab">'+this.options.spreadsheet.tabDataLabel+"</div>");i.tabsContainer=o,i.tabs={graph:s,data:a},e.insert(o,s),e.insert(o,a),e.insert(this.el,o),t=e.size(a).height+2,this.plotOffset.bottom+=t,e.setStyles(o,{top:this.canvasHeight-t+"px"}),this.observe(s,"click",(function(){i.showTab("graph")})).observe(a,"click",(function(){i.showTab("data")})),"graph"!==this.options.spreadsheet.initialTab&&i.showTab(this.options.spreadsheet.initialTab)}}},loadDataGrid:function(){if(this.seriesData)return this.seriesData;var t=this.series,e={};return i.each(t,(function(t,o){i.each(t.data,(function(t){var i=t[0],s=t[1],a=e[i];if(a)a[o+1]=s;else{var n=[];n[0]=i,n[o+1]=s,e[i]=n}}))})),this.seriesData=i.sortBy(e,(function(t,e){return parseInt(e,10)})),this.seriesData},constructDataGrid:function(){if(this.spreadsheet.datagrid)return this.spreadsheet.datagrid;var o,s,a,n=this.series,r=this.spreadsheet.loadDataGrid(),l=["<colgroup><col />"],h=['<table class="flotr-datagrid"><tr class="first-row">'];h.push("<th>&nbsp;</th>"),i.each(n,(function(t,e){h.push('<th scope="col">'+(t.label||String.fromCharCode(65+e))+"</th>"),l.push("<col />")})),h.push("</tr>"),i.each(r,(function(e){h.push("<tr>"),i.times(n.length+1,(function(o){var s="td",a=e[o],n=i.isUndefined(a)?"":Math.round(1e5*a)/1e5;if(0===o){s="th";var r=t.call(this,n);r&&(n=r)}h.push("<"+s+("th"==s?' scope="row"':"")+">"+n+"</"+s+">")}),this),h.push("</tr>")}),this),l.push("</colgroup>"),a=e.node(h.join("")),o=e.node('<button type="button" class="flotr-datagrid-toolbar-button">'+this.options.spreadsheet.toolbarDownload+"</button>"),s=e.node('<button type="button" class="flotr-datagrid-toolbar-button">'+this.options.spreadsheet.toolbarSelectAll+"</button>"),this.observe(o,"click",i.bind(this.spreadsheet.downloadCSV,this)).observe(s,"click",i.bind(this.spreadsheet.selectAllData,this));var c=e.node('<div class="flotr-datagrid-toolbar"></div>');e.insert(c,o),e.insert(c,s);var u=this.canvasHeight-e.size(this.spreadsheet.tabsContainer).height-2,d=e.node('<div class="flotr-datagrid-container" style="position:absolute;left:0px;top:0px;width:'+this.canvasWidth+"px;height:"+u+'px;overflow:auto;z-index:10"></div>');return e.insert(d,c),e.insert(d,a),e.insert(this.el,d),this.spreadsheet.datagrid=a,this.spreadsheet.container=d,a},showTab:function(t){if(this.spreadsheet.activeTab!==t){switch(t){case"graph":e.hide(this.spreadsheet.container),e.removeClass(this.spreadsheet.tabs.data,"selected"),e.addClass(this.spreadsheet.tabs.graph,"selected");break;case"data":this.spreadsheet.datagrid||this.spreadsheet.constructDataGrid(),e.show(this.spreadsheet.container),e.addClass(this.spreadsheet.tabs.data,"selected"),e.removeClass(this.spreadsheet.tabs.graph,"selected");break;default:throw"Illegal tab name: "+t}this.spreadsheet.activeTab=t}},selectAllData:function(){if(this.spreadsheet.tabs){var t,e,i,o,s=this.spreadsheet.constructDataGrid();return this.spreadsheet.showTab("data"),setTimeout((function(){(i=s.ownerDocument)&&(o=i.defaultView)&&o.getSelection&&i.createRange&&(t=window.getSelection())&&t.removeAllRanges?((e=i.createRange()).selectNode(s),t.removeAllRanges(),t.addRange(e)):document.body&&document.body.createTextRange&&(e=document.body.createTextRange())&&(e.moveToElementText(s),e.select())}),0),!0}return!1},downloadCSV:function(){var e="",o=this.series,s=this.options,a=this.spreadsheet.loadDataGrid(),n=encodeURIComponent(s.spreadsheet.csvFileSeparator);if(s.spreadsheet.decimalSeparator===s.spreadsheet.csvFileSeparator)throw"The decimal separator is the same as the column separator ("+s.spreadsheet.decimalSeparator+")";i.each(o,(function(t,i){e+=n+'"'+(t.label||String.fromCharCode(65+i)).replace(/\"/g,'\\"')+'"'})),e+="%0D%0A",e+=i.reduce(a,(function(e,i){var o=t.call(this,i[0])||"";o='"'+(o+"").replace(/\"/g,'\\"')+'"';var a=i.slice(1).join(n);return"."!==s.spreadsheet.decimalSeparator&&(a=a.replace(/\./g,s.spreadsheet.decimalSeparator)),e+o+n+a+"%0D%0A"}),"",this),Flotr.isIE&&Flotr.isIE<9?(e=e.replace(new RegExp(n,"g"),decodeURIComponent(n)).replace(/%0A/g,"\n").replace(/%0D/g,"\r"),window.open().document.write(e)):window.open("data:text/csv,"+e)}})}(),function(){var t=Flotr.DOM;Flotr.addPlugin("titles",{callbacks:{"flotr:afterdraw":function(){this.titles.drawTitles()}},drawTitles:function(){var e,i=this.options,o=i.grid.labelMargin,s=this.ctx,a=this.axes;if(!i.HtmlText&&this.textEnabled){var n={size:i.fontSize,color:i.grid.color,textAlign:"center"};i.subtitle&&Flotr.drawText(s,i.subtitle,this.plotOffset.left+this.plotWidth/2,this.titleHeight+this.subtitleHeight-2,n),n.weight=1.5,n.size*=1.5,i.title&&Flotr.drawText(s,i.title,this.plotOffset.left+this.plotWidth/2,this.titleHeight-2,n),n.weight=1.8,n.size*=.8,a.x.options.title&&a.x.used&&(n.textAlign=a.x.options.titleAlign||"center",n.textBaseline="top",n.angle=Flotr.toRad(a.x.options.titleAngle),n=Flotr.getBestTextAlign(n.angle,n),Flotr.drawText(s,a.x.options.title,this.plotOffset.left+this.plotWidth/2,this.plotOffset.top+a.x.maxLabel.height+this.plotHeight+2*o,n)),a.x2.options.title&&a.x2.used&&(n.textAlign=a.x2.options.titleAlign||"center",n.textBaseline="bottom",n.angle=Flotr.toRad(a.x2.options.titleAngle),n=Flotr.getBestTextAlign(n.angle,n),Flotr.drawText(s,a.x2.options.title,this.plotOffset.left+this.plotWidth/2,this.plotOffset.top-a.x2.maxLabel.height-2*o,n)),a.y.options.title&&a.y.used&&(n.textAlign=a.y.options.titleAlign||"right",n.textBaseline="middle",n.angle=Flotr.toRad(a.y.options.titleAngle),n=Flotr.getBestTextAlign(n.angle,n),Flotr.drawText(s,a.y.options.title,this.plotOffset.left-a.y.maxLabel.width-2*o,this.plotOffset.top+this.plotHeight/2,n)),a.y2.options.title&&a.y2.used&&(n.textAlign=a.y2.options.titleAlign||"left",n.textBaseline="middle",n.angle=Flotr.toRad(a.y2.options.titleAngle),n=Flotr.getBestTextAlign(n.angle,n),Flotr.drawText(s,a.y2.options.title,this.plotOffset.left+this.plotWidth+a.y2.maxLabel.width+2*o,this.plotOffset.top+this.plotHeight/2,n))}else{e=[],i.title&&e.push('<div style="position:absolute;top:0;left:',this.plotOffset.left,"px;font-size:1em;font-weight:bold;text-align:center;width:",this.plotWidth,'px;" class="flotr-title">',i.title,"</div>"),i.subtitle&&e.push('<div style="position:absolute;top:',this.titleHeight,"px;left:",this.plotOffset.left,"px;font-size:smaller;text-align:center;width:",this.plotWidth,'px;" class="flotr-subtitle">',i.subtitle,"</div>"),e.push("</div>"),e.push('<div class="flotr-axis-title" style="font-weight:bold;">'),a.x.options.title&&a.x.used&&e.push('<div style="position:absolute;top:',this.plotOffset.top+this.plotHeight+i.grid.labelMargin+a.x.titleSize.height,"px;left:",this.plotOffset.left,"px;width:",this.plotWidth,"px;text-align:",a.x.options.titleAlign,';" class="flotr-axis-title flotr-axis-title-x1">',a.x.options.title,"</div>"),a.x2.options.title&&a.x2.used&&e.push('<div style="position:absolute;top:0;left:',this.plotOffset.left,"px;width:",this.plotWidth,"px;text-align:",a.x2.options.titleAlign,';" class="flotr-axis-title flotr-axis-title-x2">',a.x2.options.title,"</div>"),a.y.options.title&&a.y.used&&e.push('<div style="position:absolute;top:',this.plotOffset.top+this.plotHeight/2-a.y.titleSize.height/2,"px;left:0;text-align:",a.y.options.titleAlign,';" class="flotr-axis-title flotr-axis-title-y1">',a.y.options.title,"</div>"),a.y2.options.title&&a.y2.used&&e.push('<div style="position:absolute;top:',this.plotOffset.top+this.plotHeight/2-a.y.titleSize.height/2,"px;right:0;text-align:",a.y2.options.titleAlign,';" class="flotr-axis-title flotr-axis-title-y2">',a.y2.options.title,"</div>"),e=e.join("");var r=t.create("div");t.setStyles({color:i.grid.color}),r.className="flotr-titles",t.insert(this.el,r),t.insert(r,e)}}})}(),Flotr;var o}(t,e)}.apply(e,s),void 0===a||(t.exports=a)},"./bundles/orochart/js/app/components/bar-chart-component.js":(t,e,i)=>{var o;void 0===(o=function(t){"use strict";const e=i("../node_modules/flotr2/flotr2.amd.js"),o=i("./bundles/orolocale/js/formatter/number.js");return i("./bundles/orochart/js/app/components/base-chart-component.js").extend({constructor:function t(e){t.__super__.constructor.call(this,e)},draw:function(){let t,i=0;const s=this.$chart,a=this.data,n=this.options,r=this.options.settings,l=n.data_schema.value.formatter;let h=0;const c=[],u=[];for(const e in a)a.hasOwnProperty(e)&&(t=parseInt(a[e].value),i=Math.max(t,i),c.push([h++,t]),u.push(a[e].label));const d={data:c,color:r.chartColors[0],markers:{show:!0,position:"ct",labelFormatter:function(t){return l?o[l](t.y):t.y}}};e.draw(s.get(0),[d],{colors:r.chartColors,fontColor:r.chartFontColor,fontSize:r.chartFontSize,bars:{show:!0,horizontal:!1,shadowSize:0,barWidth:.5},mouse:{track:!0,relative:!0,trackFormatter:function(t){let e;return l?(e=o[l](t.y),o[l](t.y)):(e=t.y,u[parseInt(t.x)]+": "+e)}},yaxis:{min:0,max:1.2*i,tickFormatter:function(t){return l?o.formatCurrency(t):t}},xaxis:{noTicks:r.xNoTicks,tickFormatter:function(t){return u[parseInt(t)]}},grid:{verticalLines:!1}})}})}.call(e,i,e,t))||(t.exports=o)},"./bundles/orochart/js/app/components/base-chart-component.js":(t,e,i)=>{var o;void 0===(o=function(t){"use strict";const e=i("./bundles/oroui/js/extend/underscore.js"),o=i("./bundles/oroui/js/extend/jquery.js"),s=i("../node_modules/@oroinc/oro-webpack-config-builder/loader/text-loader.js!./bundles/orochart/js/templates/base-chart-template.html"),a=i("./bundles/oroui/js/app/components/base/component.js").extend({template:e.template(s),NARROW_SCREEN_WIDTH:520,narrowScreen:!1,aspectRatio:.4,updateDelay:40,listen:{"layout:reposition mediator":"debouncedUpdate"},constructor:function t(i){this.debouncedUpdate=e.debounce(this.update,this.updateDelay),t.__super__.constructor.call(this,i)},initialize:function(t){this.data=t.data,this.options=t.options,this.config=t.config,this.$el=o(t._sourceElement),this.$chart=null,this.renderBaseLayout();const i=this.update.bind(this);this.$chart.bind("update."+this.cid,i),e.defer(i)},dispose:function(){this.$chart.unbind("."+this.cid),delete this.$el,delete this.$chart,delete this.$legend,delete this.$container,a.__super__.dispose.call(this)},renderBaseLayout:function(){this.$el.html(this.template()),this.$chart=this.$el.find(".chart-content"),this.$legend=this.$el.find(".chart-legend"),this.$container=this.$el.find(".chart-container")},calcChartWidth(){const t=this.$chart.parents(".chart-container").parent();return Math.round(.9*t.width())},update:function(){this.setChartSize()&&(this.draw(),this.fixSize())},setChartSize:function(){const t=this.$chart,e=this.calcChartWidth(),i=Math.min(Math.round(e*this.aspectRatio),350);return(e>0&&e!==t.width()||i!==parseInt(t.css("height")))&&(t.width(e),t.height(i),!0)},setChartContainerSize:function(){this.$chart.closest(".clearfix").width(this.$chart.width())},fixSize:function(){const t=this.$chart,e=t.find(".flotr-grid-label-x");let i=e.height(),s=e.height();e.each((function(t,e){const a=o(e).height();a>i?i=a:a<s&&(s=a)})),t.height(t.height()+(i-s)),this.setChartContainerSize()},draw:function(){this.$el.html("copmonent")}});return a}.call(e,i,e,t))||(t.exports=o)},"./bundles/orochart/js/app/components/flow-chart-component.js":(t,e,i)=>{var o;void 0===(o=function(t){"use strict";const e=i("./bundles/oroui/js/extend/underscore.js"),o=i("./bundles/orotranslation/js/translator.js"),s=i("../node_modules/flotr2/flotr2.amd.js"),a=i("./bundles/orochart/js/data_formatter.js"),n=i("./bundles/orochart/js/app/components/pie-chart-component.js");i("./bundles/orochart/js/flotr2/funnel.js");let r="currency";const l=n.extend({constructor:function t(e){t.__super__.constructor.call(this,e)},initialize:function(t){l.__super__.initialize.call(this,t),r=t.options.data_schema.value.type,this.date=t.date,this._prepareData()},_prepareData:function(){const t=this.date;e.each(this.data,(function(e){const i={label:e.label,date:t,value:a.formatValue(e.value,r)},s="oro.chart.flow_chart.label_fromatter."+(e.isNozzle?"nozzle":"tick");e.originalLabel=e.label,e.label=o(s,i),e.data=[e.value]}))},draw:function(){let t;const i=this.$chart,o=this.$legend,n=this.options,l=!this.$container.hasClass("wrapped-chart-legend");i.get(0).clientWidth&&(t=0,o.html(""),l&&(t=250,i.width(i.width()+t)),s.draw(i.get(0),this.data,{funnel:{show:!0,showLabels:l,formatter:e.partial(a.formatValue,e,r),colors:n.settings.chartColors,marginX:t},mouse:{track:!0,relative:!0},grid:{outlineWidth:0},legend:{show:!l,container:o.get(0),labelBoxWidth:20,labelBoxHeight:13,labelBoxMargin:0}}))}});return l}.call(e,i,e,t))||(t.exports=o)},"./bundles/orochart/js/app/components/horizontal_bar-chart-component.js":(t,e,i)=>{var o;void 0===(o=function(t){"use strict";const e=i("../node_modules/flotr2/flotr2.amd.js"),o=i("./bundles/orolocale/js/formatter/number.js");return i("./bundles/orochart/js/app/components/base-chart-component.js").extend({constructor:function t(e){t.__super__.constructor.call(this,e)},draw:function(){let t,i=0;const s=this.$chart,a=this.data,n=this.options,r=this.options.settings,l=n.data_schema.value.formatter;let h=0;const c=[],u=[];for(const e in a.reverse())a.hasOwnProperty(e)&&(t=parseInt(a[e].value),i=Math.max(t,i),c.push([t,h++]),u.push(a[e].label));const d={data:c,color:r.chartColors[0],markers:{show:!0,position:"mr",labelFormatter:function(t){return l?o[l](t.x):t.x}}};e.draw(s.get(0),[d],{colors:r.chartColors,fontColor:r.chartFontColor,fontSize:r.chartFontSize,bars:{show:!0,horizontal:!0,shadowSize:0,barWidth:.5},mouse:{track:!0,relative:!0,position:"se",trackFormatter:function(t){let e;return l?(e=o[l](t.x),o[l](t.x)):(e=t.x,u[parseInt(t.y)]+": "+e)}},xaxis:{min:0,max:1.2*i,tickFormatter:function(t){return l?o.formatCurrency(t):t}},yaxis:{ticks:function(){const t=[];for(const e in u)u[e]&&t.push([e,u[e]]);return t},tickFormatter:function(t){return u[parseInt(t)]}},grid:{horizontalLines:!1}})}})}.call(e,i,e,t))||(t.exports=o)},"./bundles/orochart/js/app/components/line-chart-component.js":(t,e,i)=>{var o;void 0===(o=function(t){"use strict";const e=i("../node_modules/flotr2/flotr2.amd.js"),o=i("./bundles/orochart/js/data_formatter.js");return i("./bundles/orochart/js/app/components/base-chart-component.js").extend({constructor:function t(e){t.__super__.constructor.call(this,e)},sortData:function(){this.data.sort(((t,e)=>null===t.label||void 0===t.label?-1:null===e.label||void 0===e.label?1:o.parseValue(t.label,this.options.data_schema.label.type)-o.parseValue(e.label,this.options.data_schema.label.type)))},processData:function(t,e){for(const i in this.data){if(!this.data.hasOwnProperty(i))continue;let s=o.parseValue(this.data[i].value,this.options.data_schema.value.type);s=null===s?parseInt(i):s;let a=o.parseValue(this.data[i].label,this.options.data_schema.label.type);a=null===a?parseInt(i):a,null===e.xMax&&(e.xMax=a,e.yMax=s,e.yMin=s,e.xMin=a),e.xMax=e.xMax<a?a:e.xMax,e.xMin=e.xMin>a?a:e.xMin,e.yMax=e.yMax<s?s:e.yMax,e.yMin=e.yMin>s?s:e.yMin;const n=[a,s];t.push(n)}const i=e.xMax-e.xMin,s=e.yMax-e.yMin,a=i>0?i/this.data.length:1,n=s>0?s/this.data.length:1;e.xMax+=a,e.yMax+=n,e.xMin-=a,e.yMin-=n},draw:function(){const t=this.$chart,i=this.options,s=i.data_schema.label.type,a=i.data_schema.value.type;if(!t.get(0).clientWidth)return;const n=this.data;o.isValueNumerical(s)&&this.sortData();const r=i.settings.connect_dots_with_line,l=this.config.default_settings.chartColors,h=function(t){let e=o.formatValue(t,s);if(null===e){const i=parseInt(t);e=n.length>i?null===n[i].label?"N/A":n[i].label:""}return e},c=function(t){let e=o.formatValue(t,a);if(null===e){const i=parseInt(t);e=n.length>i?null===n[t].value?"N/A":n[t].value:""}return e},u=[],d={yMax:null,yMin:null,xMax:null,xMin:null};this.processData(u,d);const p={data:u,color:l[0],markers:{show:!0,position:"ct",labelFormatter:function(t){return c(t.y)}},points:{show:!r}};e.draw(t.get(0),[p],{colors:i.settings.chartColors,fontColor:i.settings.chartFontColor,fontSize:i.settings.chartFontSize,lines:{show:r},mouse:{track:!0,relative:!0,trackFormatter:function(t){return h(t.x)+": "+c(t.y)}},yaxis:{max:d.yMax,min:d.yMin,tickFormatter:function(t){return c(t)},title:i.data_schema.value.label},xaxis:{max:d.xMax,min:d.xMin,tickFormatter:function(t){return h(t)},title:i.data_schema.label.label},HtmlText:!1,grid:{verticalLines:!1}})}})}.call(e,i,e,t))||(t.exports=o)},"./bundles/orochart/js/app/components/multiline-chart-component.js":(t,e,i)=>{var o;void 0===(o=function(t){"use strict";const e=i("./bundles/oroui/js/extend/underscore.js"),o=i("../node_modules/flotr2/flotr2.amd.js"),s=i("./bundles/orochart/js/data_formatter.js"),a=i("./bundles/orochart/js/app/components/base-chart-component.js").extend({constructor:function t(e){t.__super__.constructor.call(this,e)},draw:function(){const t=this.options,i=this.$chart,a=t.data_schema.label.type,n=this.data;if(!i.get(0).clientWidth)return;if(s.isValueNumerical(a)){const t=function(t){t.sort((function(t,e){return null===t.label||void 0===t.label?-1:null===e.label||void 0===e.label?1:s.parseValue(t.label,a)-s.parseValue(e.label,a)}))};e.each(n,t)}const r=t.settings.connect_dots_with_line,l=this.config.default_settings.chartColors;let h=0;const c=[];e.each(n,(function(t,e){const i=this.makeChart(t,h,e);h++,c.push(i)}),this),o.draw(i.get(0),c,{colors:l,title:" ",fontColor:t.settings.chartFontColor,fontSize:t.settings.chartFontSize*(this.narrowScreen?.8:1),lines:{show:r},mouse:{track:!0,relative:!0,trackFormatter:this.trackFormatter.bind(this)},yaxis:{autoscale:!0,autoscaleMargin:1,tickFormatter:this.YTickFormatter.bind(this),tickDecimals:!1,title:t.data_schema.value.label+"  "},xaxis:{autoscaleMargin:0,tickFormatter:this.XTickFormatter.bind(this),title:this.narrowScreen?" ":t.data_schema.label.label,mode:t.xaxis.mode,noTicks:t.xaxis.noTicks,labelsAngle:this.narrowScreen?90:0,margin:!0},HtmlText:!1,grid:{verticalLines:!1},legend:{show:!0,noColumns:1,position:"nw"}})},update:function(){this.narrowScreen=this.calcChartWidth()<this.NARROW_SCREEN_WIDTH,this.narrowScreen?this.aspectRatio=.75:this.aspectRatio=a.__super__.aspectRatio,a.__super__.update.call(this)},trackFormatter:function(t){return t.series.label+", "+this.XTickFormatter(t.x)+": "+this.YTickFormatter(t.y)},XTickFormatter:function(t){const e=this.options.data_schema.label.type,i=this.data;let o=s.formatValue(t,e);if(null===o){const e=parseInt(t);o=i.length>e?null===i[e].label?"N/A":i[e].label:""}return o},YTickFormatter:function(t){const e=this.options.data_schema.value.type,i=this.data;let o=s.formatValue(t,e);if(null===o){const e=parseInt(t);o=i.length>e?null===i[t].value?"N/A":i[t].value:""}return o},makeChart:function(t,e,i){const o=this.config.default_settings.chartColors,s=this.options.settings.connect_dots_with_line;return{label:i,data:this.getChartData(t),color:o[e%o.length],markers:{show:!1},points:{show:!s}}},getChartData:function(t){const e=this.options.data_schema.value.type,i=this.options.data_schema.label.type,o=[];for(const a in t){if(!t.hasOwnProperty(a))continue;let n=s.parseValue(t[a].value,e);n=null===n?parseInt(a):n;let r=s.parseValue(t[a].label,i);r=null===r?parseInt(a):r;const l=[r,n];o.push(l)}return o}});return a}.call(e,i,e,t))||(t.exports=o)},"./bundles/orochart/js/app/components/overlaid_multiline-chart-component.js":(t,e,i)=>{var o;void 0===(o=function(t){"use strict";const e=i("./bundles/orochart/js/app/components/multiline-chart-component.js"),o=i("./bundles/orochart/js/data_formatter.js");return e.extend({constructor:function t(e){t.__super__.constructor.call(this,e)},makeChart:function(t,e,i){const o=this.config.default_settings.chartColors,s=this.options.settings.connect_dots_with_line;return{label:i,data:this.getChartData(t),originalData:this.getOriginalChartData(t),color:o[e%o.length],markers:{show:!1},points:{show:!s}}},getOriginalChartData:function(t){const e=this.options.data_schema.label.type,i=[];for(const s in t){if(!t.hasOwnProperty(s))continue;let a=o.parseValue(t[s].originalLabel,e);a=null===a?parseInt(s):a;const n={value:a};if(void 0!==t[s].startLabel){let i=o.parseValue(t[s].startLabel,e);i=null===i?parseInt(s):i,n.xOriginalStartLabel=i}if(void 0!==t[s].endLabel){let i=o.parseValue(t[s].endLabel,e);i=null===i?parseInt(s):i,n.xOriginalEndLabel=i}i.push(n)}return i},trackFormatter:function(t){return void 0!==t.series.originalData[t.index].xOriginalStartLabel&&void 0!==t.series.originalData[t.index].xOriginalEndLabel?this.XTickFormatter(t.series.originalData[t.index].xOriginalStartLabel)+" - "+this.XTickFormatter(t.series.originalData[t.index].xOriginalEndLabel)+" - "+this.YTickFormatter(t.y):this.XTickFormatter(t.series.originalData[t.index].value)+" - "+this.YTickFormatter(t.y)}})}.call(e,i,e,t))||(t.exports=o)},"./bundles/orochart/js/app/components/pie-chart-component.js":(t,e,i)=>{var o;void 0===(o=function(t){"use strict";const e=i("../node_modules/flotr2/flotr2.amd.js"),o=i("./bundles/orochart/js/app/components/base-chart-component.js").extend({constructor:function t(e){t.__super__.constructor.call(this,e)},initialize:function(t){o.__super__.initialize.call(this,t),this.options.settings.ratio=t.ratio},setChartSize:function(){let t=!1;const e=this.$container,i=e.hasClass("wrapped-chart-legend"),o=this.$chart,s=e.parent(),a=this.$legend,n=Math.min(Math.round(s.width()*Number(this.options.settings.ratio)),350);return n>0&&n!==o.width()&&(o.width(n),o.height(n),a.height(n),o.parent().width(n+a.width()),t=!0),!t&&i||0===this.$legend.position().top?(t||i)&&e.outerWidth(!0)/e.width()>1.7&&(e.removeClass("wrapped-chart-legend"),e.width("auto"),t=!0):(e.width(this.$chart.width()),e.addClass("wrapped-chart-legend"),t=!0),t},setChartContainerSize:function(){},draw:function(){const t=this.$chart,i=this.$legend,o=this.data,s=this.options.settings,a=[];let n=!0;this.valueSuffix=s.hasOwnProperty("valueSuffix")?s.valueSuffix:"",this.valuePrefix=s.hasOwnProperty("valuePrefix")?s.valuePrefix:"",s.hasOwnProperty("showPercentInTooltip")&&(n=!!(parseInt(s.showPercentInTooltip)||s.showPercentInTooltip>0));const r=(n?this.percentFormatter:this.valueFormatter).bind(this);for(const t in o)o.hasOwnProperty(t)&&a.push({data:[[0,o[t].fraction]],label:o[t].label});e.draw(t.get(0),a,{colors:s.chartColors,fontColor:s.chartFontColor,fontSize:s.chartFontSize,shadowSize:0,HtmlText:!0,xaxis:{showLabels:!1},yaxis:{showLabels:!1},grid:{color:s.chartFontColor,verticalLines:!1,horizontalLines:!1,outlineWidth:0},pie:{show:!0,explode:0,sizeRatio:.8,startAngle:Math.PI/3.5,labelFormatter:function(t,e){return parseFloat(parseFloat(100*e).toFixed(2))+"%"}},mouse:{track:!0,relative:!0,lineColor:s.chartHighlightColor,trackFormatter:r},legend:{position:"ne",container:i.get(0),labelBoxWidth:20,labelBoxHeight:13,labelBoxMargin:0}})},percentFormatter:function(t){const e=parseFloat(parseFloat(100*t[this.options.settings.fraction_input_data_field]).toFixed(2));return this.getTooltipText(t.series.label,e,"","%")},valueFormatter:function(t){const e=this.data[t.nearest.seriesIndex][this.options.settings.fraction_input_data_field],i=parseFloat(parseFloat(e).toPrecision(2));return this.getTooltipText(t.series.label,i,this.valuePrefix,this.valueSuffix)},getTooltipText:function(t,e,i,o){return t+":&nbsp;&nbsp;&nbsp;"+i+e+o}});return o}.call(e,i,e,t))||(t.exports=o)},"./bundles/orochart/js/data_formatter.js":(t,e,i)=>{var o;void 0===(o=function(t){"use strict";const e=i("./bundles/oroui/js/extend/underscore.js"),o=i("./bundles/orolocale/js/formatter/number.js"),s=i("./bundles/orolocale/js/formatter/datetime.js");return{formatValue:function(t,e){let i;switch(e){case"integer":case"smallint":case"bigint":case"boolean":return o.formatInteger(t);case"decimal":case"float":return o.formatDecimal(t);case"year":return i=new Date,i.setTime(t),s.getMomentForBackendDate(i).format("YYYY");case"month":return i=new Date,i.setTime(t),s.getMomentForBackendDate(i).format("MMM YYYY");case"date":return i=new Date,i.setTime(t),s.formatDate(i);case"datetime":return i=new Date,i.setTime(t),s.formatDateTime(i);case"money":case"currency":return o.formatCurrency(t);case"currency_rounded":return o.formatCurrencyRounded(t);case"percent":return o.formatPercent(t);case"day":return i=new Date,i.setTime(t),s.getMomentForBackendDate(i).format("MMM DD");case"time":return i=new Date,i.setTime(t),s.getMomentForBackendDate(i).format(s.getTimeFormat());default:return null}},parseValue:function(t,i){switch(i){case"integer":case"smallint":case"bigint":case"boolean":return null===t&&(t=0),parseInt(t);case"decimal":case"float":case"money":case"money_value":case"currency":case"percent":return null===t&&(t=0),parseFloat(t);case"currency_rounded":return null===t&&(t=0),Math.round(t);case"date":case"year":case"month":case"day":return e.isObject(t)&&(t=t.date),s.unformatBackendDateTime(t).valueOf();case"datetime":case"time":return e.isObject(t)&&(t=t.date),s.unformatBackendDateTime(t);default:return null}},isValueNumerical:function(t){switch(t){case"integer":case"smallint":case"bigint":case"boolean":case"decimal":case"float":case"money":case"currency":case"currency_rounded":case"percent":case"date":case"month":case"datetime":return!0;default:return!1}}}}.call(e,i,e,t))||(t.exports=o)},"./bundles/orochart/js/flotr2/funnel.js":(t,e,i)=>{var o,s;o=[i("./bundles/oroui/js/extend/jquery.js"),i("./bundles/oroui/js/extend/underscore.js"),i("../node_modules/flotr2/flotr2.amd.js")],void 0===(s=function(t,e,i){"use strict";i.addType("funnel",{options:{show:!1,lineWidth:2,fill:!0,fillColor:null,fillOpacity:.5,fontColor:"#B2B2B2",explode:5,marginX:250,marginY:20,colors:["#ACD39C","#BE9DE2","#6598DA","#ECC87E","#A4A2F6","#6487BF","#65BC87","#8985C2","#ECB574","#84A377"]},allSeries:[],shapes:[],stacked:!1,draw:function(t){const e=this.calculateShape(t);this.shapes.push(e),this.plot(e,t),t.showLabels&&this.renderLabel(e,t)},hit:function(t){let i,o,s;const a=t.args[0],n=a.relX,r=a.relY;!e.every(this.shapes,(function(e,a){let l=!0;return n>=e.x1&&n<=e.x4&&r>=e.y1&&r<=e.y4&&(i=(e.x1-n)*(e.y4-e.y1)-(e.x1-e.x1)*(e.y1-r),o=(e.x1-n)*(e.y4-e.y4)-(e.x4-e.x1)*(e.y4-r),s=(e.x4-n)*(e.y1-e.y4)-(e.x1-e.x4)*(e.y4-r),(0===i||0===o||0===s||i>0&&o>0&&s>0||i<0&&o<0&&s<0)&&(l=!1)),n>=e.x3&&n<=e.x2&&r>=e.y2&&r<=e.y3&&(i=(e.x3-n)*(e.y2-e.y3)-(e.x2-e.x3)*(e.y3-r),o=(e.x2-n)*(e.y3-e.y2)-(e.x2-e.x2)*(e.y2-r),s=(e.x2-n)*(e.y3-e.y3)-(e.x3-e.x2)*(e.y3-r),(0===i||0===o||0===s||i>0&&o>0&&s>0||i<0&&o<0&&s<0)&&(l=!1)),!(r>=e.y1&&r<=e.y3&&n>=e.x1&&n<=e.x2&&!1!==l&&(this.stacked===a||(this.stacked=a,this.clearHit(t),this.drawHit(t,a)),1))}),this)||(this.stacked=!1,this.clearHit(t))},drawHit:function(t,e){const i=t.context,o=this.shapes[e];i.save(),i.lineJoin="round",i.lineWidth=t.lineWidth,i.strokeStyle="#FF3F19",i.beginPath(),i.moveTo(o.x1+2*t.lineWidth,o.y1),i.lineTo(o.x2+2*t.lineWidth,o.y2),i.lineTo(o.x3+2*t.lineWidth,o.y3),i.lineTo(o.x4+2*t.lineWidth,o.y4),i.closePath(),i.stroke(),i.restore()},clearHit:function(t){const i=t.context;i.save(),e.each(this.shapes,(function(e){i.clearRect(e.x1-2*t.lineWidth,e.y1-t.lineWidth,e.x2-e.x1+5*t.lineWidth,e.y4-e.y1+5*t.lineWidth)})),i.restore()},plot:function(t,e){const o=e.context;o.save(),o.lineJoin="round",o.lineWidth=e.lineWidth,o.strokeStyle=t.color,o.fillStyle=i.Color.parse(t.color).alpha(e.fillOpacity).toString(),o.translate(.5,.5),o.beginPath(),o.moveTo(t.x1,t.y1),o.lineTo(t.x2,t.y2),o.lineTo(t.x3,t.y3),o.lineTo(t.x4,t.y4),o.closePath(),o.stroke(),o.fill(),o.restore()},calculateShape:function(t){let e,i;const o=t.index,s=this.allSeries[o],a=t.explode||0,n=t.marginX||0,r=t.marginY||0,l=t.width-n,h=t.height-2*r-a;e=o>0?this.shapes[o-1].leftHeight:h+(t.extraHeight||0),i=o>0?this.shapes[o-1].bottomWidth:l,a>0&&0!==o&&(s.isNozzle||(i=Math.ceil(i*(e-a)/e)),e-=a);const c={};c.color=s.color=t.colors[o],c.height=Math.round(h/this.total()*t.data[0]),a>0&&c.height>a&&(c.height-=a);const u=Math.ceil(i/2),d=Math.ceil(u*(e-c.height)/e);return c.leftHeight=e-c.height,c.topWidth=2*u,c.bottomWidth=2*(s.isNozzle?u:d),c.x1=Math.ceil((l-i)/2),c.x2=c.x1+c.topWidth,c.x3=c.x1+(c.topWidth+c.bottomWidth)/2,c.x4=c.x1+(c.topWidth-c.bottomWidth)/2,c.y1=c.y2=h-e+r,c.y3=c.y4=h-c.leftHeight+r,c},renderLabel:function(e,o){const s=o.context,a=o.index,n=this.allSeries[a],r=t(o.element).find(".flotr-grid-label").last(),l=o.width-.8*o.marginX,h=r[0]?r.position().top+r.outerHeight(!0)+1.2*o.fontSize:o.marginY,c={size:1.2*o.fontSize,color:o.fontColor,weight:1.5};o.htmlText=!0,c.textAlign="left",c.textBaseline="top",c.wordWrap="break-word";const u=[],d=c.textBaseline+":"+(h-c.size)+"px;"+c.textAlign+":"+(l+10)+"px;";u.push('<div style="',d,'" class="flotr-grid-label funnel-label">',n.label,"</div>");const p=i.DOM.node('<div style="color:#454545" class="flotr-labels"></div>');i.DOM.insert(p,u.join("")),i.DOM.insert(o.element,p),s.beginPath(),s.lineWidth=1,s.strokeStyle=o.fontColor,s.moveTo(e.x2,e.y2),s.lineTo(l,h),s.stroke()},extendRange:function(t,e,i){e[0]<=0&&(e[0]=1e-4),this.allSeries.push(t),i.index=this.allSeries.length-1,t.isNozzle||(this._sum=(this._sum||0)+e[0])},total:function(){const t=this._sum;let i=0;return this._total||(e.each(this.allSeries,(function(e){e.isNozzle&&(e.data[0]=.1*t),i+=e.data[0]})),this._total=Math.round(i)),this._total}})}.apply(e,o))||(t.exports=s)},"./bundles/orofusioncharts/js/app/views/abstract-chart-view.js":(t,e,i)=>{var o;void 0===(o=function(t){"use strict";const e=i("./bundles/oroui/js/extend/underscore.js"),o=i("./bundles/oroui/js/app/views/base/view.js"),s=i("./bundles/orofusioncharts/js/extend/fusioncharts.js"),a=o.extend({chart:null,DataHandler:null,defaultChartOptions:{dataFormat:"json",width:"100%",height:400},constructor:function t(e){t.__super__.constructor.call(this,e)},initialize:function(t){e.extend(this,e.pick(t,["chartOptions"])),a.__super__.initialize.call(this,t)},dispose:function(){this.disposed||(this.chart.dispose(),a.__super__.dispose.call(this))},render:function(){let t;return this.chart||(t=this.prepareChartOptions(),this.chart=new s(t)),this.chart.render(),this},prepareChartOptions:function(){const t=this.prepareDataSource();return e.extend({type:t.type,dataSource:t,id:this.chartOptions.containerId,renderAt:this.$el.attr("id")},this.defaultChartOptions)},prepareDataSource:function(){return this.getDataHandler().getDataSource()},getDataHandler:function(){const t=this.chartOptions;return new this.DataHandler(t.dataSource,t.options,t.isCurrencyPrepend)}});return a}.call(e,i,e,t))||(t.exports=o)},"./bundles/orofusioncharts/js/app/views/bar-chart-view.js":(t,e,i)=>{var o;void 0===(o=function(t){"use strict";const e=i("./bundles/oroui/js/extend/underscore.js"),o=i("./bundles/orofusioncharts/js/fusion-data-handler.js"),s=i("./bundles/orofusioncharts/js/app/views/abstract-chart-view.js");return s.extend({DataHandler:o,defaultChartOptions:e.defaults({height:300},s.prototype.defaultChartOptions),constructor:function t(e){t.__super__.constructor.call(this,e)},prepareDataSource:function(){let t;const e=this.getDataHandler(),i=e.getDataSource(),o=Math.ceil(1.12*e.getMaxValue())||5,s=Math.floor(Math.log10(o)),a=Math.pow(10,s),n=o/a;t=n<2?a/5:n<4?a/2:n<8?a:2*a;const r=Math.ceil(o/t)*t;return i.chart.yAxisMaxValue=r,i.chart.numDivLines=r/t-1,i}})}.call(e,i,e,t))||(t.exports=o)},"./bundles/orofusioncharts/js/app/views/funnel-chart-view.js":(t,e,i)=>{var o;void 0===(o=function(t){"use strict";const e=i("./bundles/oroui/js/extend/underscore.js"),o=i("./bundles/orofusioncharts/js/app/views/abstract-chart-view.js"),s=o.extend({defaultChartOptions:e.defaults({width:"80%",height:300},o.prototype.defaultChartOptions),constructor:function t(e){t.__super__.constructor.call(this,e)},prepareChartOptions:function(){const t=s.__super__.prepareChartOptions.call(this);return e.isMobile()&&(t.height=300+12*this.chartOptions.dataSource.data.length),t},prepareDataSource:function(){return this.chartOptions.dataSource}});return s}.call(e,i,e,t))||(t.exports=o)},"./bundles/orofusioncharts/js/app/views/line-chart-view.js":(t,e,i)=>{var o;void 0===(o=function(t){"use strict";const e=i("./bundles/oroui/js/extend/underscore.js"),o=i("./bundles/orofusioncharts/js/fusion-data-handler.js"),s=i("./bundles/orofusioncharts/js/app/views/abstract-chart-view.js");return s.extend({DataHandler:o,defaultChartOptions:e.defaults({height:300},s.prototype.defaultChartOptions),constructor:function t(e){t.__super__.constructor.call(this,e)},prepareDataSource:function(){const t=this.getDataHandler(),e=t.getDataSource();let i=t.getMaxValue(),o=t.getMinValue(),s=(i-o)/10;const a=o>=0;return s=0===s?1:s,i+=s,o-=s,e.chart.yAxisMaxValue=Math.round(i),(!a||o>0)&&(e.chart.yAxisMinValue=Math.floor(o)),e}})}.call(e,i,e,t))||(t.exports=o)},"./bundles/orofusioncharts/js/app/views/multiline-chart-view.js":(t,e,i)=>{var o;void 0===(o=function(t){"use strict";const e=i("./bundles/orofusioncharts/js/multiple-data-handler.js");return i("./bundles/orofusioncharts/js/app/views/abstract-chart-view.js").extend({DataHandler:e,constructor:function t(e){t.__super__.constructor.call(this,e)}})}.call(e,i,e,t))||(t.exports=o)},"./bundles/orofusioncharts/js/app/views/pie-chart-view.js":(t,e,i)=>{var o;void 0===(o=function(t){"use strict";const e=i("./bundles/oroui/js/extend/underscore.js"),o=i("./bundles/orofusioncharts/js/app/views/abstract-chart-view.js");return o.extend({defaultChartOptions:e.defaults({height:300},o.prototype.defaultChartOptions),constructor:function t(e){t.__super__.constructor.call(this,e)},prepareDataSource:function(){return this.chartOptions.dataSource}})}.call(e,i,e,t))||(t.exports=o)},"./bundles/orofusioncharts/js/app/views/stackedbar-chart-view.js":(t,e,i)=>{var o;void 0===(o=function(t){"use strict";const e=i("./bundles/orofusioncharts/js/multiple-data-handler.js");return i("./bundles/orofusioncharts/js/app/views/abstract-chart-view.js").extend({DataHandler:e,constructor:function t(e){t.__super__.constructor.call(this,e)}})}.call(e,i,e,t))||(t.exports=o)},"./bundles/orofusioncharts/js/fusion-data-handler.js":(t,e,i)=>{var o;void 0===(o=function(t){"use strict";const e=i("./bundles/orochart/js/data_formatter.js"),o=i("./bundles/orolocale/js/locale-settings.js"),s=i("./bundles/oroui/js/extend/underscore.js"),a=i("./bundles/orotranslation/js/translator.js"),n=function(t,i,s){const n=i.data_schema;if(t.data=t.data.sort((function(t,i){if(null===t.label||void 0===t.label)return-1;if(null===i.label||void 0===i.label)return 1;const o=e.parseValue(t.label,n.label.type),s=e.parseValue(i.label,n.label.type);return o===s?0:o>s?1:-1})),"percent"===n.value.type)t.chart.numberSuffix="%";else if("currency"===n.value.type||"money"===n.value.type){if(null!==s){const e=o.getCurrencySymbol(),i="number"+(s?"Prefix":"Suffix");t.chart[i]=e}t.chart.forceDecimals="1"}let r=0;t.data.length&&(r=e.parseValue(t.data[0].value,n.value.type));let l=r;for(const i in t.data){if(!t.data.hasOwnProperty(i))continue;const o=t.data[i];if(null!==o.label&&void 0!==o.label){const t=e.parseValue(o.label,n.label.type);o.label=null===t?o.label:e.formatValue(t,n.label.type)}else o.label=a("oro.chart.no_data");o.displayValue=e.formatValue(o.value,n.value.type),"percent"===n.value.type?o.value*=100:o.value=null===o.value?0:e.parseValue(o.value,n.value.type),o.value>r&&(r=o.value),o.value<l&&(l=o.value),t.data[i]=o,t.chart.yAxisValuesStep=1}this.dataSource=t,this.min=l,this.max=r};return s.extend(n.prototype,{getMaxValue:function(){return this.max},getMinValue:function(){return this.min},getDataSource:function(){return this.dataSource}}),n}.call(e,i,e,t))||(t.exports=o)},"./bundles/orofusioncharts/js/multiple-data-handler.js":(t,e,i)=>{var o;void 0===(o=function(t){"use strict";const e=i("./bundles/orochart/js/data_formatter.js"),o=i("./bundles/orolocale/js/locale-settings.js"),s=i("./bundles/oroui/js/extend/underscore.js"),a=i("./bundles/orotranslation/js/translator.js");return function(t,i,n){const r=i.data_schema.value.type;if("percent"===r)t.chart.numberSuffix="%";else if(-1!==["currency","currency_rounded"].indexOf(r)){if(null!==n){const e=o.getCurrencySymbol(),i="number"+(n?"Prefix":"Suffix");t.chart[i]=e}t.chart.forceDecimals="currency"===r?"1":"0"}let l=0,h=0;const c=i.data_schema.label.type;this.formatLabel=function(t){if(t){if(-1!==["year","month","date","day","time"].indexOf(c)){const i=e.parseValue(t,c);t=null===i?t:e.formatValue(i,c)}}else t=a("oro.chart.no_data");return t},s.each(t.dataset,(t=>{let o=0;s.each(t.data,(t=>{void 0!==t.label&&(t.label=this.formatLabel(t.label),void 0!==t.tooltext&&(t.tooltext=t.tooltext.replace(/(?:^|\b)\$label(?:$|\b)/,t.label),void 0!==t.startLabel&&(t.tooltext=t.tooltext.replace(/\$startLabel/,this.formatLabel(t.startLabel))),void 0!==t.endLabel&&(t.tooltext=t.tooltext.replace(/\$endLabel/,this.formatLabel(t.endLabel))))),t.displayValue=e.formatValue(t.value,r),"percent"===r?t.value*=100:t.value=null===t.value?0:e.parseValue(t.value,r),i.default_settings&&i.default_settings.trackTotal&&(t.value+=o,t.displayValue=t.value),l=s.max([l,t.value,e.parseValue(t.value,r)]),h=s.min([t.value,h]),o=t.value}))})),Array.isArray(t.categories)?t.categories.forEach((({category:t})=>t.forEach((t=>t.label=this.formatLabel(t.label))))):t.categories instanceof Object&&t.categories.category.forEach((t=>t.label=this.formatLabel(t.label))),this.getDataSource=function(){return t}}}.call(e,i,e,t))||(t.exports=o)},"./bundles/orosellerdashboard/js/app/views/bar-chart-count-view.js":(t,e,i)=>{var o;void 0===(o=function(t){"use strict";const e=i("./bundles/oroui/js/extend/underscore.js"),o=i("./bundles/orotranslation/js/translator.js"),s=i("./bundles/orofusioncharts/js/fusion-data-handler.js"),a=i("./bundles/orofusioncharts/js/app/views/bar-chart-view.js");return a.extend({DataHandler:s,defaultChartOptions:e.defaults({height:300,dataEmptyMessage:o("oro.seller_dashboard.chart.no_data.label")},a.prototype.defaultChartOptions),constructor:function t(e){t.__super__.constructor.call(this,e)},prepareDataSource:function(){return this.chartOptions.dataSource}})}.call(e,i,e,t))||(t.exports=o)},"./bundles/orosellerdashboard/js/app/views/bar-chart-view.js":(t,e,i)=>{var o;void 0===(o=function(t){"use strict";const e=i("./bundles/oroui/js/extend/underscore.js"),o=i("./bundles/orotranslation/js/translator.js"),s=i("./bundles/orofusioncharts/js/app/views/bar-chart-view.js");return s.extend({defaultChartOptions:e.defaults({height:300,dataEmptyMessage:o("oro.seller_dashboard.chart.no_data.label")},s.prototype.defaultChartOptions),constructor:function t(e){t.__super__.constructor.call(this,e)}})}.call(e,i,e,t))||(t.exports=o)},"./bundles/orosellerdashboard/js/app/views/doughnut-chart-view.js":(t,e,i)=>{var o;void 0===(o=function(t){"use strict";const e=i("./bundles/oroui/js/extend/underscore.js"),o=i("./bundles/orotranslation/js/translator.js"),s=i("./bundles/orofusioncharts/js/fusion-data-handler.js"),a=i("./bundles/orofusioncharts/js/app/views/abstract-chart-view.js"),n=i("./bundles/orolocale/js/locale-settings.js");return a.extend({DataHandler:s,defaultChartOptions:e.defaults({height:300,currencySymbol:n.getCurrencySymbol(),dataEmptyMessage:o("oro.seller_dashboard.chart.no_data.label")},a.prototype.defaultChartOptions),constructor:function t(e){t.__super__.constructor.call(this,e)},prepareDataSource:function(){if(!this.chartOptions.isCurrencyPrepend)return this.chartOptions.dataSource;let t;const e=this.getDataHandler(),i=e.getDataSource(),o=Math.ceil(1.12*e.getMaxValue())||5,s=Math.floor(Math.log10(o)),a=Math.pow(10,s),n=o/a;t=n<2?a/5:n<4?a/2:n<8?a:2*a;const r=Math.ceil(o/t)*t;return i.chart.yAxisMaxValue=r,i.chart.numDivLines=r/t-1,i}})}.call(e,i,e,t))||(t.exports=o)}}]);