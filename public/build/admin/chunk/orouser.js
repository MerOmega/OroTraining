(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[786],{"../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/oroui/templates/tab-collection-container.html":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./bundles/oroui/js/extend/underscore.js");module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div data-page-component-responsive-tabs="'+(null==(__t=JSON.stringify(tabOptions))?"":_.escape(__t))+'">\n    <ul class="'+(null==(__t=templateClassName)?"":_.escape(__t))+'" role="tablist" data-name="tabs-list"></ul>\n</div>\n';return __p}},"../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/oroui/templates/tab-collection-item.html":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./bundles/oroui/js/extend/underscore.js");module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<a  href="#"\n    id="'+(null==(__t=uniqueId)?"":_.escape(__t))+'"\n    class="nav-link ',obj.active&&(__p+="active"),__p+='"\n    role="tab"\n    data-emulate-btn-press=""\n    data-toggle="tab"\n    aria-controls="',obj.controlTabPanel?__p+=""+(null==(__t=controlTabPanel)?"":_.escape(__t)):__p+=""+(null==(__t=id)?"":_.escape(__t)),__p+='"\n    aria-selected="',obj.active?__p+="true":__p+="false",__p+='"\n    >\n    '+(null==(__t=label)?"":_.escape(__t))+"\n</a>\n";return __p}},"../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orouser/templates/role/capability-group.html":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./bundles/oroui/js/extend/underscore.js");module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+="",editable&&(__p+='\n<button type="button" data-name="capabilities-select-all" class="'+(null==(__t=selectAllClassName)?"":_.escape(__t))+' role-capability__select-all"\n',allSelected&&(__p+='disabled="disabled"'),__p+="\n>"+(null==(__t=_.__("oro.role.capability_block.select_all"))?"":_.escape(__t))+"</button>\n"),__p+='\n<h2 class="role-capability__group-title">\n    <span class="role-capability__group-own-title">'+(null==(__t=label)?"":_.escape(__t))+'</span>\n    <span class="role-capability__group-common-title">'+(null==(__t=_.__("oro.role.capability_block.label"))?"":_.escape(__t))+'</span>\n</h2>\n<div data-name="capability-empty-items" class="role-capability__empty-items">\n    '+(null==(__t=_.__("oro.role.capability_block.no_capabilities_available"))?"":_.escape(__t))+'\n</div>\n<div data-name="capability-items" class="role-capability__items"></div>\n';return __p}},"../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orouser/templates/role/capability-item.html":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./bundles/oroui/js/extend/underscore.js");module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+="",editable?(__p+="\n<label ",description&&(__p+=' title="'+(null==(__t=description)?"":_.escape(__t))+'"'),__p+='\n    class="checkbox-label role-capability__item-label',isAccessLevelChanged&&(__p+=" role-capability__item-label_changed"),__p+='"\n    ><input type="checkbox" value="'+(null==(__t=selected_access_level)?"":_.escape(__t))+'"\n        ',access_level===selected_access_level&&(__p+=" checked"),__p+=">"+(null==(__t=label)?"":_.escape(__t))+"</label>\n"):(__p+="\n<div",description&&(__p+=' title="'+(null==(__t=description)?"":_.escape(__t))+'"'),__p+=' class="role-capability__item-label',noAccess&&(__p+=" role-capability__item-label--no-access"),__p+='">'+(null==(__t=label)?"":_.escape(__t))+"</div>\n"),__p+="\n";return __p}},"../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orouser/templates/user-reset-password-show-hide.html":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./bundles/oroui/js/extend/underscore.js");module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<span class="fa-eye-slash" id="show-hide-pass" data-role="show-hide-pass" style="cursor: pointer; font-size: 16px;" title="'+(null==(__t=title)?"":_.escape(__t))+'"/></span>\n';return __p}},"../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orouser/templates/user-reset-password-suggestion.html":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./bundles/oroui/js/extend/underscore.js");module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="controls-description">\n    <a href="#" id="generate-pass" data-role="generate-pass">'+(null==(__t=label)?"":_.escape(__t))+"</a>\n</div>\n";return __p}},"./bundles/oroaddress/js/address-book.js":(e,t,s)=>{var o,i;o=[s("./bundles/oroui/js/extend/jquery.js"),s("./bundles/oroui/js/extend/underscore.js"),s("./bundles/oroui/js/app/views/base/view.js"),s("./bundles/orotranslation/js/translator.js"),s("./bundles/oroui/js/mediator.js"),s("./bundles/oroui/js/messenger.js"),s("./bundles/orowindows/js/widget/dialog-widget.js"),s("./bundles/oroaddress/js/mapservice/googlemaps.js"),s("./bundles/oroaddress/js/address/view.js"),s("./bundles/oroaddress/js/address/collection.js"),s("./bundles/oroui/js/delete-confirmation.js")],void 0===(i=function(e,t,s,o,i,n,r,a,l,c,d){"use strict";return s.extend({isEmpty:!1,options:{mapOptions:{zoom:12},template:null,addressListUrl:null,addressCreateUrl:null,addressUpdateUrl:null,addressDeleteUrl:null,addressesContainerHtml:'<div class="map-address-list"></div>',noDataContainerHtml:'<div class="no-data"></div>',mapView:a,addressMapOptions:{},addressTagName:"div",allowToRemovePrimary:!1,confirmRemove:!0,confirmRemoveComponent:d,showMap:!0},noDataMessage:o("Empty Address Book"),attributes:{class:"map-box"},constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){this.options=t.defaults(e||{},this.options),this.options.collection=this.options.collection||new c,this.options.collection.url=this._getUrl("addressListUrl"),this.listenTo(this.getCollection(),"activeChange",this.activateAddress),this.listenTo(this.getCollection(),"add",this.addAddress),this.listenTo(this.getCollection(),"reset",this.addAll),this.listenTo(this.getCollection(),"remove",this.onAddressRemove),this._initMainContainers(),this.options.showMap&&this.initializeMap()},initializeMap:function(){if(this.mapView)return;this.$mapContainerFrame=this.$el.find(".map-visual-frame"),this.$mapContainerFrame.length||(this.$mapContainerFrame=e('<div class="map-visual-frame"/>').appendTo(this.$el)),this.$mapContainerFrame.toggle(!this.isEmpty),this.mapView=new this.options.mapView({mapOptions:this.options.mapOptions,el:this.$mapContainerFrame});const t=this.getCollection().find({active:!0});t&&this.activateAddress(t)},disposeMap:function(){this.mapView&&(this.$mapContainerFrame.remove(),this.mapView.dispose(),delete this.$mapContainerFrame,delete this.mapView)},_initMainContainers:function(){this.$noDataContainer=e(this.options.noDataContainerHtml).text(this.noDataMessage),this.$addressesContainer=e(this.options.addressesContainerHtml),e.contains(this.$el[0],this.$addressesContainer[0])||this.$el.append(this.$addressesContainer),e.contains(this.$el[0],this.$noDataContainer[0])||this.$el.append(this.$noDataContainer)},_getUrl:function(e,...s){return t.isFunction(this.options[e])?this.options[e].apply(this,s):this.options[e]},getCollection:function(){return this.options.collection},onAddressRemove:function(){if(!this.getCollection().where({active:!0}).length){const e=this.getCollection().where({primary:!0});e.length?e[0].set("active",!0):this.getCollection().length&&this._activateFirstAddress()}},_activateFirstAddress:function(){this.getCollection().at(0).set("active",!0)},addAll:function(e){this.$addressesContainer.empty(),e.length>0?(this._hideEmptyMessage(),e.each((function(e){this.addAddress(e)}),this)):this._showEmptyMessage(),1===e.length?this._activateFirstAddress():this._activatePreviousAddress(),this.$el.trigger("content:changed")},_hideEmptyMessage:function(){this.isEmpty=!1,this.$noDataContainer.hide(),this.$mapContainerFrame&&this.$mapContainerFrame.show(),this.$addressesContainer.show()},_showEmptyMessage:function(){this.isEmpty=!0,this.$noDataContainer.show(),this.$mapContainerFrame&&this.$mapContainerFrame.hide(),this.$addressesContainer.hide()},_activatePreviousAddress:function(){if(void 0!==this.activeAddress){const e=this.getCollection().where({id:this.activeAddress.get("id")});e.length&&e[0].set("active",!0)}},addAddress:function(e){if(!this.$el.find("#address-book-"+e.id).length){const t=new l({model:e,map:this.options.addressMapOptions,template:this.options.template,allowToRemovePrimary:this.options.allowToRemovePrimary,confirmRemove:this.options.confirmRemove,confirmRemoveComponent:this.options.confirmRemoveComponent,addressDeleteUrl:this._getUrl("addressDeleteUrl",e),tagName:this.options.addressTagName,isAddressHtmlFormatted:this.options.isAddressHtmlFormatted});t.on("edit",this.editAddress.bind(this)),this.$addressesContainer.append(t.render().$el)}},editAddress:function(e,t){this._openAddressEditForm(o("Update Address"),this._getUrl("addressUpdateUrl",t))},createAddress:function(){this._openAddressEditForm(o("Add Address"),this._getUrl("addressCreateUrl"))},_openAddressEditForm:function(e,t){this.addressEditDialog||(this.addressEditDialog=new r({url:t,title:e,regionEnabled:!1,incrementalPosition:!1,dialogOptions:{modal:!0,resizable:!1,width:585,autoResize:!0,close:()=>{delete this.addressEditDialog}}}),this.addressEditDialog.render(),i.on("page:request",(()=>{this.addressEditDialog&&this.addressEditDialog.remove()})),this.addressEditDialog.on("formSave",(()=>{this.addressEditDialog.remove(),n.notificationFlashMessage("success",o("Address saved")),this.reloadAddresses()})))},reloadAddresses:function(){this.getCollection().fetch({reset:!0})},activateAddress:function(e){e.get("primary")||(this.activeAddress=e),this.mapView&&this.mapView.updateMap(e.getSearchableString(),e.get("label"))}})}.apply(t,o))||(e.exports=i)},"./bundles/oroaddress/js/address/collection.js":(e,t,s)=>{var o,i;o=[s("./bundles/oroui/js/extend/underscore.js"),s("./bundles/oroui/js/extend/backbone.js"),s("./bundles/oroaddress/js/address/model.js")],void 0===(i=function(e,t,s){"use strict";return t.Collection.extend({model:s,constructor:function e(...t){e.__super__.constructor.apply(this,t)},initialize:function(){this.on("change:active",this.onActiveChange,this)},onActiveChange:function(t){if(t.get("active")){const s=this.where({active:!0});e.each(s,(function(e){e.get("id")!==t.get("id")&&e.set("active",!1)})),this.trigger("activeChange",t)}}})}.apply(t,o))||(e.exports=i)},"./bundles/oroaddress/js/address/model.js":(e,t,s)=>{var o,i;o=[s("./bundles/oroui/js/extend/backbone.js")],void 0===(i=function(e){"use strict";return e.Model.extend({defaults:{label:"",namePrefix:"",firstName:"",middleName:"",lastName:"",nameSuffix:"",organization:"",street:"",street2:"",city:"",country:"",countryIso2:"",countryIso3:"",postalCode:"",region:"",regionText:"",regionCode:"",primary:!1,types:[],active:!1},constructor:function e(t,s){e.__super__.constructor.call(this,t,s)},getSearchableString:function(){let e="";return this.get("country")&&(e+=this.get("country")+", "),this.get("region")&&(e+=this.get("region")+", "),this.get("city")&&(e+=this.get("city")+", "),this.get("street")&&(e+=this.get("street")+" "),this.get("street2")&&(e+=this.get("street2")+" "),this.get("postalCode")&&(e+=this.get("postalCode")+", "),e}})}.apply(t,o))||(e.exports=i)},"./bundles/oroaddress/js/address/view.js":(e,t,s)=>{var o;void 0===(o=function(e){"use strict";const t=s("./bundles/oroui/js/extend/jquery.js"),o=s("./bundles/oroui/js/extend/underscore.js"),i=s("./bundles/oroui/js/app/views/base/view.js"),n=s("./bundles/oroui/js/mediator.js"),r=s("./bundles/orolocale/js/formatter/address.js"),a=s("./bundles/oroui/js/delete-confirmation.js"),l=s("./bundles/orotranslation/js/translator.js"),c=s("./bundles/oroui/js/app/services/load-modules.js"),d=i.extend({tagName:"div",attributes:{class:"map-item"},confirmRemoveComponent:a,confirmRemoveMessages:{title:l("Delete Confirmation"),content:l("Are you sure you want to delete this item?"),okText:l("Yes, Delete"),cancelText:l("Cancel")},events:{click:"activate","click .item-edit-button":"edit","click .item-remove-button":"close"},defaultMapping:{namePrefix:"prefix",nameSuffix:"suffix",firstName:"first_name",middleName:"middle_name",lastName:"last_name",organization:"organization",street:"street",street2:"street2",city:"city",country:"country",countryIso2:"country_iso2",countryIso3:"country_iso3",postalCode:"postal_code",region:"region",regionText:"region",regionCode:"region_code",phone:"phone"},options:{map:{},allowToRemovePrimary:!1,confirmRemove:!1,addressDeleteUrl:null,isAddressHtmlFormatted:!1},constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){this.options=o.defaults(e||{},this.options),this.mapping=o.extend({},this.defaultMapping,this.options.map||{}),this.options.confirmRemoveComponent&&(o.isString(this.options.confirmRemoveComponent)?this.confirmRemoveComponentPromise=c(this.options.confirmRemoveComponent):this.confirmRemoveComponent=this.options.confirmRemoveComponent),this.$el.attr("id","address-book-"+this.model.id),this.template=o.template(t(e.template||"#template-addressbook-item").html()),this.listenTo(this.model,"destroy",this.dispose),this.listenTo(this.model,"change:active",this.toggleActive)},dispose:function(e){if(!this.disposed)return delete this.confirmRemoveComponent,d.__super__.dispose.call(this)},activate:function(){this.model.set("active",!0)},toggleActive:function(){this.model.get("active")?this.$el.addClass("active"):this.$el.removeClass("active")},edit:function(){this.trigger("edit",this,this.model)},close:function(){this.model.get("primary")&&!this.options.allowToRemovePrimary?n.execute("showErrorMessage",l("Primary address can not be removed")):this.confirmClose(this.model.destroy.bind(this.model,{url:this.options.addressDeleteUrl,wait:!0}))},confirmClose:function(e){if(this.options.confirmRemove)if(this.confirmRemoveComponentPromise)this.confirmRemoveComponentPromise.then(function(t){if(this.disposed)return;const s=new this.confirmRemoveComponent(this.confirmRemoveMessages);this.subview("confirmRemoveView",s),s.on("ok",e).open(),this.confirmRemoveComponent=t,delete this.confirmRemoveComponentPromise}.bind(this));else{let t=this.subview("confirmRemoveView");void 0===t||t.disposed?(t=new this.confirmRemoveComponent(this.confirmRemoveMessages),this.subview("confirmRemoveView",t)):t.off("ok"),t.on("ok",e).open()}else e()},render:function(){const e=this.options.isAddressHtmlFormatted,t=this.model.toJSON(),s=this.prepareData(t);return t.formatted_address=r.format(s,null,"\n",e),t.searchable_string=this.model.getSearchableString(),t.isAddressHtmlFormatted=e,this.$el.append(this.template(t)),this.model.get("primary")&&this.activate(),this},prepareData:function(e){const t={},s=this.mapping;return e&&o.each(e,(function(e,o){s[o]&&(t[s[o]]=t[s[o]]||e)})),t}});return d}.call(t,s,t,e))||(e.exports=o)},"./bundles/oroaddress/js/app/components/address-book-component.js":(e,t,s)=>{var o;void 0===(o=function(e){"use strict";const t=s("./bundles/oroui/js/app/components/base/component.js"),o=s("./bundles/oroaddress/js/address-book.js");return t.extend({optionNames:t.prototype.optionNames.concat(["addressListUrl","addressBookSelector","addresses","addressMapOptions","isAddressHtmlFormatted"]),addressBookSelector:"#address-book",isAddressHtmlFormatted:!1,constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(){this._createAddressBook()},_createAddressBook:function(){this.view=this._initializeAddressBook(this._getAddressBookViewOptions()),this.view.getCollection().reset(JSON.parse(this.addresses))},_getAddressBookViewOptions:function(){return{el:this.addressBookSelector,addressListUrl:this.addressListUrl,addressMapOptions:this.addressMapOptions||{},isAddressHtmlFormatted:this.isAddressHtmlFormatted}},_initializeAddressBook:function(e){return new o(e)}})}.call(t,s,t,e))||(e.exports=o)},"./bundles/oroaddress/js/app/components/address-book-widget-component.js":(e,t,s)=>{var o;void 0===(o=function(e){"use strict";const t=s("./bundles/oroaddress/js/app/components/address-book-component.js"),o=s("./bundles/oroui/js/widget/widget-manager.js"),i=s("./bundles/fosjsrouting/js/router.js"),n=s("./bundles/oroui/js/extend/underscore.js"),r=t.extend({optionNames:t.prototype.optionNames.concat(["wid","addressCreateUrl","addressUpdateRoute","addressDeleteRoute"]),constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){r.__super__.initialize.call(this,e),o.getWidgetInstance(this.wid,this._onWidgetLoad.bind(this))},_getAddressBookViewOptions:function(){const e=this.addressDeleteRoute,t=this.addressUpdateRoute,s=r.__super__._getAddressBookViewOptions.call(this);return n.extend(s,{addressCreateUrl:this.addressCreateUrl,addressUpdateUrl:function(e){return i.generate(t.route,n.extend({id:e.get("id")},t.params))},addressDeleteUrl:function(t){return i.generate(e.route,n.extend({addressId:t.get("id")},e.params))}})},_onWidgetLoad:function(e){e.getAction("add_address","adopted",function(e){const t=this.view;e.on("click",t.createAddress.bind(t))}.bind(this))}});return r}.call(t,s,t,e))||(e.exports=o)},"./bundles/oroaddress/js/app/views/address-collection-view.js":(e,t,s)=>{var o;void 0===(o=function(e){"use strict";return s("./bundles/oroui/js/app/views/base/view.js").extend({events:{'click [data-name="field__types"] input':"onClicked"},constructor:function e(t){e.__super__.constructor.call(this,t)},onClicked:function(e){const t=e.currentTarget;t.checked&&(this.$('[name$="[types][]"][value="'+t.value+'"]').prop("checked",!1),t.checked=!0)}})}.call(t,s,t,e))||(e.exports=o)},"./bundles/oroaddress/js/mapservice/googlemaps.js":(e,t,s)=>{var o;void 0===(o=function(e){"use strict";const t=s("./bundles/oroui/js/extend/underscore.js"),o=s("./bundles/oroui/js/extend/backbone.js"),i=s("./bundles/orotranslation/js/translator.js"),n=s("./bundles/orolocale/js/locale-settings.js"),r=s("./bundles/oroui/js/app/views/loading-mask-view.js"),a=s("./bundles/oroui/js/app/views/base/view.js"),l=s("./bundles/oroui/js/messenger.js"),c=o.$;return a.extend({options:{mapOptions:{zoom:17,mapTypeControl:!0,panControl:!1,zoomControl:!0},apiVersion:"3.exp",apiKey:null,showWeather:!0},mapLocationCache:{},mapsLoadExecuted:!1,errorMessage:null,geocoder:null,mapRespondingTimeout:2e3,loadingMask:null,constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){this.options=t.defaults(e||{},t.pick(n.settings,["apiKey"]),this.options),this.$viewContainer=c('<div class="map-visual-container"/>').appendTo(this.$el),this.$mapContainer=c('<div class="map-visual"/>').appendTo(this.$viewContainer),this.loadingMask=new r({container:this.$viewContainer}),e.address?this.updateMap(e.address.address,e.address.label):this.mapLocationUnknown()},_initMapOptions:function(){t.isUndefined(this.options.mapOptions.mapTypeControlOptions)&&(this.options.mapOptions.mapTypeControlOptions={style:google.maps.MapTypeControlStyle.DROPDOWN_MENU}),t.isUndefined(this.options.mapOptions.zoomControlOptions)&&(this.options.mapOptions.zoomControlOptions={style:google.maps.ZoomControlStyle.SMALL}),t.isUndefined(this.options.mapOptions.mapTypeId)&&(this.options.mapOptions.mapTypeId=google.maps.MapTypeId.ROADMAP)},_initMap:function(e){let s,o;if(this.removeErrorMessage(),this._initMapOptions(),this.map=new google.maps.Map(this.$mapContainer[0],t.extend({},this.options.mapOptions,{center:e})),this.mapLocationMarker=new google.maps.Marker({draggable:!1,map:this.map,position:e}),this.options.showWeather){const e=n.settings.unit.temperature.toUpperCase(),t=n.settings.unit.wind_speed.toUpperCase();s=new google.maps.weather.WeatherLayer({temperatureUnits:google.maps.weather.TemperatureUnit[e],windSpeedUnits:google.maps.weather.WindSpeedUnit[t]}),s.setMap(this.map),o=new google.maps.weather.CloudLayer,o.setMap(this.map)}this.loadingMask.hide()},isEmptyFunction:function(e){return"function"==typeof e&&/^function[^{]*[{]\s*[}]\s*$/.test(Function.prototype.toString.call(e))},loadGoogleMaps:function(){const e={};if(!this.options.apiKey)return this.mapsLoadExecuted=!1,this.addErrorMessage(),void this.loadingMask.hide();e.key=this.options.apiKey,this.options.showWeather&&(e.libraries="weather"),c.ajax({url:`${location.protocol}//maps.googleapis.com/maps/api/js`,data:e,dataType:"script",cache:!0,success:()=>{this.onGoogleMapsInit(),this.mapsLoadExecuted=!1},errorHandlerMessage:!1,error:this.mapLocationUnknown.bind(this)})},updateMap:function(e,s){let o;if(this.loadingMask.show(),this.removeErrorMessage(),!this.hasGoogleMaps()){if(this.mapsLoadExecuted)return;return this.mapsLoadExecuted=!0,this.requestedLocation={address:e,label:s},void this.loadGoogleMaps()}if(this.mapLocationCache.hasOwnProperty(e))this.updateMapLocation(this.mapLocationCache[e],s);else{if(this.isEmptyFunction(this.getGeocoder().geocode))return this.checkRenderMap();this.getGeocoder().geocode({address:e},((t,i)=>{clearTimeout(o),i===google.maps.GeocoderStatus.OK?(this.mapLocationCache[e]=t[0].geometry.location,this.updateMapLocation(t[0].geometry.location,s)):this.mapLocationUnknown()})),o=t.delay(this.checkRenderMap.bind(this),this.mapRespondingTimeout)}},onGoogleMapsInit:function(){t.isUndefined(this.requestedLocation)||(this.updateMap(this.requestedLocation.address,this.requestedLocation.label),delete this.requestedLocation)},checkRenderMap:function(){return!this.mapsLoadExecuted&&!!this.$mapContainer.is(":empty")&&(this.addErrorMessage(),this.loadingMask.hide(),!0)},hasGoogleMaps:function(){return!t.isUndefined(window.google)&&google.hasOwnProperty("maps")},mapLocationUnknown:function(){this.$mapContainer.hide(),this.addErrorMessage(i("map.unknown.location")),this.loadingMask.hide()},mapLocationKnown:function(){this.$mapContainer.show()},updateMapLocation:function(e,t){this.mapLocationKnown(),!e||this.location&&e.toString()===this.location.toString()?this.loadingMask.hide():(this._initMap(e),this.map.setCenter(e),this.mapLocationMarker.setPosition(e),this.mapLocationMarker.setTitle(t),this.location=e,this.trigger("mapRendered"))},getGeocoder:function(){return(t.isUndefined(this.geocoder)||t.isNull(this.geocoder))&&(this.geocoder=new google.maps.Geocoder),this.geocoder},addErrorMessage:function(e,t){this.removeErrorMessage(),this.errorMessage=l.notificationFlashMessage(t||"warning",e||i("map.unknown.unavailable"),{container:this.$viewContainer,hideCloseButton:!0,insertMethod:"prependTo"})},removeErrorMessage:function(){t.isNull(this.errorMessage)||(l.clear(this.errorMessage.namespace,{container:this.$viewContainer}),delete this.errorMessage)}})}.call(t,s,t,e))||(e.exports=o)},"./bundles/oroaddress/js/region/collection.js":(e,t,s)=>{var o,i;o=[s("./bundles/oroui/js/extend/backbone.js"),s("./bundles/fosjsrouting/js/router.js"),s("./bundles/oroaddress/js/region/model.js"),s("./bundles/oroui/js/extend/underscore.js")],void 0===(i=function(e,t,s,o){"use strict";return e.Collection.extend({defaultOptions:{route:"oro_api_country_get_regions"},url:null,model:s,constructor:function e(...t){e.__super__.constructor.apply(this,t)},initialize:function(e,s){this.options=o.extend({},this.defaultOptions,s),this.url=t.generate(this.options.route)},setCountryId:function(e){this.url=t.generate(this.options.route,{country:e})}})}.apply(t,o))||(e.exports=i)},"./bundles/oroaddress/js/region/model.js":(e,t,s)=>{var o,i;o=[s("./bundles/oroui/js/extend/backbone.js")],void 0===(i=function(e){"use strict";return e.Model.extend({defaults:{country:"",code:"",name:""},constructor:function e(t,s){e.__super__.constructor.call(this,t,s)}})}.apply(t,o))||(e.exports=i)},"./bundles/oroaddress/js/region/view.js":(e,t,s)=>{var o;o=function(e,t,o){"use strict";const i=s("./bundles/oroui/js/extend/underscore.js"),n=s("./bundles/oroui/js/extend/jquery.js"),r=s("./bundles/oroaddress/js/region/collection.js"),a=s("./bundles/oroui/js/extend/backbone.js");let l=s("./bundles/oroui/js/app/services/module-config.js").A(o.id);return l=i.defaults({},l,{switchState:!1}),s("./bundles/oroui/js/extend/select2.js"),s("./bundles/oroform/js/extend/validate.js"),s("./bundles/oroui/js/input-widget-manager.js"),a.View.extend({events:{change:"selectionChanged",redraw:"redraw"},switchState:l.switchState,constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){this.target=n(e.target),this.$simpleEl="disable"!==this.switchState?n(e.simpleEl):null,this.$simpleEl&&(this.target.after(this.$simpleEl),this.$simpleEl.attr("type","text")),this.showSelect=e.showSelect,this.regionRequired=e.regionRequired,this.template=i.template(n("#region-chooser-template").html()),this.displaySelect2(this.showSelect),this.target.on("input-widget:init",(()=>{this.displaySelect2(this.showSelect)})),this.target.on("input-widget:refresh",(()=>{const e=this.collection&&this.collection.models.length>0||this.target.val();this.displaySelect2(e)})),e.collectionRoute&&!this.collection&&(this.collection=new r([],{route:e.collectionRoute})),this.listenTo(this.collection,"reset",this.render)},displaySelect2:function(e){e?(this.regionRequired&&this.addRequiredFlag(),this.switchInputWidget(e)):(this.switchInputWidget(e),this.regionRequired&&this.removeRequiredFlag())},addRequiredFlag:function(){const e=this.getInputLabel(this.target);e.hasClass("required")||e.addClass("required").find("em").html("*")},removeRequiredFlag:function(){const e=this.getInputLabel(this.target);e.hasClass("required")&&e.removeClass("required").find("em").html("&nbsp;")},getInputLabel:function(e){let t;const s=(i.result(e.data("select2"),"focusser")||e).attr("id");return s&&(t=n('label[for="'+s+'"]')),t&&t.length?t:e.parent().parent().find("label")},sync:function(){""===this.target.val()&&""!==this.$el.val()&&this.$el.trigger("change")},selectionChanged:function(){this.$el.trigger("value:changing");const e=this.target.closest("form").data("validator");e&&e.hideElementErrors(this.target[0]),this.redraw(),this.$el.trigger("value:changed")},redraw:function(){this.$simpleEl&&this.$simpleEl.hide();const e=this.$el.val();e?(this.collection.setCountryId(e),this.collection.fetch({reset:!0})):this.collection.reset([])},render:function(){if(this.collection.models.length>0){this.target.show(),this.displaySelect2(!0),this.target.find('option[value!=""]').remove(),this.target.append(this.template({regions:this.collection.models}));const e=this.target.data("selected-data")||"";this.target.select2("val",e),this.$simpleEl&&this.$simpleEl.hide().val("")}else this.target.hide(),this.target.inputWidget("val",""),this.displaySelect2(!1),this.$simpleEl&&this.$simpleEl.show()},switchInputWidget:function(e){"disable"===this.switchState?this.target.inputWidget("disable",!e):this.target.inputWidget(e?"show":"hide")}})}.call(t,s,t,e),void 0===o||(e.exports=o)},"./bundles/orocustomer/js/app/components/customer-address-book-component.js":(e,t,s)=>{var o;void 0===(o=function(e){"use strict";const t=s("./bundles/oroui/js/app/components/base/component.js"),o=s("./bundles/fosjsrouting/js/router.js"),i=s("./bundles/oroaddress/js/address-book.js"),n=s("./bundles/oroui/js/widget/widget-manager.js");return t.extend({optionNames:t.prototype.optionNames.concat(["isAddressHtmlFormatted"]),constructor:function e(t){e.__super__.constructor.call(this,t)},isAddressHtmlFormatted:!1,initialize:function(e){n.getWidgetInstance(e.wid,(t=>{const s=new i({el:"#address-book",addressListUrl:e.addressListUrl,addressCreateUrl:e.addressCreateUrl,addressUpdateUrl:function(t){return o.generate(e.addressUpdateRouteName,{id:t.get("id"),entityId:e.entityId})},addressDeleteUrl:function(t){return o.generate(e.addressDeleteRouteName,{addressId:t.get("id"),entityId:e.entityId})},addressMapOptions:{phone:"phone"},isAddressHtmlFormatted:this.isAddressHtmlFormatted});t.getAction("add_address","adopted",(function(e){e.on("click",s.createAddress.bind(s))})),s.getCollection().reset(JSON.parse(e.currentAddresses))}))}})}.call(t,s,t,e))||(e.exports=o)},"./bundles/orocustomer/js/app/components/customer-address-component.js":(e,t,s)=>{var o;void 0===(o=function(e){"use strict";const t=s("./bundles/oroui/js/app/components/base/component.js"),o=s("./bundles/oroui/js/extend/jquery.js"),i=s("./bundles/oroui/js/extend/underscore.js"),n=t.extend({targetElement:null,options:{defaultsSelector:'[name$="[defaults][default][]"]',typesSelector:'[name$="[types][]"]',containerSelector:'[data-content="address-form"]'},constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){this.options=i.defaults(e||{},this.options),this.targetElement=o(e._sourceElement),e.disableDefaultWithoutType&&this.disableDefaultWithoutType(),e.disableRepeatedTypes&&this.disableRepeatedTypes()},dispose:function(){!this.disposed&&this.targetElement&&(this.targetElement.off("click",this.options.defaultsSelector),this.targetElement.off("click",this.options.typesSelector),n.__super__.dispose.call(this))},disableDefaultWithoutType:function(){i.each(this.targetElement.find(this.options.defaultsSelector),this.processDefaultsChange,this),this.targetElement.on("click",this.options.defaultsSelector,function(e){this.processDefaultsChange(e.target)}.bind(this)),i.each(this.targetElement.find(this.options.typesSelector),this.processTypeChange,this),this.targetElement.on("click",this.options.typesSelector,function(e){this.processTypeChange(e.target)}.bind(this))},processDefaultsChange:function(e){e.checked&&o(e).closest(this.options.containerSelector).find(this.options.typesSelector+'[value="'+e.value+'"]').prop("checked",!0)},processTypeChange:function(e){e.checked||o(e).closest(this.options.containerSelector).find(this.options.defaultsSelector+'[value="'+e.value+'"]').prop("checked",!1)},disableRepeatedTypes:function(){this.targetElement.on("click",this.options.defaultsSelector,function(e){e.target.checked&&this.targetElement.find(this.options.defaultsSelector+'[value="'+e.target.value+'"]').not(e.target).prop("checked",!1)}.bind(this))}});return n}.call(t,s,t,e))||(e.exports=o)},"./bundles/orocustomer/js/app/components/customer-selection-component.js":(e,t,s)=>{var o;void 0===(o=function(e){"use strict";const t=s("./bundles/oroui/js/app/components/base/component.js"),o=s("./bundles/oroui/js/app/views/loading-mask-view.js"),i=s("./bundles/oroui/js/extend/jquery.js"),n=s("./bundles/oroui/js/extend/underscore.js"),r=s("./bundles/orotranslation/js/translator.js"),a=s("./bundles/fosjsrouting/js/router.js"),l=s("./bundles/oroui/js/mediator.js"),c=t.extend({options:{customerSelect:'.customer-customer-select input[type="hidden"]',customerUserSelect:'.customer-customeruser-select input[type="hidden"]',customerUserMultiSelect:'.customer-customeruser-multiselect input[type="hidden"]',customerRoute:"oro_customer_customer_user_get_customer",errorMessage:"Sorry, an unexpected error has occurred."},$customerSelect:null,$customerUserSelect:null,$customerUserMultiSelect:null,loadingMask:null,constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){this.options=n.defaults(e||{},this.options),this.$el=e._sourceElement,this.loadingMask=new o({container:this.$el}),this.$customerSelect=this.$el.find(this.options.customerSelect),this.$customerUserSelect=this.$el.find(this.options.customerUserSelect),this.$customerUserMultiSelect=this.$el.find(this.options.customerUserMultiSelect),this.$el.on("change",this.options.customerSelect,this.onCustomerChanged.bind(this)).on("change",this.options.customerUserSelect,this.onCustomerUserChanged.bind(this)).on("change",this.options.customerUserMultiSelect,this.onCustomerUserChanged.bind(this)),this.updateCustomerUserSelectData({customer_id:this.$customerSelect.val()})},onCustomerChanged:function(){this.$customerUserSelect.inputWidget("val",""),this.$customerUserMultiSelect.inputWidget("val",""),this.updateCustomerUserSelectData({customer_id:this.$customerSelect.val()}),this.triggerChangeCustomerUserEvent()},onCustomerUserChanged:function(e){const t=this.$customerSelect.val(),s=i(e.target).val();if(t||!s)return void this.triggerChangeCustomerUserEvent();const o=this;i.ajax({url:a.generate(this.options.customerRoute,{id:s}),type:"GET",beforeSend:function(){o.loadingMask.show()},success:function(e){o.$customerSelect.inputWidget("val",e.customerId||""),o.updateCustomerUserSelectData({customer_id:e.customerId}),o.triggerChangeCustomerUserEvent()},complete:function(){o.loadingMask.hide()},errorHandlerMessage:r(this.options.errorMessage)})},updateCustomerUserSelectData:function(e){this.$customerUserSelect.data("select2_query_additional_params",e),this.$customerUserMultiSelect.data("select2_query_additional_params",e)},triggerChangeCustomerUserEvent:function(){l.trigger("customer-customer-user:change",{customerId:this.$customerSelect.val(),customerUserId:this.$customerUserSelect.val()})},dispose:function(){this.disposed||(this.$el.off(),c.__super__.dispose.call(this))}});return c}.call(t,s,t,e))||(e.exports=o)},"./bundles/orocustomer/js/app/components/customer-user-component.js":(e,t,s)=>{var o;void 0===(o=function(e){"use strict";const t=s("./bundles/oroui/js/app/components/base/component.js"),o=s("./bundles/oroui/js/extend/underscore.js"),i=s("./bundles/fosjsrouting/js/router.js"),n=s("./bundles/oroui/js/widget/widget-manager.js"),r=t.extend({options:{widgetAlias:null,customerFormId:null,customerUserId:null},constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){this.options=o.defaults(e||{},this.options),this.options._sourceElement.on("change",this.options.customerFormId,this.reloadRoleWidget.bind(this))},dispose:function(){this.disposed||(this.options._sourceElement.off("change"),r.__super__.dispose.call(this))},reloadRoleWidget:function(e){const t=this.options.customerUserId,s=e.target.value;n.getWidgetInstanceByAlias(this.options.widgetAlias,(function(e){const o={customerId:s};t&&(o.customerUserId=t),e.once("beforeContentLoad",(t=>{e._checkboxesState={},t.find(".choice-widget-expanded input:checkbox").each((function(t,s){const o=`[name="${s.getAttribute("name")}"][data-name="${s.getAttribute("data-name")}"][value="${s.getAttribute("value")}"]`;e._checkboxesState[o]=s.checked}))})),e.once("widgetRender",(t=>{for(const[s,o]of Object.entries(e._checkboxesState))t.find(s).attr("checked",o);delete e._checkboxesState})),e.setUrl(i.generate("oro_customer_customer_user_roles",o)),e.render()}))}});return r}.call(t,s,t,e))||(e.exports=o)},"./bundles/orocustomer/js/app/components/customer-user-role-component.js":(e,t,s)=>{var o;void 0===(o=function(e){"use strict";const t=s("./bundles/oroui/js/app/components/base/component.js"),o=s("./bundles/oroui/js/mediator.js"),i=s("./bundles/oroui/js/extend/jquery.js"),n=s("./bundles/orotranslation/js/translator.js"),r=s("./bundles/oroui/js/modal.js"),a=t.extend({options:{customerFieldId:"#customerFieldId",datagridName:"customer-users-datagrid",originalValue:null,previousValueDataAttribute:"previousValue",enableConfirmation:!1,dialogOptions:{title:n("oro.customer.customer_user_role.change_customer_confirmation_title"),okText:n("oro.customer.customer_user_role.continue"),cancelText:n("oro.customer.customer_user_role.cancel"),content:n("oro.customer.customer_user_role.content")}},customerField:null,constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){this.options=i.extend(!0,{},this.options,e),this.customerField=this.options._sourceElement.find(this.options.customerFieldId),this.customerField.data(this.options.previousValueDataAttribute,this.options.originalValue),this.options._sourceElement.on("change",this.options.customerFieldId,this.onCustomerSelectorChange.bind(this))},onCustomerSelectorChange:function(e){const t=e.target.value;t!==this.options.originalValue&&this.options.enableConfirmation?this._getCustomerConfirmDialog((function(){this._updateGridAndSaveParameters(t)}),(function(){this.customerField.inputWidget("val",this.customerField.data(this.options.previousValueDataAttribute)),this.customerField.data(this.options.previousValueDataAttribute,this.options.originalValue)})):this._updateGridAndSaveParameters(t)},_updateGridAndSaveParameters:function(e){this._updateCustomerUserGrid(e),this.customerField.data(this.options.previousValueDataAttribute,e)},dispose:function(){this.disposed||(delete this.customerField,this.options._sourceElement.off("change"),a.__super__.dispose.call(this))},_getCustomerConfirmDialog:function(e,t){const s=this._createChangeCustomerConfirmationDialog();s.on("ok",e.bind(this)).on("cancel",t.bind(this)),s.open()},_createChangeCustomerConfirmationDialog:function(){return new r(this.options.dialogOptions)},_updateCustomerUserGrid:function(e){e?o.trigger("datagrid:setParam:"+this.options.datagridName,"newCustomer",e):o.trigger("datagrid:removeParam:"+this.options.datagridName,"newCustomer"),o.trigger("datagrid:setParam:"+this.options.datagridName,"changeCustomerAction",1),o.trigger("datagrid:doReset:"+this.options.datagridName)}});return a}.call(t,s,t,e))||(e.exports=o)},"./bundles/orocustomer/js/app/views/customer-role-view.js":(e,t,s)=>{var o,i;o=[s("./bundles/oroui/js/extend/jquery.js"),s("./bundles/oroui/js/extend/underscore.js"),s("./bundles/oroui/js/mediator.js"),s("./bundles/orouser/js/views/role-view.js")],void 0===(i=function(e,t,s,o){"use strict";const i=o.extend({options:{customerSelector:""},constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){this.options=t.defaults(e||{},this.options),i.__super__.initialize.call(this,e)},getData:function(){const t=i.__super__.getData.call(this);return t[this.options.formName+"[customer]"]=e(this.options.customerSelector).inputWidget("val"),t}});return i}.apply(t,o))||(e.exports=i)},"./bundles/orolocale/js/formatter/address.js":(e,t,s)=>{var o;void 0===(o=function(e){"use strict";const t=s("./bundles/oroui/js/extend/underscore.js"),o=s("./bundles/orolocale/js/locale-settings.js"),i=s("./bundles/orolocale/js/formatter/name.js");return{LTRAddressParts:o.getAddressLTRParts(),formats:o.getAddressFormats(),format:function(e,t,s,n){t||(t=o.isFormatAddressByAddressCountry()?e.country_iso2:o.getCountry()),s=s||"<br/>";let r=this.getAddressFormat(t).replace(/%(\w+)%/g,((s,r)=>{const a=r.toLowerCase();let l="";return l="name"===a?i.format(e,o.getCountryLocale(t)):"street"===a?(e.street||"")+" "+(e.street2||""):"street1"===a?e.street:e[a],l&&r!==a&&(l=l.toLocaleUpperCase()),n?this.doFormatWithHtml(a,l):l||""})),a=r.split("\\n");if(a=a.filter((function(e){return""!==e.trim()})),"function"==typeof s){for(let e=0;e<a.length;e++)a[e]=s(a[e]);r=a.join("")}else r=a.join(s);return r.replace(/ +/g," ")},getAddressFormat:function(e){return this.formats.hasOwnProperty(e)||(e=o.getCountry()),this.formats[e]},doFormatWithHtml(e,s){if(!e||!s)return"";const o=e.replace(/_/g,"-"),i=`address-part-${o}`;return this.LTRAddressParts.includes(e)?`<bdo class="${i}" data-part="${o}" dir="ltr">${t.escape(s)}</bdo>`:`<span class="${i}" data-part="${o}">${t.escape(s)}</span>`}}}.call(t,s,t,e))||(e.exports=o)},"./bundles/oroui/js/app/views/tab-collection-view.js":(e,t,s)=>{var o;o=function(e,t,o){"use strict";const i=s("./bundles/oroui/js/extend/underscore.js"),n=s("./bundles/oroui/js/mediator.js"),r=s("./bundles/oroui/js/app/views/base/collection-view.js");let a=s("./bundles/oroui/js/app/services/module-config.js").A(o.id);const l=s("./bundles/oroui/js/app/views/tab-item-view.js");a=i.extend({templateClassName:"nav nav-tabs responsive-tabs"},a);const c=r.extend({listSelector:'[data-name="tabs-list"]',className:"tab-collection oro-tabs clearfix",itemView:l,useDropdown:!1,listen:{"change collection":"onChange"},template:s("../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/oroui/templates/tab-collection-container.html"),constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){i.extend(this,i.defaults(i.pick(e,["useDropdown"]),this)),c.__super__.initialize.call(this,e)},onChange:function(e){e.get("active")&&this.collection.each((function(t){t!==e&&t.set("active",!1)}))},_ensureElement:function(){c.__super__._ensureElement.call(this),this.$el.addClass(i.result(this,"className"))},getTemplateData:function(){const e=c.__super__.getTemplateData.call(this);return e.templateClassName=a.templateClassName,e.tabOptions={useDropdown:this.useDropdown},e},render:function(){c.__super__.render.call(this),this.$el.attr("data-layout","separate"),this.initLayout().done(this.handleLayoutInit.bind(this))},handleLayoutInit:function(){n.trigger("widget:doRefresh")}});return c}.call(t,s,t,e),void 0===o||(e.exports=o)},"./bundles/oroui/js/app/views/tab-item-view.js":(e,t,s)=>{var o;o=function(e,t,o){"use strict";const i=s("./bundles/oroui/js/extend/underscore.js"),n=s("./bundles/oroui/js/extend/jquery.js"),r=s("./bundles/oroui/js/app/views/base/view.js");let a=s("./bundles/oroui/js/app/services/module-config.js").A(o.id);a=i.extend({className:"nav-item",templateClassName:"nav-link"},a);const l=r.extend({tagName:"li",className:a.className,template:s("../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/oroui/templates/tab-collection-item.html"),listen:{"change:active model":"updateStates","change:changed model":"updateStates"},events:{"shown.bs.tab":"onTabShown",click:"onTabClick"},constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){l.__super__.initialize.call(this,e),this.updateStates()},updateStates:function(){this.$el.toggleClass("changed",!!this.model.get("changed"));const e=this.$('[role="tab"]');if(e.attr("aria-selected")!==String(this.model.get("active"))&&e.attr("aria-selected",this.model.get("active")),this.model.get("active")){const e=this.model.get("controlTabPanel")||this.model.get("id");n("#"+e).attr("aria-labelledby",this.model.get("uniqueId"))}},onTabShown:function(e){this.model.set("active",!0),this.model.trigger("select",this.model)},onTabClick:function(e){this.model.trigger("click",this.model)}});return l}.call(t,s,t,e),void 0===o||(e.exports=o)},"./bundles/orouser/js/app/views/user-reset-password-view.js":(e,t,s)=>{var o;void 0===(o=function(e){"use strict";const t=s("./bundles/oroui/js/app/views/base/view.js"),o=s("./bundles/orotranslation/js/translator.js"),i=s("./bundles/oroui/js/extend/underscore.js"),n=t.extend({autoRender:!0,optionNames:t.prototype.optionNames.concat(["passwordInputSelector"]),events:{'click [data-role="generate-pass"]':"onGeneratePassButtonClick",'click [data-role="show-hide-pass"]':"onShowHideButtonClick"},defaults:{passwordMinLength:1},passwordShowHideTemplate:s("../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orouser/templates/user-reset-password-show-hide.html"),passwordSuggestionTemplate:s("../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orouser/templates/user-reset-password-suggestion.html"),charsets:{lower_case:"abcdefghijklmnopqrstuvwxyz",upper_case:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",numbers:"0123456789",special_chars:" !\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~"},constructor:function e(t){e.__super__.constructor.call(this,t)},render:function(){const e=this._getPasswordInput();return e.after(this.passwordShowHideTemplate({title:o("oro.user.show_hide_password.label")})),e.after(this.passwordSuggestionTemplate({label:o("oro.user.suggest_password.label")})),n.__super__.render.call(this)},onShowHideButtonClick:function(e){const t=this._getPasswordInput(),s=this.$(e.target);s.hasClass("fa-eye")?(t.attr("type","password"),s.removeClass("fa-eye"),s.addClass("fa-eye-slash")):(t.attr("type","text"),s.removeClass("fa-eye-slash"),s.addClass("fa-eye"))},onGeneratePassButtonClick:function(e){e.preventDefault(),this._getPasswordInput().val(this._generatePassword())},_generatePassword:function(){const e=this._getRequiredPasswordLength(),t=this._getPasswordRequirements();let s="";t.forEach(function(e){this.charsets.hasOwnProperty(e)&&(s+=this.charsets[e].charAt(i.random(this.charsets[e].length-1)))}.bind(this));const o=this.charsets.lower_case+this.charsets.upper_case+this.charsets.numbers;for(let t=s.length;t<e;++t)s+=o.charAt(i.random(o.length-1));return s=s.split("").sort((function(){return.5-Math.random()})).join(""),s},_getPasswordInput:function(){return this.$(this.passwordInputSelector)},_getRequiredPasswordLength:function(){return this._getPasswordInput().data("suggest-length")||this.defaults.passwordMinLength},_getPasswordRequirements:function(){const e=this._getPasswordInput().data("suggest-rules");return e?e.split(","):[]}});return n}.call(t,s,t,e))||(e.exports=o)},"./bundles/orouser/js/components/password-generate.js":(e,t,s)=>{var o;void 0===(o=function(e){"use strict";const t=s("./bundles/oroui/js/app/components/base/component.js"),o=s("./bundles/oroui/js/extend/jquery.js");return t.extend({constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){this.$el=o(e.checkbox),this.passwordInput=o(e.passwordInput),this.togglePassword(),this.$el.click(this.togglePassword.bind(this))},togglePassword:function(){this.$el.is(":checked")?this.passwordInput.attr("disabled",!0):this.passwordInput.attr("disabled",!1)}})}.call(t,s,t,e))||(e.exports=o)},"./bundles/orouser/js/components/role/capability-set-component.js":(e,t,s)=>{var o;void 0===(o=function(e){"use strict";const t=s("./bundles/oroui/js/extend/underscore.js"),o=s("./bundles/oroui/js/mediator.js"),i=s("./bundles/oroui/js/app/components/base/component.js"),n=s("./bundles/oroui/js/app/models/base/collection.js"),r=s("./bundles/orouser/js/models/role/permission-model.js"),a=s("./bundles/orouser/js/views/role/capabilities-view.js"),l=s("./bundles/orouser/js/constants/access-levels.js"),c=s("./bundles/orouser/js/constants/capability-categories.js"),d=i.extend({tabIds:null,constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){t.extend(this,t.pick(e,["tabIds"]));const s=t.map(e.data,(function(s){s.items=t.map(s.items,(function(t){return t.editable=!e.readonly,t})),e.readonly&&(s.items=t.map(s.items,(function(t){return t.editable=!e.readonly,t.noAccess=t.access_level===l.NONE,t})));const o=new n(s.items,{model:r});return this.listenTo(o,"change",this.onAccessLevelChange.bind(this,s.group)),t.extend({},s,{editable:!e.readonly,items:o})}),this);this.currentCategory={id:e.currentCategoryId||c.COMMON},this.view=new a({el:e._sourceElement,collection:new n(s),filterer:s=>{const o=s.get("group"),i=this.currentCategory;return i.id===c.GENERAL?o&&!t.contains(e.tabIds,o):i.id===c.COMMON||o===i.id}}),this.listenTo(o,"role:entity-category:changed",this.onCategoryChange),d.__super__.initialize.call(this,e)},onCategoryChange:function(e){t.extend(this.currentCategory,e),this.view.filter()},onAccessLevelChange:function(e,s){let i=e;i&&!t.contains(this.tabIds,i)&&(i=c.GENERAL),o.trigger("securityAccessLevelsComponent:link:click",{accessLevel:s.get("access_level"),identityId:s.get("identity"),permissionName:s.get("name"),group:e,category:i,isInitialValue:!s.isAccessLevelChanged()})}});return d}.call(t,s,t,e))||(e.exports=o)},"./bundles/orouser/js/components/role/entity-category-tabs-component.js":(e,t,s)=>{var o;o=function(e,t,o){"use strict";const i=s("./bundles/oroui/js/extend/underscore.js"),n=s("./bundles/orotranslation/js/translator.js"),r=s("./bundles/oroui/js/mediator.js"),a=s("./bundles/oroui/js/app/components/base/component.js"),l=s("./bundles/oroui/js/app/models/base/collection.js"),c=s("./bundles/oroui/js/app/views/tab-collection-view.js");let d=s("./bundles/oroui/js/app/services/module-config.js").A(o.id);return d=i.extend({useDropdown:!0},d),a.extend({changesByCategory:null,constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){this.changesByCategory={};let t=e.data;t.unshift({id:"all",label:n("oro.role.tabs.all.label"),active:!0,multi:!0}),t.push({id:"system_capabilities",label:n("oro.role.tabs.system_capabilities.label"),multi:!0});const s=e.controlTabPanel;t=i.each(t,(function(e){e.uniqueId=i.uniqueId(e.id),"string"==typeof s&&(e.controlTabPanel=s)}),this),this.categories=new l(t),this.view=new c({el:e._sourceElement,animationDuration:0,collection:this.categories,useDropdown:(void 0===e.useDropdown?d:e).useDropdown}),this.listenTo(this.categories,"change",this.onCategoryChange),this.listenTo(r,"securityAccessLevelsComponent:link:click",this.onAccessLevelChange)},onCategoryChange:function(e){e.hasChanged("active")&&!0===e.get("active")&&r.trigger("role:entity-category:changed",{id:e.get("id")})},onAccessLevelChange:function(e){const t=e.identityId+"::"+e.permissionName,s=e.category;if(i.isUndefined(s))return;e.isInitialValue?(delete this.changesByCategory[s][t],i.isEmpty(this.changesByCategory[s])&&delete this.changesByCategory[s]):(this.changesByCategory[s]||(this.changesByCategory[s]={}),this.changesByCategory[s][t]=!0),this.categories.findWhere({id:"all"}).set("changed",!i.isEmpty(this.changesByCategory));const o=this.categories.findWhere({id:s});o&&o.set("changed",!i.isEmpty(this.changesByCategory[s]))}})}.call(t,s,t,e),void 0===o||(e.exports=o)},"./bundles/orouser/js/components/select2-acl-user-multiselect-component.js":(e,t,s)=>{var o;void 0===(o=function(e){"use strict";const t=s("./bundles/orouser/js/components/select2-acl-user-autocomplete-component.js").extend({constructor:function e(t){e.__super__.constructor.call(this,t)},preConfig:function(e){return t.__super__.preConfig.call(this,e),e.multiple=!0,e}});return t}.call(t,s,t,e))||(e.exports=o)},"./bundles/orouser/js/constants/access-levels.js":e=>{e.exports={NONE:0}},"./bundles/orouser/js/constants/capability-categories.js":e=>{e.exports={GENERAL:"system_capabilities",COMMON:"all"}},"./bundles/orouser/js/models/role/permission-model.js":(e,t,s)=>{var o;void 0===(o=function(e){"use strict";const t=s("./bundles/oroui/js/app/models/base/model.js").extend({_initialAccessLevel:null,constructor:function e(t,s){e.__super__.constructor.call(this,t,s)},initialize:function(e,s){this._initialAccessLevel=this.get("access_level"),t.__super__.initialize.call(this,e,s)},isAccessLevelChanged:function(){return this._initialAccessLevel!==this.get("access_level")}});return t}.call(t,s,t,e))||(e.exports=o)},"./bundles/orouser/js/tools/acl-users-search-api-accessor.js":(e,t,s)=>{var o;void 0===(o=function(e){"use strict";const t=s("./bundles/oroui/js/tools/search-api-accessor.js").extend({constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){if(e||(e={}),e.search_handler_name="acl_users",!e.permission_check_entity_name)throw new Error("`permission_check_entity_name` option is required");this.permissionCheckEntityName=e.permission_check_entity_name,e.label_field_name=e.label_field_name||"fullName",this.permission=e.permission||"ASSIGN",t.__super__.initialize.call(this,e)},prepareUrlParameters:function(e){if(t.__super__.prepareUrlParameters.call(this,e),!e.id)throw new Error("`id` url parameter is required");return e.query=[e.term,this.permissionCheckEntityName,this.permission,e.id,""].join(";"),e.name=this.searchHandlerName,e},hashCode:function(e){return e.replace(/query=(\w*)%3B(\w+)%3B(\w+)%3B(\d+)%3B/,(function(e,t,s,o,i){return"query="+t+"%3B"+s+"%3B"+o+"%3B%3B"}))}});return t}.call(t,s,t,e))||(e.exports=o)},"./bundles/orouser/js/views/role-view.js":(e,t,s)=>{var o,i;o=[s("./bundles/oroui/js/extend/jquery.js"),s("./bundles/oroui/js/extend/underscore.js"),s("./bundles/oroui/js/mediator.js"),s("./bundles/oroui/js/app/views/base/view.js")],void 0===(i=function(e,t,s,o){"use strict";const i=o.extend({options:{elSelector:"",formName:"",formSelector:"",privilegesSelector:"",appendUsersSelector:"",removeUsersSelector:"",fields:""},privileges:null,$form:null,$privileges:null,$appendUsers:null,$removeUsers:null,$fields:null,events:{click:"onSubmit"},listen:{"securityAccessLevelsComponent:link:click mediator":"onAccessLevelsLinkClicked"},constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(s){this.options=t.defaults(s||{},this.options),this.$el=e(this.options.elSelector),this.$form=e(this.options.formSelector),this.$privileges=e(this.options.privilegesSelector),this.$appendUsers=e(this.options.appendUsersSelector),this.$removeUsers=e(this.options.removeUsersSelector);const o={};t.each(this.options.fields,(function(t,s){o[s]=e(t)})),this.$fields=o},dispose:function(){this.disposed||(delete this.$form,delete this.$privileges,delete this.$appendUsers,delete this.$removeUsers,delete this.$fields,i.__super__.dispose.call(this))},onSubmit:function(o){const i=this.$form;let n=!1;if(t.each(this.$fields,(function(e){n=n||!e.valid()})),n)return;if(i.data("nohash")&&!i.data("sent"))return void i.data("sent",!0);if(i.data("sent"))return;i.data("sent",!0);const r=i.attr("action"),a=i.attr("method");let l="string"==typeof r?r.trim():"";l=l||window.location.href||"",l&&(l+="?input_action="+e(o.target).attr("data-action"),l=(l.match(/^([^#]+)/)||[])[1]);const c=this.getData(),d=e(o.target).attr("data-action");d&&(c.input_action=d);const u={url:l,type:a||"GET",data:e.param(c)};s.execute("submitPage",u)},getData:function(){const e={},s=this.options.formName;return t.each(this.$fields,(function(t,o){let i=t.val();"checkbox"===t.attr("type")&&(i=t.is(":checked")?1:0,0===i)||(e[s+"["+o+"]"]=i)})),e[s+"[privileges]"]=this.$privileges.val(),e[s+"[appendUsers]"]=this.$appendUsers.val(),e[s+"[removeUsers]"]=this.$removeUsers.val(),e},onAccessLevelsLinkClicked:function(e){if(this.disposed)return;const s=JSON.parse(this.$privileges.val()),o=t.reduce(s,(function(e,s){return t.reduce(s,(function(e,t){return e[t.identity.id]=t,e}),e)}),{});let i=e.identityId;const n=i.split("::");let r,a,l;void 0!==n[1]&&(i=n[0],r=n[1]),i in o?a=o[i]:(a={identity:{id:i},permissions:{}},"EXECUTE"===e.permissionName?s.action[Object.keys(o).length]=a:s.entity[Object.keys(o).length]=a),r?(l=t.reduce(a.fields,(function(e,t){return e[t.identity.id]=t,e}),{})[e.identityId],l.permissions[e.permissionName].accessLevel=e.accessLevel):(e.permissionName in a.permissions||(a.permissions[e.permissionName]={name:e.permissionName}),a.permissions[e.permissionName].accessLevel=e.accessLevel),this.$privileges.val(JSON.stringify(s)).trigger("change")}});return i}.apply(t,o))||(e.exports=i)},"./bundles/orouser/js/views/role/capabilities-view.js":(e,t,s)=>{var o;void 0===(o=function(e){"use strict";const t=s("./bundles/oroui/js/app/views/base/collection-view.js"),o=s("./bundles/orouser/js/views/role/capability-group-view.js");return t.extend({animationDuration:0,itemView:o,listen:{visibilityChange:"onVisibilityChange"},constructor:function e(t){e.__super__.constructor.call(this,t)},onVisibilityChange:function(){this.$el.toggleClass("role-capabilities_single-group",1===this.visibleItems.length)}})}.call(t,s,t,e))||(e.exports=o)},"./bundles/orouser/js/views/role/capability-group-view.js":(e,t,s)=>{var o;void 0===(o=function(t){"use strict";const o=s("./bundles/oroui/js/extend/underscore.js"),i=s("./bundles/oroui/js/app/views/base/collection-view.js"),n=s("./bundles/orouser/js/views/role/capability-item-view.js");let r=s("./bundles/oroui/js/app/services/module-config.js").A(e.id);r=o.extend({selectAllClassName:"btn btn-link btn-sm"},r);const a=i.extend({animationDuration:0,className:"role-capability",template:s("../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orouser/templates/role/capability-group.html"),listSelector:'[data-name="capability-items"]',fallbackSelector:'[data-name="capability-empty-items"]',itemView:n,listen:{"change collection":"onChange"},events:{'click [data-name="capabilities-select-all"]':"onSelectAll"},constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){this.model=e.model,this.collection=e.model.get("items"),a.__super__.initialize.call(this,e)},getTemplateData:function(){const e=a.__super__.getTemplateData.call(this);return o.defaults(e,this.model.toJSON()),e.allSelected=this.isAllSelected(),e.selectAllClassName=r.selectAllClassName,e},onSelectAll:function(e){e.preventDefault(),this.collection.each((function(e){e.set("access_level",e.get("selected_access_level"))}))},onChange:function(){this.$('[data-name="capabilities-select-all"]').attr("disabled",this.isAllSelected())},isAllSelected:function(){return!this.collection.find((function(e){return e.get("access_level")!==e.get("selected_access_level")}))}});return a}.call(t,s,t,e))||(e.exports=o)},"./bundles/orouser/js/views/role/capability-item-view.js":(e,t,s)=>{var o;void 0===(o=function(e){"use strict";const t=s("./bundles/oroui/js/app/views/base/view.js").extend({className:"role-capability__item",template:s("../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orouser/templates/role/capability-item.html"),autoRender:!0,listen:{"change:access_level model":"render"},events:{"change [type=checkbox]":"onChange"},constructor:function e(t){e.__super__.constructor.call(this,t)},render:function(){t.__super__.render.call(this);const e=this.$("input");e.inputWidget("isInitialized")?e.inputWidget("refresh"):e.inputWidget("create")},getTemplateData:function(){const e=t.__super__.getTemplateData.call(this);return e.isAccessLevelChanged=this.model.isAccessLevelChanged(),e},onChange:function(e){const t=this.model.get(e.currentTarget.checked?"selected_access_level":"unselected_access_level");this.model.set("access_level",t)}});return t}.call(t,s,t,e))||(e.exports=o)},"./bundles/orouser/js/views/user-apikey-gen-view.js":(e,t,s)=>{var o,i;o=[s("./bundles/oroui/js/extend/jquery.js"),s("./bundles/oroui/js/extend/underscore.js"),s("./bundles/orotranslation/js/translator.js"),s("./bundles/oroui/js/messenger.js"),s("./bundles/oroui/js/app/views/base/view.js")],void 0===(i=function(e,t,s,o,i){"use strict";return i.extend({events:{"submit form":"onSubmit"},options:{formSelector:null,apiKeyElementSelector:null,responseMessage:null},responseMessage:"Generate key was successful. New key:{{ new_api_key }}",requiredOptions:["formSelector","apiKeyElementSelector"],$form:null,$apiKeyElement:null,$submitBtn:null,constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(s){this.options=t.defaults(s||{},this.options);const o=this.requiredOptions.filter((function(e){return t.isUndefined(s[e])}));if(o.length)throw new TypeError("Missing required option(s): "+o.join(","));if(null!==this.options.responseMessage&&(this.responseMessage=this.options.responseMessage),this.$form=e(this.options.formSelector),this.$apiKeyElement=e(this.options.apiKeyElementSelector),this.$submitBtn=this.$form.find("[type=submit]"),void 0===this.$submitBtn)throw new Error("Submit button element is missing!")},onSubmit:function(t){const s=this.$form.serializeArray(),o=this.$form.attr("action");this.$submitBtn.is(".process")||this.$submitBtn.addClass("process");const i={type:"POST",data:s,dataType:"json"};e.ajax(o,i).done(this.onAjaxSuccess.bind(this)).always(this.onAjaxComplete.bind(this)),t.stopPropagation(),t.preventDefault()},onAjaxSuccess:function(e){const t=e.data.apiKey;this.$apiKeyElement.html(t),o.notificationMessage("success",s(this.responseMessage,{new_api_key:' <strong class="api-key">'+t+"</strong>"}))},onAjaxComplete:function(){this.$submitBtn.removeClass("process")}})}.apply(t,o))||(e.exports=i)},"./bundles/orouserpro/js/app/components/user-roles-component.js":(e,t,s)=>{var o;void 0===(o=function(e){"use strict";const t=s("./bundles/oroui/js/extend/jquery.js"),o=s("./bundles/oroui/js/extend/underscore.js");return s("./bundles/oroui/js/app/components/base/component.js").extend({options:{rolesFormSelector:null,organizationsFormSelector:null,permissionsMap:""},$roles:null,$organizationsForm:null,$organizations:null,permissionsMap:{},constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){this.options=o.defaults(e||{},this.options),this.$roles=t(this.options.rolesFormSelector).find('input[type="checkbox"]'),this.$organizationsForm=t(this.options.organizationsFormSelector),this.$organizations=this.$organizationsForm.find("input.org:checkbox"),this.permissionsMap=t.parseJSON(this.options.permissionsMap),this.$roles.each(((e,s)=>{const o=s.value,i=null===this.permissionsMap[o].org_id||this.isOrganizationForRoleChecked(o);t('label[for="'+s.id+'"]').text(this.permissionsMap[o].label),i||this.hideCheckboxElement(s)})),this.$organizationsForm.on("change","input.org:checkbox",this.onChange.bind(this))},onChange:function(){this.$roles.each(((e,s)=>{const o=s.value;null===this.permissionsMap[o].org_id||this.isOrganizationForRoleChecked(o)?this.showCheckboxElement(s):(t(s).prop("checked",!1),this.hideCheckboxElement(s))}))},hideCheckboxElement:function(e){t('label[for="'+e.id+'"]').hide(),t(e).parent().hide()},showCheckboxElement:function(e){const s=e.value,o=t('label[for="'+e.id+'"]');o.text(this.permissionsMap[s].label),o.show(),t(e).parent().show()},isOrganizationForRoleChecked:function(e){return t(this.options.organizationsFormSelector).find("input.org:checkbox").filter(((t,s)=>parseInt(s.value)===this.permissionsMap[e].org_id&&s.checked)).length>0}})}.call(t,s,t,e))||(e.exports=o)}}]);