/*! For license information please see orocalendar.js.LICENSE.txt */
(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[673],{"../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orocalendar/templates/calendar/event/action-target-select.html":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./bundles/oroui/js/extend/underscore.js");module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="form-container">\n    <form class="event-action-target-select-form">\n        <fieldset class="form form-horizontal">\n            <label class="event-action-target-select-form__item">\n                <div class="event-action-target-select-form__item-side">\n                    <input type="radio" name="action-target" ',restrictOnlyThisEventAction?__p+='disabled="disabled"':__p+='checked="checked"',__p+=' value="exception">\n                </div>\n                <div class="event-action-target-select-form__item-title">'+(null==(__t=_.__("oro.calendar.event.select-edit-type.only-this-event.title"))?"":_.escape(__t))+'</div>\n                <div class="event-action-target-select-form__item-desc">'+(null==(__t=_.__("oro.calendar.event.select-edit-type.only-this-event.description"))?"":_.escape(__t))+'</div>\n            </label>\n            <label class="event-action-target-select-form__item">\n                <div class="event-action-target-select-form__item-side">\n                    <input type="radio" name="action-target" value="all" ',restrictOnlyThisEventAction&&(__p+='checked="checked"'),__p+='>\n                </div>\n                <div class="event-action-target-select-form__item-title">'+(null==(__t=_.__("oro.calendar.event.select-edit-type.all-events.title"))?"":_.escape(__t))+'</div>\n                <div class="event-action-target-select-form__item-desc">'+(null==(__t=_.__("oro.calendar.event.select-"+actionType+"-type.all-events.description"))?"":_.escape(__t))+'</div>\n            </label>\n            <div class="widget-actions form-actions hide">\n                <button class="btn" type="reset" data-action-name="reset">'+(null==(__t=_.__("Cancel"))?"":_.escape(__t))+'</button>\n                <button class="btn btn-primary" type="button" data-action-name="apply">'+(null==(__t=_.__("oro.calendar.event.select-"+actionType+"-type.apply"))?"":_.escape(__t))+"</button>\n            </div>\n        </fieldset>\n    </form>\n</div>\n";return __p}},"../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orocalendar/templates/calendar/event/organizer.html":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./bundles/oroui/js/extend/underscore.js");module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="calendar-event-organizer">\n    ',organizerUserId&&organizerDisplayName?__p+='\n        <a href="'+(null==(__t=routing.generate("oro_user_view",{id:organizerUserId}))?"":_.escape(__t))+'">'+(null==(__t=organizerDisplayName)?"":_.escape(__t))+"</a>\n    ":organizerEmail&&organizerDisplayName?__p+="\n        "+(null==(__t=organizerDisplayName+" ("+organizerEmail+")")?"":_.escape(__t))+"\n    ":__p+="\n        "+(null==(__t=_.__("oro.calendar.event.na"))?"":_.escape(__t))+"\n    ",__p+="\n</div>\n";return __p}},"../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orocalendar/templates/calendar/event/recurrence/recurrence-daily.html":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./bundles/oroui/js/extend/underscore.js");module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="recurrence-subview-control">\n    <div class="control-group">\n        <div class="control-label wrap">\n            <label>'+(null==(__t=_.__("oro.calendar.event.recurrence.control-label.repeat-every"))?"":_.escape(__t))+'</label>\n        </div>\n        <div class="controls recurrence-subview-control__items" data-name="control-sections">\n            <div class="control-group-subline recurrence-subview-control__item">\n                <label class="fields-row" data-role="control-section-switcher">\n                    <input type="radio" checked="checked">\n                    <span class="checkbox-view-label">\n                        <input type="hidden"\n                               data-related-field="recurrenceType"\n                               value="daily">\n                        <input class="recurrence-subview-control__number"\n                               type="text"\n                               data-related-field="interval"\n                               data-validation="'+(null==(__t=JSON.stringify({NotBlank:{},Number:{min:1,max:99},Type:{type:"integer"}}))?"":_.escape(__t))+'"\n                               value="'+(null==(__t=interval)?"":_.escape(__t))+'">\n                        <span class="recurrence-subview-control__text">'+(null==(__t=_.__("oro.calendar.event.recurrence.controls.days"))?"":_.escape(__t))+'</span>\n                    </span>\n                </label>\n            </div>\n            <div class="control-group-subline recurrence-subview-control__item">\n                <label data-role="control-section-switcher">\n                    <input type="radio">\n                    <span class="recurrence-subview-control__text">'+(null==(__t=_.__("oro.calendar.event.recurrence.control-modes.weekday"))?"":_.escape(__t))+'</span>\n                </label>\n                <input type="hidden"\n                       data-related-field="recurrenceType"\n                       value="weekly">\n                <select style="display: none" data-related-field="dayOfWeek" multiple>\n                    ',_.each(weekDays,(function(e){__p+='<option value="'+(null==(__t=e)?"":_.escape(__t))+'" selected="selected"></option>'})),__p+="\n                </select>\n            </div>\n        </div>\n    </div>\n</div>\n";return __p}},"../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orocalendar/templates/calendar/event/recurrence/recurrence-ends.html":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./bundles/oroui/js/extend/underscore.js");module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="control-group">\n    <div class="control-label wrap">\n        <label>'+(null==(__t=_.__("oro.calendar.event.recurrence.control-label.ends"))?"":_.escape(__t))+'</label>\n    </div>\n    <div class="controls recurrence-subview-control recurrence-subview-control__items" data-name="control-sections">\n        <div class="control-group-subline recurrence-subview-control__item">\n            <label data-role="control-section-switcher">\n                <input type="radio"',occurrences||endTime||(__p+=" checked"),__p+='>\n                <span class="recurrence-subview-control__text">'+(null==(__t=_.__("oro.calendar.event.recurrence.control-modes.never"))?"":_.escape(__t))+'</span>\n            </label>\n        </div>\n        <div class="control-group-subline recurrence-subview-control__item">\n            <label data-role="control-section-switcher" class="fields-row">\n                <input type="radio"',occurrences&&(__p+=" checked"),__p+='>\n                <span class="recurrence-subview-control__text">'+(null==(__t=_.__("oro.calendar.event.recurrence.control-modes.after"))?"":_.escape(__t))+'</span>\n                <input class="recurrence-subview-control__number"\n                       type="text"\n                       data-related-field="occurrences"\n                       data-validation="'+(null==(__t=JSON.stringify({NotBlank:{},Number:{min:1,max:999},Type:{type:"integer"}}))?"":_.escape(__t))+'"\n                       value="'+(null==(__t=occurrences)?"":_.escape(__t))+'">\n                <span class="recurrence-subview-control__text">'+(null==(__t=_.__("oro.calendar.event.recurrence.controls.occurrences"))?"":_.escape(__t))+'</span>\n            </label>\n        </div>\n        <div class="control-group-subline recurrence-subview-control__item recurrence-subview-control__item-datetime">\n            <label data-role="control-section-switcher">\n                <input type="radio"',endTime&&(__p+=" checked"),__p+='>\n                <span class="recurrence-subview-control__text">'+(null==(__t=_.__("oro.calendar.event.recurrence.control-modes.by"))?"":_.escape(__t))+'</span>\n            </label>\n            <span class="recurrence-subview-control__datetime-wrapper">\n                <input class="recurrence-subview-control__datetime"\n                       type="hidden"\n                       name="recurrence-endTime-backend-field"\n                       data-related-field="endTime"\n                       data-type="datetime"\n                       value="'+(null==(__t=endTime)?"":_.escape(__t))+'">\n            </span>\n        </div>\n    </div>\n</div>\n';return __p}},"../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orocalendar/templates/calendar/event/recurrence/recurrence-monthly.html":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./bundles/oroui/js/extend/underscore.js");module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="recurrence-subview-control">\n    <div class="control-group">\n        <div class="control-label wrap">\n            <label>'+(null==(__t=_.__("oro.calendar.event.recurrence.control-label.repeat-every"))?"":_.escape(__t))+'</label>\n        </div>\n        <div class="controls">\n            <label class="fields-row">\n                <input class="recurrence-subview-control__number"\n                       type="text"\n                       data-related-field="interval"\n                       data-validation="'+(null==(__t=JSON.stringify({NotBlank:{},Number:{min:1,max:999},Type:{type:"integer"}}))?"":_.escape(__t))+'"\n                       value="'+(null==(__t=interval)?"":_.escape(__t))+'">\n                <span class="recurrence-subview-control__text">'+(null==(__t=_.__("oro.calendar.event.recurrence.controls.months"))?"":_.escape(__t))+'</span>\n            </label>\n        </div>\n    </div>\n    <div class="control-group">\n        <div class="control-label wrap">\n            <label>'+(null==(__t=_.__("oro.calendar.event.recurrence.control-label.repeat-on"))?"":_.escape(__t))+'</label>\n        </div>\n        <div class="controls">\n            <select data-related-field="instance">\n                <option value="">'+(null==(__t=_.__("oro.calendar.event.recurrence.controls.monthly-repeat-on.day"))?"":_.escape(__t))+"</option>\n                <option disabled>&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;</option>\n                ",_.each(repeatOnOptions,(function(e){__p+='\n                <option value="'+(null==(__t=e.value)?"":_.escape(__t))+'"\n                ',e.selected&&(__p+=' selected="selected"'),__p+=">\n                "+(null==(__t=_.__("oro.calendar.event.recurrence.controls.monthly-repeat-on."+e.text))?"":_.escape(__t))+"\n                </option>\n                "})),__p+='\n            </select>\n            <span class="repeat-on-day" data-name="repeat-on-day">\n                <span class="fields-row">\n                    <input class="recurrence-subview-control__number"\n                           type="text"\n                           data-related-field="dayOfMonth"\n                           data-validation="'+(null==(__t=JSON.stringify({NotBlank:{},Number:{min:1,max:31},Type:{type:"integer"}}))?"":_.escape(__t))+'"\n                           value="'+(null==(__t=dayOfMonth)?"":_.escape(__t))+'">\n                    <input type="hidden"\n                           data-related-field="recurrenceType"\n                           value="monthly">\n                </span>\n            </span>\n            <span class="repeat-on-instance" data-name="repeat-on-instance">\n                <select data-related-field="dayOfWeek">\n                    ',_.each(groupWeekDayOptions,(function(e){__p+='\n                    <option value="'+(null==(__t=e.value)?"":_.escape(__t))+'"\n                    ',e.selected&&(__p+=' selected="selected"'),__p+=">\n                    "+(null==(__t=_.__("oro.calendar.event.recurrence.controls."+e.text))?"":_.escape(__t))+"\n                    </option>\n                    "})),__p+="\n                    <option disabled></option>\n                    ",_.each(dayOfWeekOptions,(function(e){__p+='\n                    <option value="'+(null==(__t=e.value)?"":_.escape(__t))+'"\n                    ',_.isEqual(dayOfWeek,[e.value])&&(__p+=' selected="selected"'),__p+=">\n                    "+(null==(__t=e.text)?"":_.escape(__t))+"\n                    </option>\n                    "})),__p+='\n                </select>\n                <input type="hidden"\n                       data-related-field="recurrenceType"\n                       value="monthnth">\n            </span>\n        </div>\n    </div>\n    <div class="alert alert-warning" role="alert" data-name="recurrence-fewer-days-warning" style="display: none"></div>\n</div>\n';return __p}},"../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orocalendar/templates/calendar/event/recurrence/recurrence-origin-values.html":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./bundles/oroui/js/extend/underscore.js");module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<select name="'+(null==(__t=inputNamePrefixes)?"":_.escape(__t))+'[recurrenceType]" class="no-uniform">\n    ',_.each(recurrenceTypeOptions,(function(e){__p+='\n    <option value="'+(null==(__t=e.value)?"":_.escape(__t))+'"',e.selected&&(__p+=" selected"),__p+=">"+(null==(__t=e.label)?"":_.escape(__t))+"</option>\n    "})),__p+='\n</select>\n<input name="'+(null==(__t=inputNamePrefixes)?"":_.escape(__t))+'[interval]" value="'+(null==(__t=interval)?"":_.escape(__t))+'"/>\n<select name="'+(null==(__t=inputNamePrefixes)?"":_.escape(__t))+'[instance]" class="no-uniform">\n    <option></option>\n    ',_.each(instanceOptions,(function(e){__p+='\n    <option value="'+(null==(__t=e.value)?"":_.escape(__t))+'"',e.selected&&(__p+=" selected"),__p+=">"+(null==(__t=e.label)?"":_.escape(__t))+"</option>\n    "})),__p+='\n</select>\n<select name="'+(null==(__t=inputNamePrefixes)?"":_.escape(__t))+'[dayOfWeek][]" class="no-uniform" multiple>\n    ',_.each(dayOfWeekOptions,(function(e){__p+='\n    <option value="'+(null==(__t=e.value)?"":_.escape(__t))+'"',e.selected&&(__p+=" selected"),__p+=">"+(null==(__t=e.label)?"":_.escape(__t))+"</option>\n    "})),__p+='\n</select>\n<input name="'+(null==(__t=inputNamePrefixes)?"":_.escape(__t))+'[dayOfMonth]" value="'+(null==(__t=dayOfMonth)?"":_.escape(__t))+'" />\n<input name="'+(null==(__t=inputNamePrefixes)?"":_.escape(__t))+'[monthOfYear]" value="'+(null==(__t=monthOfYear)?"":_.escape(__t))+'" />\n<input name="'+(null==(__t=inputNamePrefixes)?"":_.escape(__t))+'[startTime]" value="'+(null==(__t=startTime)?"":_.escape(__t))+'" />\n<input name="'+(null==(__t=inputNamePrefixes)?"":_.escape(__t))+'[endTime]" value="'+(null==(__t=endTime)?"":_.escape(__t))+'" />\n<input name="'+(null==(__t=inputNamePrefixes)?"":_.escape(__t))+'[occurrences]" value="'+(null==(__t=occurrences)?"":_.escape(__t))+'" />\n<input name="'+(null==(__t=inputNamePrefixes)?"":_.escape(__t))+'[timeZone]" value="'+(null==(__t=timeZone)?"":_.escape(__t))+'" />\n';return __p}},"../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orocalendar/templates/calendar/event/recurrence/recurrence-summary.html":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./bundles/oroui/js/extend/underscore.js");module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+="<div>",recurrenceType&&(exclusion?__p+="<span>"+(null==(__t=_.__("oro.calendar.event.recurrence.patterns."+exclusion))?"":_.escape(__t))+"</span>":_.contains(["daily","weekly","monthly","monthnth","yearly","yearnth"],recurrenceType)&&(__p+="<span>"+(null==(__t=_.__("oro.calendar.event.recurrence.patterns."+recurrenceType,obj,Number(count)||Number.MAX_SAFE_INTEGER))?"":_.escape(__t))+"</span>"),occurrences&&(__p+="<span>"+(null==(__t=_.__("oro.calendar.event.recurrence.patterns.occurrences",{count:occurrences},Number(occurrences)||Number.MAX_SAFE_INTEGER))?"":_.escape(__t))+"</span>"),endTime&&(__p+="<span>"+(null==(__t=_.__("oro.calendar.event.recurrence.patterns.end-date",{date:formattedEndTime}))?"":_.escape(__t))+"</span>"),timezone_offset&&(__p+="<span>"+(null==(__t=_.__("oro.calendar.event.recurrence.patterns.timezone",obj))?"":_.escape(__t))+"</span>")),__p+="</div>\n";return __p}},"../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orocalendar/templates/calendar/event/recurrence/recurrence-weekly.html":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./bundles/oroui/js/extend/underscore.js");module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="recurrence-subview-control">\n    <div class="control-group">\n        <div class="control-label wrap">\n            <label>'+(null==(__t=_.__("oro.calendar.event.recurrence.control-label.repeat-every"))?"":_.escape(__t))+'</label>\n        </div>\n        <div class="controls">\n            <label class="fields-row">\n                <input type="hidden"\n                       data-related-field="recurrenceType"\n                       value="weekly">\n                <input class="recurrence-subview-control__number"\n                       type="text"\n                       data-related-field="interval"\n                       data-validation="'+(null==(__t=JSON.stringify({NotBlank:{},Number:{min:1,max:999},Type:{type:"integer"}}))?"":_.escape(__t))+'"\n                       value="'+(null==(__t=interval)?"":_.escape(__t))+'">\n                <span class="recurrence-subview-control__text">'+(null==(__t=_.__("oro.calendar.event.recurrence.controls.weeks"))?"":_.escape(__t))+'</span>\n            </label>\n        </div>\n    </div>\n    <div class="control-group">\n        <div class="control-label wrap">\n            <label>'+(null==(__t=_.__("oro.calendar.event.recurrence.control-label.repeat-on"))?"":_.escape(__t))+'</label>\n        </div>\n        <div class="controls recurrence-subview-control">\n            <div class="validate-group" data-name="recurrence-week-day-picker"\n                 data-validation="'+(null==(__t=JSON.stringify({Count:{minMessage:"oro.calendar.event.recurrence.validation.dayOfWeek.minMessage",min:1}}))?"":_.escape(__t))+'"\n            ></div>\n        </div>\n    </div>\n</div>\n';return __p}},"../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orocalendar/templates/calendar/event/recurrence/recurrence-yearly.html":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./bundles/oroui/js/extend/underscore.js");module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="recurrence-subview-control">\n    <div class="control-group">\n        <div class="control-label wrap">\n            <label>'+(null==(__t=_.__("oro.calendar.event.recurrence.control-label.repeat-every"))?"":_.escape(__t))+'</label>\n        </div>\n        <div class="controls">\n            <label class="fields-row">\n                <input class="recurrence-subview-control__number"\n                       type="text"\n                       data-related-field="interval"\n                       data-validation="'+(null==(__t=JSON.stringify({NotBlank:{},Number:{min:1,max:80},Type:{type:"integer"}}))?"":_.escape(__t))+'"\n                       value="'+(null==(__t=interval)?"":_.escape(__t))+'">\n                <span class="recurrence-subview-control__text">'+(null==(__t=_.__("oro.calendar.event.recurrence.controls.years"))?"":_.escape(__t))+'</span>\n            </label>\n        </div>\n    </div>\n    <div class="control-group">\n        <div class="control-label wrap">\n            <label>'+(null==(__t=_.__("oro.calendar.event.recurrence.control-label.repeat-on"))?"":_.escape(__t))+'</label>\n        </div>\n        <div class="controls">\n            <div class="recurrence-subview-control__row">\n                <select data-related-field="monthOfYear">\n                    ',_.each(monthsOptions,(function(e){__p+='\n                    <option value="'+(null==(__t=e.value)?"":_.escape(__t))+'"\n                    ',e.selected&&(__p+=' selected="selected"'),__p+=">\n                    "+(null==(__t=e.text)?"":_.escape(__t))+"\n                    </option>\n                    "})),__p+='\n                </select>\n            </div>\n            <select data-related-field="instance">\n                <option value="">'+(null==(__t=_.__("oro.calendar.event.recurrence.controls.monthly-repeat-on.day"))?"":_.escape(__t))+"</option>\n                <option disabled>&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;</option>\n                ",_.each(repeatOnOptions,(function(e){__p+='\n                <option value="'+(null==(__t=e.value)?"":_.escape(__t))+'"\n                ',e.selected&&(__p+=' selected="selected"'),__p+=">\n                "+(null==(__t=_.__("oro.calendar.event.recurrence.controls.monthly-repeat-on."+e.text))?"":_.escape(__t))+"\n                </option>\n                "})),__p+='\n            </select>\n            <span class="repeat-on-day" data-name="repeat-on-day">\n                <span class="fields-row">\n                    <input class="recurrence-subview-control__number"\n                           type="text"\n                           data-related-field="dayOfMonth"\n                           data-validation="'+(null==(__t=JSON.stringify({NotBlank:{},Number:{min:1,max:31},Type:{type:"integer"}}))?"":_.escape(__t))+'"\n                           value="'+(null==(__t=dayOfMonth)?"":_.escape(__t))+'">\n                    <input type="hidden"\n                           data-related-field="recurrenceType"\n                           value="yearly">\n                </span>\n            </span>\n            <span class="repeat-on-instance" data-name="repeat-on-instance">\n                <select data-related-field="dayOfWeek">\n                    ',_.each(groupWeekDayOptions,(function(e){__p+='\n                    <option value="'+(null==(__t=e.value)?"":_.escape(__t))+'"\n                    ',e.selected&&(__p+=' selected="selected"'),__p+=">\n                    "+(null==(__t=_.__("oro.calendar.event.recurrence.controls."+e.text))?"":_.escape(__t))+"\n                    </option>\n                    "})),__p+="\n                    <option disabled></option>\n                    ",_.each(dayOfWeekOptions,(function(e){__p+='\n                    <option value="'+(null==(__t=e.value)?"":_.escape(__t))+'"\n                    ',_.isEqual(dayOfWeek,[e.value])&&(__p+=' selected="selected"'),__p+=">\n                    "+(null==(__t=e.text)?"":_.escape(__t))+"\n                    </option>\n                    "})),__p+='\n                </select>\n                <input type="hidden"\n                       data-related-field="recurrenceType"\n                       value="yearnth">\n            </span>\n        </div>\n    </div>\n    <div class="alert alert-warning" role="alert" data-name="recurrence-fewer-days-warning" style="display: none"></div>\n</div>\n';return __p}},"../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orocalendar/templates/calendar/event/recurrence/recurrence.html":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./bundles/oroui/js/extend/underscore.js");module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="control-group control-group-checkbox">\n    <div class="control-label wrap">\n        <label for="recurrence-repeat-'+(null==(__t=cid)?"":_.escape(__t))+'">\n            '+(null==(__t=_.__("oro.calendar.event.recurrence.control-label.repeat"))?"":_.escape(__t))+'\n        </label>\n    </div>\n    <div class="controls">\n        <input type="checkbox"\n               id="recurrence-repeat-'+(null==(__t=cid)?"":_.escape(__t))+'"\n               data-name="recurrence-repeat"\n               ',recurrenceType&&(__p+=" checked"),__p+='>\n    </div>\n</div>\n<div data-name="recurrence-settings"',recurrenceType||(__p+=' style="display: none"'),__p+=">\n    ",_.isEmpty(errors)||(__p+='\n    <div class="control-group alert alert-error" role="alert">\n        <ul class="controls">\n        ',_.each(errors,(function(e){_.each(e.messages,(function(t){__p+="\n                <li>"+(null==(__t=e.label)?"":_.escape(__t))+":&nbsp;"+(null==(__t=t)?"":_.escape(__t))+"</li>\n            "}))})),__p+="\n        </ul>\n    </div>\n    "),__p+='\n    <div class="control-group control-group-choice">\n        <div class="control-label wrap">\n            <label for="recurrence-repeats-'+(null==(__t=cid)?"":_.escape(__t))+'">\n            '+(null==(__t=_.__("oro.calendar.event.recurrence.control-label.repeats"))?"":_.escape(__t))+'\n            </label>\n        </div>\n        <div class="controls">\n            <select id="recurrence-repeats-'+(null==(__t=cid)?"":_.escape(__t))+'"\n                    data-name="recurrence-repeats"\n                    class="recurrence-repeats__select">\n            ',_.each(repeatsOptions,(function(e){__p+='\n            <option value="'+(null==(__t=e.value)?"":_.escape(__t))+'"',e.selected&&(__p+=" selected"),__p+=">"+(null==(__t=e.label)?"":_.escape(__t))+"</option>\n            "})),__p+='\n        </select></div>\n    </div>\n    <div class="control-group-container" data-name="recurrence-daily"></div>\n    <div class="control-group-container" data-name="recurrence-weekly"></div>\n    <div class="control-group-container" data-name="recurrence-monthly"></div>\n    <div class="control-group-container" data-name="recurrence-yearly"></div>\n    <div class="control-group-container" data-name="recurrence-ends"></div>\n    <div class="control-group recurrence-summary alert-info">\n        <div class="control-label wrap">\n            <label>'+(null==(__t=_.__("oro.calendar.event.recurrence.control-label.summary"))?"":_.escape(__t))+':</label>\n        </div>\n        <div class="controls" data-name="recurrence-summary"></div>\n    </div>\n    <div data-name="recurrence-origin-values" class="hide"></div>\n</div>\n<div class="alert alert-warning" role="alert" data-name="recurrence-warning" style="display: none"></div>\n';return __p}},"../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/oroform/templates/multi-checkbox-view.html":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./bundles/oroui/js/extend/underscore.js");module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="multi-checkbox-control">\n    <select data-name="multi-checkbox-value-keeper" multiple>\n        ',_.each(options,(function(e){__p+='\n        <option value="'+(null==(__t=e.value)?"":_.escape(__t))+'" title="'+(null==(__t=e.text)?"":_.escape(__t))+'"\n        ',-1!==_.indexOf(values,e.value)&&(__p+=' selected="selected"'),__p+=">\n        "+(null==(__t=e.text)?"":_.escape(__t))+"\n        </option>\n        "})),__p+="\n    </select>\n    ",_.each(options,(function(e){__p+='\n    <label class="multi-checkbox-control__item"><input type="checkbox" value="'+(null==(__t=e.value)?"":_.escape(__t))+'" name="'+(null==(__t=name)?"":_.escape(__t))+'"\n        ',-1!==_.indexOf(values,e.value)&&(__p+=' checked="checked"'),__p+='>\n        <span class="multi-checkbox-control_text">'+(null==(__t=e.text)?"":_.escape(__t))+"</span></label>\n    "})),__p+="\n</div>\n";return __p}},"../node_modules/datepair.js/dist/datepair.js":e=>{!function(e,t){"use strict";var n=864e5,i=e.Zepto||e.jQuery;function s(e,t){var n=t||{};for(var i in e)i in n||(n[i]=e[i]);return n}function r(e,n){if(i)i(e).trigger(n);else{var s=t.createEvent("CustomEvent");s.initCustomEvent(n,!0,!0,{}),e.dispatchEvent(s)}}function o(e,t){return i?i(e).hasClass(t):e.classList.contains(t)}function a(e,t){this.dateDelta=null,this.timeDelta=null,this._defaults={startClass:"start",endClass:"end",timeClass:"time",dateClass:"date",defaultDateDelta:0,defaultTimeDelta:36e5,anchor:"start",parseTime:function(e){return i(e).timepicker("getTime")},updateTime:function(e,t){i(e).timepicker("setTime",t)},setMinTime:function(e,t){i(e).timepicker("option","minTime",t)},parseDate:function(e){return e.value&&i(e).datepicker("getDate")},updateDate:function(e,t){i(e).datepicker("update",t)}},this.container=e,this.settings=s(this._defaults,t),this.startDateInput=this.container.querySelector("."+this.settings.startClass+"."+this.settings.dateClass),this.endDateInput=this.container.querySelector("."+this.settings.endClass+"."+this.settings.dateClass),this.startTimeInput=this.container.querySelector("."+this.settings.startClass+"."+this.settings.timeClass),this.endTimeInput=this.container.querySelector("."+this.settings.endClass+"."+this.settings.timeClass),this.refresh(),this._bindChangeHandler()}a.prototype={constructor:a,option:function(e,t){if("object"==typeof e)this.settings=s(this.settings,e);else if("string"==typeof e&&void 0!==t)this.settings[e]=t;else if("string"==typeof e)return this.settings[e];this._updateEndMintime()},getTimeDiff:function(){var e=this.dateDelta+this.timeDelta;return!(e<0)||this.startDateInput&&this.endDateInput||(e+=n),e},refresh:function(){if(this.startDateInput&&this.startDateInput.value&&this.endDateInput&&this.endDateInput.value){var e=this.settings.parseDate(this.startDateInput),t=this.settings.parseDate(this.endDateInput);e&&t&&(this.dateDelta=t.getTime()-e.getTime())}if(this.startTimeInput&&this.startTimeInput.value&&this.endTimeInput&&this.endTimeInput.value){var n=this.settings.parseTime(this.startTimeInput),i=this.settings.parseTime(this.endTimeInput);n&&i&&(this.timeDelta=i.getTime()-n.getTime(),this._updateEndMintime())}},remove:function(){this._unbindChangeHandler()},_bindChangeHandler:function(){i?i(this.container).on("change.datepair",i.proxy(this.handleEvent,this)):this.container.addEventListener("change",this,!1)},_unbindChangeHandler:function(){i?i(this.container).off("change.datepair"):this.container.removeEventListener("change",this,!1)},handleEvent:function(e){this._unbindChangeHandler(),o(e.target,this.settings.dateClass)?""!=e.target.value?(this._dateChanged(e.target),this._timeChanged(e.target)):this.dateDelta=null:o(e.target,this.settings.timeClass)&&(""!=e.target.value?this._timeChanged(e.target):this.timeDelta=null),this._validateRanges(),this._updateEndMintime(),this._bindChangeHandler()},_dateChanged:function(e){if(this.startDateInput&&this.endDateInput){var t=this.settings.parseDate(this.startDateInput),i=this.settings.parseDate(this.endDateInput);if(t&&i)if(Math.abs(i.getFullYear()-t.getFullYear())>1e3)console.log("here");else if("start"==this.settings.anchor&&o(e,this.settings.startClass)){var s=new Date(t.getTime()+this.dateDelta);this.settings.updateDate(this.endDateInput,s)}else if("end"==this.settings.anchor&&o(e,this.settings.endClass))s=new Date(i.getTime()-this.dateDelta),this.settings.updateDate(this.startDateInput,s);else if(i<t){var r=o(e,this.settings.startClass)?this.endDateInput:this.startDateInput,a=this.settings.parseDate(e);this.dateDelta=0,this.settings.updateDate(r,a)}else this.dateDelta=i.getTime()-t.getTime();else if(null!==this.settings.defaultDateDelta){if(t){var l=new Date(t.getTime()+this.settings.defaultDateDelta*n);this.settings.updateDate(this.endDateInput,l)}else if(i){var c=new Date(i.getTime()-this.settings.defaultDateDelta*n);this.settings.updateDate(this.startDateInput,c)}this.dateDelta=this.settings.defaultDateDelta*n}else this.dateDelta=null}},_timeChanged:function(e){if(this.startTimeInput&&this.endTimeInput){var t=this.settings.parseTime(this.startTimeInput),n=this.settings.parseTime(this.endTimeInput);if(t&&n)if("start"==this.settings.anchor&&o(e,this.settings.startClass))n=this._setTimeAndReturn(this.endTimeInput,new Date(t.getTime()+this.timeDelta)),this._doMidnightRollover(t,n);else if("end"==this.settings.anchor&&o(e,this.settings.endClass))t=this._setTimeAndReturn(this.startTimeInput,new Date(n.getTime()-this.timeDelta)),this._doMidnightRollover(t,n);else{var i,s;if(this._doMidnightRollover(t,n),this.startDateInput&&this.endDateInput&&(i=this.settings.parseDate(this.startDateInput),s=this.settings.parseDate(this.endDateInput)),+i==+s&&n<t){var r=o(e,this.settings.endClass)?this.endTimeInput:this.startTimeInput,a=o(e,this.settings.startClass)?this.endTimeInput:this.startTimeInput,l=this.settings.parseTime(r);this.timeDelta=0,this.settings.updateTime(a,l)}else this.timeDelta=n.getTime()-t.getTime()}else null!==this.settings.defaultTimeDelta?(this.timeDelta=this.settings.defaultTimeDelta,t?(n=this._setTimeAndReturn(this.endTimeInput,new Date(t.getTime()+this.settings.defaultTimeDelta)),this._doMidnightRollover(t,n)):n&&(t=this._setTimeAndReturn(this.startTimeInput,new Date(n.getTime()-this.settings.defaultTimeDelta)),this._doMidnightRollover(t,n))):this.timeDelta=null}},_setTimeAndReturn:function(e,t){return this.settings.updateTime(e,t),this.settings.parseTime(e)},_doMidnightRollover:function(e,t){if(this.startDateInput&&this.endDateInput){var i=this.settings.parseDate(this.endDateInput),s=this.settings.parseDate(this.startDateInput),r=t.getTime()-e.getTime(),o=t<e?n:-864e5;null!==this.dateDelta&&this.dateDelta+this.timeDelta<=n&&this.dateDelta+r!=0&&(o>0||0!=this.dateDelta)&&(r>=0&&this.timeDelta<0||r<0&&this.timeDelta>=0)&&("start"==this.settings.anchor?(this.settings.updateDate(this.endDateInput,new Date(i.getTime()+o)),this._dateChanged(this.endDateInput)):"end"==this.settings.anchor&&(this.settings.updateDate(this.startDateInput,new Date(s.getTime()-o)),this._dateChanged(this.startDateInput))),this.timeDelta=r}},_updateEndMintime:function(){if("function"==typeof this.settings.setMinTime){var e=null;"start"==this.settings.anchor&&(!this.dateDelta||this.dateDelta<n||this.timeDelta&&this.dateDelta+this.timeDelta<n)&&(e=this.settings.parseTime(this.startTimeInput)),this.settings.setMinTime(this.endTimeInput,e)}},_validateRanges:function(){this.startTimeInput&&this.endTimeInput&&null===this.timeDelta||this.startDateInput&&this.endDateInput&&null===this.dateDelta?r(this.container,"rangeIncomplete"):!this.startDateInput||!this.endDateInput||this.dateDelta+this.timeDelta>=0?r(this.container,"rangeSelected"):r(this.container,"rangeError")}},e.Datepair=a}(window,document),e.exports=Datepair},"../node_modules/fullcalendar/dist/fullcalendar.js":(e,t,n)=>{var i,s,r;s=[n("./bundles/oroui/js/extend/jquery.js"),n("./bundles/orolocale/js/moment-l10n.js")],void 0===(r="function"==typeof(i=function(e,t){var n=e.fullCalendar={version:"3.4.0",internalApiVersion:9},i=n.views={};e.fn.fullCalendar=function(t){var n=Array.prototype.slice.call(arguments,1),i=this;return this.each((function(s,r){var o,a=e(r),l=a.data("fullCalendar");"string"==typeof t?l&&e.isFunction(l[t])&&(o=l[t].apply(l,n),s||(i=o),"destroy"===t&&a.removeData("fullCalendar")):l||(l=new nt(a,t),a.data("fullCalendar",l),l.render())})),i};var s=["header","footer","buttonText","buttonIcons","themeButtonIcons"];function r(e){return Z(e,s)}function o(e,t){t.left&&e.css({"border-left-width":1,"margin-left":t.left-1}),t.right&&e.css({"border-right-width":1,"margin-right":t.right-1})}function a(e){e.css({"margin-left":"","margin-right":"","border-left-width":"","border-right-width":""})}function l(){e("body").addClass("fc-not-allowed")}function c(){e("body").removeClass("fc-not-allowed")}function d(t,n,i){var s=Math.floor(n/t.length),r=Math.floor(n-s*(t.length-1)),o=[],a=[],l=[],c=0;u(t),t.each((function(n,i){var d=n===t.length-1?r:s,u=e(i).outerHeight(!0);u<d?(o.push(i),a.push(u),l.push(e(i).height())):c+=u})),i&&(n-=c,s=Math.floor(n/o.length),r=Math.floor(n-s*(o.length-1))),e(o).each((function(t,n){var i=t===o.length-1?r:s,c=a[t],d=i-(c-l[t]);c<i&&e(n).height(d)}))}function u(e){e.height("")}function h(t){var n=0;return t.find("> *").each((function(t,i){var s=e(i).outerWidth();s>n&&(n=s)})),n++,t.width(n),n}function p(e,t){var n,i=e.add(t);return i.css({position:"relative",left:-1}),n=e.outerHeight()-t.outerHeight(),i.css({position:"",left:""}),n}function f(t){var n=t.css("position"),i=t.parents().filter((function(){var t=e(this);return/(auto|scroll)/.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))})).eq(0);return"fixed"!==n&&i.length?i:e(t[0].ownerDocument||document)}function g(e,t){var n=e.offset(),i=n.left-(t?t.left:0),s=n.top-(t?t.top:0);return{left:i,right:i+e.outerWidth(),top:s,bottom:s+e.outerHeight()}}function m(e,t){var n=e.offset(),i=v(e),s=n.left+y(e,"border-left-width")+i.left-(t?t.left:0),r=n.top+y(e,"border-top-width")+i.top-(t?t.top:0);return{left:s,right:s+e[0].clientWidth,top:r,bottom:r+e[0].clientHeight}}function v(t){var n,i=t[0].offsetWidth-t[0].clientWidth,s=t[0].offsetHeight-t[0].clientHeight;return i=_(i),n={left:0,right:0,top:0,bottom:s=_(s)},null===b&&(b=function(){var t=e("<div><div/></div>").css({position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}).appendTo("body"),n=t.children().offset().left>t.offset().left;return t.remove(),n}()),b&&"rtl"==t.css("direction")?n.left=i:n.right=i,n}function _(e){return e=Math.max(0,e),Math.round(e)}n.intersectRanges=H,n.applyAll=X,n.debounce=le,n.isInt=oe,n.htmlEscape=te,n.cssToStr=ie,n.proxy=ae,n.capitaliseFirstLetter=se,n.getOuterRect=g,n.getClientRect=m,n.getContentRect=function(e,t){var n=e.offset(),i=n.left+y(e,"border-left-width")+y(e,"padding-left")-(t?t.left:0),s=n.top+y(e,"border-top-width")+y(e,"padding-top")-(t?t.top:0);return{left:i,right:i+e.width(),top:s,bottom:s+e.height()}},n.getScrollbarWidths=v;var b=null;function y(e,t){return parseFloat(e.css(t))||0}function w(e){return 1==e.which&&!e.ctrlKey}function E(e){var t=e.originalEvent.touches;return t&&t.length?t[0].pageX:e.pageX}function C(e){var t=e.originalEvent.touches;return t&&t.length?t[0].pageY:e.pageY}function D(e){return/^touch/.test(e.type)}function S(e){e.addClass("fc-unselectable").on("selectstart",T)}function T(e){e.preventDefault()}function x(e,t){var n={left:Math.max(e.left,t.left),right:Math.min(e.right,t.right),top:Math.max(e.top,t.top),bottom:Math.min(e.bottom,t.bottom)};return n.left<n.right&&n.top<n.bottom&&n}function k(t){var n,i,s=[],r=[];for("string"==typeof t?r=t.split(/\s*,\s*/):"function"==typeof t?r=[t]:e.isArray(t)&&(r=t),n=0;n<r.length;n++)"string"==typeof(i=r[n])?s.push("-"==i.charAt(0)?{field:i.substring(1),order:-1}:{field:i,order:1}):"function"==typeof i&&s.push({func:i});return s}function j(e,t,n){var i,s;for(i=0;i<n.length;i++)if(s=R(e,t,n[i]))return s;return 0}function R(e,t,n){return n.func?n.func(e,t):I(e[n.field],t[n.field])*(n.order||1)}function I(t,n){return t||n?null==n?-1:null==t?1:"string"===e.type(t)||"string"===e.type(n)?String(t).localeCompare(String(n)):t-n:0}function H(e,t){var n,i,s,r,o=e.start,a=e.end,l=t.start,c=t.end;if(a>l&&o<c)return o>=l?(n=o.clone(),s=!0):(n=l.clone(),s=!1),a<=c?(i=a.clone(),r=!0):(i=c.clone(),r=!1),{start:n,end:i,isStart:s,isEnd:r}}n.preventDefault=T,n.intersectRects=x,n.parseFieldSpecs=k,n.compareByFieldSpecs=j,n.compareByFieldSpec=R,n.flexibleCompare=I,n.computeGreatestUnit=F,n.divideRangeByDuration=function(e,t,n){var i;return G(n)?(t-e)/n:(i=n.asMonths(),Math.abs(i)>=1&&oe(i)?t.diff(e,"months",!0)/i:t.diff(e,"days",!0)/n.asDays())},n.divideDurationByDuration=L,n.multiplyDuration=function(e,n){var i;return G(e)?t.duration(e*n):(i=e.asMonths(),Math.abs(i)>=1&&oe(i)?t.duration({months:i*n}):t.duration({days:e.asDays()*n}))},n.durationHasTime=G;var M=["sun","mon","tue","wed","thu","fri","sat"],O=["year","month","week","day","hour","minute","second","millisecond"];function N(e,n){return t.duration({days:e.clone().stripTime().diff(n.clone().stripTime(),"days"),ms:e.time()-n.time()})}function A(e,n,i){return t.duration(Math.round(e.diff(n,i,!0)),i)}function F(e,t){var n,i,s;for(n=0;n<O.length&&!((s=V(i=O[n],e,t))>=1&&oe(s));n++);return i}function z(e,t){var n=F(e);return"week"===n&&"object"==typeof t&&t.days&&(n="day"),n}function V(e,n,i){return null!=i?i.diff(n,e,!0):t.isDuration(n)?n.as(e):n.end.diff(n.start,e,!0)}function L(e,t){var n,i;return G(e)||G(t)?e/t:(n=e.asMonths(),i=t.asMonths(),Math.abs(n)>=1&&oe(n)&&Math.abs(i)>=1&&oe(i)?n/i:e.asDays()/t.asDays())}function B(e){return{start:e.start.clone(),end:e.end.clone()}}function P(e,t){return e=B(e),t.start&&(e.start=W(e.start,t)),t.end&&(e.end=(n=e.end,i=t.end,(n.isBefore(i)?n:i).clone())),e;var n,i}function W(e,t){return e=e.clone(),t.start&&(n=e,i=t.start,e=(n.isAfter(i)?n:i).clone()),t.end&&e>=t.end&&(e=t.end.clone().subtract(1)),e;var n,i}function U(e,t){return(!t.start||e>=t.start)&&(!t.end||e<t.end)}function $(e,t){return(!t.start||e.start>=t.start)&&(!t.end||e.end<=t.end)}function G(e){return Boolean(e.hours()||e.minutes()||e.seconds()||e.milliseconds())}function Y(e){return/^\d+\:\d+(?:\:\d+\.?(?:\d{3})?)?$/.test(e)}n.log=function(){var e=window.console;if(e&&e.log)return e.log.apply(e,arguments)},n.warn=function(){var e=window.console;return e&&e.warn?e.warn.apply(e,arguments):n.log.apply(n,arguments)};var q={}.hasOwnProperty;function Z(e,t){var n,i,s,r,o,a,l={};if(t)for(n=0;n<t.length;n++){for(i=t[n],s=[],r=e.length-1;r>=0;r--)if("object"==typeof(o=e[r][i]))s.unshift(o);else if(void 0!==o){l[i]=o;break}s.length&&(l[i]=Z(s))}for(n=e.length-1;n>=0;n--)for(i in a=e[n])i in l||(l[i]=a[i]);return l}function J(e){var t=function(){};return t.prototype=e,new t}function K(e,t){for(var n in e)Q(e,n)&&(t[n]=e[n])}function Q(e,t){return q.call(e,t)}function X(t,n,i){if(e.isFunction(t)&&(t=[t]),t){var s,r;for(s=0;s<t.length;s++)r=t[s].apply(n,i)||r;return r}}function ee(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e]}function te(e){return(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function ne(e){return e.replace(/&.*?;/g,"")}function ie(t){var n=[];return e.each(t,(function(e,t){null!=t&&n.push(e+":"+t)})),n.join(";")}function se(e){return e.charAt(0).toUpperCase()+e.slice(1)}function re(e,t){return e-t}function oe(e){return e%1==0}function ae(e,t){var n=e[t];return function(){return n.apply(e,arguments)}}function le(e,t,n){var i,s,r,o,a,l=function(){var c=+new Date-o;c<t?i=setTimeout(l,t-c):(i=null,n||(a=e.apply(r,s),r=s=null))};return function(){r=this,s=arguments,o=+new Date;var c=n&&!i;return i||(i=setTimeout(l,t)),c&&(a=e.apply(r,s),r=s=null),a}}n.createObject=J;var ce=/^\s*\d{4}-\d\d$/,de=/^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?)?$/,ue=t.fn,he=e.extend({},ue),pe=t.momentProperties;function fe(n,i,s){var r,o,a,l,c=n[0],d=1==n.length&&"string"==typeof c;return t.isMoment(c)||function(e){return"[object Date]"===Object.prototype.toString.call(e)||e instanceof Date}(c)||void 0===c?l=t.apply(null,n):(r=!1,o=!1,d?ce.test(c)?(n=[c+="-01"],r=!0,o=!0):(a=de.exec(c))&&(r=!a[5],o=!0):e.isArray(c)&&(o=!0),l=i||r?t.utc.apply(t,n):t.apply(null,n),r?(l._ambigTime=!0,l._ambigZone=!0):s&&(o?l._ambigZone=!0:d&&l.utcOffset(c))),l._fullCalendar=!0,l}function ge(e){return"en"!==e.locale()?e.clone().locale("en"):e}pe.push("_fullCalendar"),pe.push("_ambigTime"),pe.push("_ambigZone"),n.moment=function(){return fe(arguments)},n.moment.utc=function(){var e=fe(arguments,!0);return e.hasTime()&&e.utc(),e},n.moment.parseZone=function(){return fe(arguments,!0,!0)},ue.week=ue.weeks=function(e){var t=this._locale._fullCalendar_weekCalc;return null==e&&"function"==typeof t?t(this):"ISO"===t?he.isoWeek.apply(this,arguments):he.week.apply(this,arguments)},ue.time=function(e){if(!this._fullCalendar)return he.time.apply(this,arguments);if(null==e)return t.duration({hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()});this._ambigTime=!1,t.isDuration(e)||t.isMoment(e)||(e=t.duration(e));var n=0;return t.isDuration(e)&&(n=24*Math.floor(e.asDays())),this.hours(n+e.hours()).minutes(e.minutes()).seconds(e.seconds()).milliseconds(e.milliseconds())},ue.stripTime=function(){return this._ambigTime||(this.utc(!0),this.set({hours:0,minutes:0,seconds:0,ms:0}),this._ambigTime=!0,this._ambigZone=!0),this},ue.hasTime=function(){return!this._ambigTime},ue.stripZone=function(){var e;return this._ambigZone||(e=this._ambigTime,this.utc(!0),this._ambigTime=e||!1,this._ambigZone=!0),this},ue.hasZone=function(){return!this._ambigZone},ue.local=function(e){return he.local.call(this,this._ambigZone||e),this._ambigTime=!1,this._ambigZone=!1,this},ue.utc=function(e){return he.utc.call(this,e),this._ambigTime=!1,this._ambigZone=!1,this},ue.utcOffset=function(e){return null!=e&&(this._ambigTime=!1,this._ambigZone=!1),he.utcOffset.apply(this,arguments)},ue.format=function(){return this._fullCalendar&&arguments[0]?me(this,arguments[0]):this._ambigTime?_e(ge(this),"YYYY-MM-DD"):this._ambigZone?_e(ge(this),"YYYY-MM-DD[T]HH:mm:ss"):this._fullCalendar?_e(ge(this)):he.format.apply(this,arguments)},ue.toISOString=function(){return this._ambigTime?_e(ge(this),"YYYY-MM-DD"):this._ambigZone?_e(ge(this),"YYYY-MM-DD[T]HH:mm:ss"):this._fullCalendar?he.toISOString.apply(ge(this),arguments):he.toISOString.apply(this,arguments)},function(){n.formatDate=function(e,t){return function(e,t){return g(f(e,t).join(""))}(c(t).fakeFormatString,e)},n.formatRange=function(e,t,i,s,r){return e=n.moment.parseZone(e),t=n.moment.parseZone(t),function(e,t,n,i,s){var r,o,a,l=e.sameUnits,c=t.clone().stripZone(),d=n.clone().stripZone(),u=f(e.fakeFormatString,t),h=f(e.fakeFormatString,n),p="",m="",v="",_="",b="";for(r=0;r<l.length&&(!l[r]||c.isSame(d,l[r]));r++)p+=u[r];for(o=l.length-1;o>r&&(!l[o]||c.isSame(d,l[o]))&&(o-1!==r||"."!==u[o]);o--)m=u[o]+m;for(a=r;a<=o;a++)v+=u[a],_+=h[a];return(v||_)&&(b=s?_+i+v:v+i+_),g(p+b+m)}(c(i=e.localeData().longDateFormat(i)||i),e,t,s||" - ",r)},n.oldMomentFormat=a,n.queryMostGranularFormatUnit=function(e){var t,n,i,s,r=d(e);for(t=0;t<r.length;t++)(n=r[t]).token&&(i=o[n.token.charAt(0)])&&(!s||i.value>s.value)&&(s=i);return s?s.unit:null};var e="\v",t="",i="",s=new RegExp(i+"([^"+i+"]*)"+i,"g"),r={t:function(e){return a(e,"a").charAt(0)},T:function(e){return a(e,"A").charAt(0)}},o={Y:{value:1,unit:"year"},M:{value:2,unit:"month"},W:{value:3,unit:"week"},w:{value:3,unit:"week"},D:{value:4,unit:"day"},d:{value:4,unit:"day"}};function a(e,t){return he.format.call(e,t)}var l={};function c(e){return l[e]||(l[e]=function(e){var t=d(e);return{fakeFormatString:h(t),sameUnits:p(t)}}(e))}function d(e){for(var t,n=[],i=/\[([^\]]*)\]|\(([^\)]*)\)|(LTS|LT|(\w)\4*o?)|([^\w\[\(]+)/g;t=i.exec(e);)t[1]?n.push.apply(n,u(t[1])):t[2]?n.push({maybe:d(t[2])}):t[3]?n.push({token:t[3]}):t[5]&&n.push.apply(n,u(t[5]));return n}function u(e){return". "===e?["."," "]:[e]}function h(n){var s,o,a=[];for(s=0;s<n.length;s++)"string"==typeof(o=n[s])?a.push("["+o+"]"):o.token?o.token in r?a.push(t+"["+o.token+"]"):a.push(o.token):o.maybe&&a.push(i+h(o.maybe)+i);return a.join(e)}function p(e){var t,n,i,s=[];for(t=0;t<e.length;t++)(n=e[t]).token?(i=o[n.token.charAt(0)],s.push(i?i.unit:"second")):n.maybe?s.push.apply(s,p(n.maybe)):s.push(null);return s}function f(n,i){var s,o,l=[],c=a(i,n).split(e);for(s=0;s<c.length;s++)(o=c[s]).charAt(0)===t?l.push(r[o.substring(1)](i)):l.push(o);return l}function g(e){return e.replace(s,(function(e,t){return t.match(/[1-9]/)?t:""}))}}();var me=n.formatDate,ve=n.formatRange,_e=n.oldMomentFormat;function be(){}function ye(e,t){K(t,e.prototype)}n.Class=be,be.extend=function(){var e,t,n=arguments.length;for(e=0;e<n;e++)t=arguments[e],e<n-1&&ye(this,t);return function(e,t){var n;return Q(t,"constructor")&&(n=t.constructor),"function"!=typeof n&&(n=t.constructor=function(){e.apply(this,arguments)}),n.prototype=J(e.prototype),K(t,n.prototype),K(e,n),n}(this,t||{})},be.mixin=function(e){ye(this,e)};var we=be.extend(ke,je,{_props:null,_watchers:null,_globalWatchArgs:null,constructor:function(){this._watchers={},this._props={},this.applyGlobalWatchers()},applyGlobalWatchers:function(){var e,t=this._globalWatchArgs||[];for(e=0;e<t.length;e++)this.watch.apply(this,t[e])},has:function(e){return e in this._props},get:function(e){return void 0===e?this._props:this._props[e]},set:function(e,t){var n;"string"==typeof e?(n={})[e]=void 0===t?null:t:n=e,this.setProps(n)},reset:function(e){var t,n=this._props,i={};for(t in n)i[t]=void 0;for(t in e)i[t]=e[t];this.setProps(i)},unset:function(e){var t,n,i={};for(t="string"==typeof e?[e]:e,n=0;n<t.length;n++)i[t[n]]=void 0;this.setProps(i)},setProps:function(e){var t,n,i={},s=0;for(t in e)"object"!=typeof(n=e[t])&&n===this._props[t]||(i[t]=n,s++);if(s){for(t in this.trigger("before:batchChange",i),i)n=i[t],this.trigger("before:change",t,n),this.trigger("before:change:"+t,n);for(t in i)void 0===(n=i[t])?delete this._props[t]:this._props[t]=n,this.trigger("change:"+t,n),this.trigger("change",t,n);this.trigger("batchChange",i)}},watch:function(e,t,n,i){var s=this;this.unwatch(e),this._watchers[e]=this._watchDeps(t,(function(t){var i=n.call(s,t);i&&i.then?(s.unset(e),i.then((function(t){s.set(e,t)}))):s.set(e,i)}),(function(){s.unset(e),i&&i.call(s)}))},unwatch:function(e){var t=this._watchers[e];t&&(delete this._watchers[e],t.teardown())},_watchDeps:function(e,t,n){var i=this,s=0,r=e.length,o=0,a={},l=[],c=!1;function d(e,t){i.on(e,t),l.push([e,t])}return e.forEach((function(e){var i=!1;"?"===e.charAt(0)&&(e=e.substring(1),i=!0),d("before:change:"+e,(function(e){1==++s&&o===r&&(c=!0,n(),c=!1)})),d("change:"+e,(function(n){!function(e,n,i){void 0===n?(i||void 0===a[e]||o--,delete a[e]):(i||void 0!==a[e]||o++,a[e]=n),--s||o===r&&(c||t(a))}(e,n,i)}))})),e.forEach((function(e){var t=!1;"?"===e.charAt(0)&&(e=e.substring(1),t=!0),i.has(e)?(a[e]=i.get(e),o++):t&&o++})),o===r&&t(a),{teardown:function(){for(var e=0;e<l.length;e++)i.off(l[e][0],l[e][1]);l=null,o===r&&n()},flash:function(){o===r&&(n(),t(a))}}},flash:function(e){var t=this._watchers[e];t&&t.flash()}});we.watch=function(){var e=this.prototype;e._globalWatchArgs||(e._globalWatchArgs=[]),e._globalWatchArgs.push(arguments)},n.Model=we;var Ee={construct:function(t){var n=e.Deferred(),i=n.promise();return"function"==typeof t&&t((function(e){n.resolve(e),Ce(i,e)}),(function(){n.reject(),De(i)})),i},resolve:function(t){var n=e.Deferred().resolve(t).promise();return Ce(n,t),n},reject:function(){var t=e.Deferred().reject().promise();return De(t),t}};function Ce(e,t){e.then=function(n){return"function"==typeof n&&n(t),e}}function De(e){e.then=function(t,n){return"function"==typeof n&&n(),e}}n.Promise=Ee;var Se=be.extend(ke,{q:null,isPaused:!1,isRunning:!1,constructor:function(){this.q=[]},queue:function(){this.q.push.apply(this.q,arguments),this.tryStart()},pause:function(){this.isPaused=!0},resume:function(){this.isPaused=!1,this.tryStart()},tryStart:function(){!this.isRunning&&this.canRunNext()&&(this.isRunning=!0,this.trigger("start"),this.runNext())},canRunNext:function(){return!this.isPaused&&this.q.length},runNext:function(){this.runTask(this.q.shift())},runTask:function(e){this.runTaskFunc(e)},runTaskFunc:function(e){var t=this,n=e();function i(){t.canRunNext()?t.runNext():(t.isRunning=!1,t.trigger("stop"))}n&&n.then?n.then(i):i()}});n.TaskQueue=Se;var Te=Se.extend({waitsByNamespace:null,waitNamespace:null,waitId:null,constructor:function(e){Se.call(this),this.waitsByNamespace=e||{}},queue:function(e,t,n){var i,s={func:e,namespace:t,type:n};t&&(i=this.waitsByNamespace[t]),this.waitNamespace&&(t===this.waitNamespace&&null!=i?this.delayWait(i):(this.clearWait(),this.tryStart())),this.compoundTask(s)&&(this.waitNamespace||null==i?this.tryStart():this.startWait(t,i))},startWait:function(e,t){this.waitNamespace=e,this.spawnWait(t)},delayWait:function(e){clearTimeout(this.waitId),this.spawnWait(e)},spawnWait:function(e){var t=this;this.waitId=setTimeout((function(){t.waitNamespace=null,t.tryStart()}),e)},clearWait:function(){this.waitNamespace&&(clearTimeout(this.waitId),this.waitId=null,this.waitNamespace=null)},canRunNext:function(){if(!Se.prototype.canRunNext.apply(this,arguments))return!1;if(this.waitNamespace){for(var e=this.q,t=0;t<e.length;t++)if(e[t].namespace!==this.waitNamespace)return!0;return!1}return!0},runTask:function(e){this.runTaskFunc(e.func)},compoundTask:function(e){var t,n,i=this.q,s=!0;if(e.namespace&&("destroy"===e.type||"init"===e.type)){for(t=i.length-1;t>=0;t--)(n=i[t]).namespace!==e.namespace||"add"!==n.type&&"remove"!==n.type||i.splice(t,1);"destroy"===e.type?i.length&&(n=i[i.length-1]).namespace===e.namespace&&("init"===n.type?(s=!1,i.pop()):"destroy"===n.type&&(s=!1)):"init"===e.type&&i.length&&(n=i[i.length-1]).namespace===e.namespace&&"init"===n.type&&i.pop()}return s&&i.push(e),s}});n.RenderQueue=Te;var xe,ke=n.EmitterMixin={on:function(t,n){return e(this).on(t,this._prepareIntercept(n)),this},one:function(t,n){return e(this).one(t,this._prepareIntercept(n)),this},_prepareIntercept:function(t){var n=function(e,n){return t.apply(n.context||this,n.args||[])};return t.guid||(t.guid=e.guid++),n.guid=t.guid,n},off:function(t,n){return e(this).off(t,n),this},trigger:function(t){var n=Array.prototype.slice.call(arguments,1);return e(this).triggerHandler(t,{args:n}),this},triggerWith:function(t,n,i){return e(this).triggerHandler(t,{context:n,args:i}),this}},je=n.ListenerMixin=(xe=0,{listenerId:null,listenTo:function(t,n,i){if("object"==typeof n)for(var s in n)n.hasOwnProperty(s)&&this.listenTo(t,s,n[s]);else"string"==typeof n&&t.on(n+"."+this.getListenerNamespace(),e.proxy(i,this))},stopListeningTo:function(e,t){e.off((t||"")+"."+this.getListenerNamespace())},getListenerNamespace:function(){return null==this.listenerId&&(this.listenerId=xe++),"_listener"+this.listenerId}}),Re=be.extend(je,{isHidden:!0,options:null,el:null,margin:10,constructor:function(e){this.options=e||{}},show:function(){this.isHidden&&(this.el||this.render(),this.el.show(),this.position(),this.isHidden=!1,this.trigger("show"))},hide:function(){this.isHidden||(this.el.hide(),this.isHidden=!0,this.trigger("hide"))},render:function(){var t=this,n=this.options;this.el=e('<div class="fc-popover"/>').addClass(n.className||"").css({top:0,left:0}).append(n.content).appendTo(n.parentEl),this.el.on("click",".fc-close",(function(){t.hide()})),n.autoHide&&this.listenTo(e(document),"mousedown",this.documentMousedown)},documentMousedown:function(t){this.el&&!e(t.target).closest(this.el).length&&this.hide()},removeElement:function(){this.hide(),this.el&&(this.el.remove(),this.el=null),this.stopListeningTo(e(document),"mousedown")},position:function(){var t,n,i,s,r,o=this.options,a=this.el.offsetParent().offset(),l=this.el.outerWidth(),c=this.el.outerHeight(),d=e(window),u=f(this.el);s=o.top||0,r=void 0!==o.left?o.left:void 0!==o.right?o.right-l:0,u.is(window)||u.is(document)?(u=d,t=0,n=0):(t=(i=u.offset()).top,n=i.left),t+=d.scrollTop(),n+=d.scrollLeft(),!1!==o.viewportConstrain&&(s=Math.min(s,t+u.outerHeight()-c-this.margin),s=Math.max(s,t+this.margin),r=Math.min(r,n+u.outerWidth()-l-this.margin),r=Math.max(r,n+this.margin)),this.el.css({top:s-a.top,left:r-a.left})},trigger:function(e){this.options[e]&&this.options[e].apply(this,Array.prototype.slice.call(arguments,1))}}),Ie=n.CoordCache=be.extend({els:null,forcedOffsetParentEl:null,origin:null,boundingRect:null,isHorizontal:!1,isVertical:!1,lefts:null,rights:null,tops:null,bottoms:null,constructor:function(t){this.els=e(t.els),this.isHorizontal=t.isHorizontal,this.isVertical=t.isVertical,this.forcedOffsetParentEl=t.offsetParent?e(t.offsetParent):null},build:function(){var e=this.forcedOffsetParentEl;!e&&this.els.length>0&&(e=this.els.eq(0).offsetParent()),this.origin=e?e.offset():null,this.boundingRect=this.queryBoundingRect(),this.isHorizontal&&this.buildElHorizontals(),this.isVertical&&this.buildElVerticals()},clear:function(){this.origin=null,this.boundingRect=null,this.lefts=null,this.rights=null,this.tops=null,this.bottoms=null},ensureBuilt:function(){this.origin||this.build()},buildElHorizontals:function(){var t=[],n=[];this.els.each((function(i,s){var r=e(s),o=r.offset().left,a=r.outerWidth();t.push(o),n.push(o+a)})),this.lefts=t,this.rights=n},buildElVerticals:function(){var t=[],n=[];this.els.each((function(i,s){var r=e(s),o=r.offset().top,a=r.outerHeight();t.push(o),n.push(o+a)})),this.tops=t,this.bottoms=n},getHorizontalIndex:function(e){this.ensureBuilt();var t,n=this.lefts,i=this.rights,s=n.length;for(t=0;t<s;t++)if(e>=n[t]&&e<i[t])return t},getVerticalIndex:function(e){this.ensureBuilt();var t,n=this.tops,i=this.bottoms,s=n.length;for(t=0;t<s;t++)if(e>=n[t]&&e<i[t])return t},getLeftOffset:function(e){return this.ensureBuilt(),this.lefts[e]},getLeftPosition:function(e){return this.ensureBuilt(),this.lefts[e]-this.origin.left},getRightOffset:function(e){return this.ensureBuilt(),this.rights[e]},getRightPosition:function(e){return this.ensureBuilt(),this.rights[e]-this.origin.left},getWidth:function(e){return this.ensureBuilt(),this.rights[e]-this.lefts[e]},getTopOffset:function(e){return this.ensureBuilt(),this.tops[e]},getTopPosition:function(e){return this.ensureBuilt(),this.tops[e]-this.origin.top},getBottomOffset:function(e){return this.ensureBuilt(),this.bottoms[e]},getBottomPosition:function(e){return this.ensureBuilt(),this.bottoms[e]-this.origin.top},getHeight:function(e){return this.ensureBuilt(),this.bottoms[e]-this.tops[e]},queryBoundingRect:function(){var e;return this.els.length>0&&!(e=f(this.els.eq(0))).is(document)?m(e):null},isPointInBounds:function(e,t){return this.isLeftInBounds(e)&&this.isTopInBounds(t)},isLeftInBounds:function(e){return!this.boundingRect||e>=this.boundingRect.left&&e<this.boundingRect.right},isTopInBounds:function(e){return!this.boundingRect||e>=this.boundingRect.top&&e<this.boundingRect.bottom}}),He=n.DragListener=be.extend(je,{options:null,subjectEl:null,originX:null,originY:null,scrollEl:null,isInteracting:!1,isDistanceSurpassed:!1,isDelayEnded:!1,isDragging:!1,isTouch:!1,isGeneric:!1,delay:null,delayTimeoutId:null,minDistance:null,shouldCancelTouchScroll:!0,scrollAlwaysKills:!1,constructor:function(e){this.options=e||{}},startInteraction:function(t,n){if("mousedown"===t.type){if(ze.get().shouldIgnoreMouse())return;if(!w(t))return;t.preventDefault()}this.isInteracting||(n=n||{},this.delay=ee(n.delay,this.options.delay,0),this.minDistance=ee(n.distance,this.options.distance,0),this.subjectEl=this.options.subjectEl,S(e("body")),this.isInteracting=!0,this.isTouch=D(t),this.isGeneric="dragstart"===t.type,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.originX=E(t),this.originY=C(t),this.scrollEl=f(e(t.target)),this.bindHandlers(),this.initAutoScroll(),this.handleInteractionStart(t),this.startDelay(t),this.minDistance||this.handleDistanceSurpassed(t))},handleInteractionStart:function(e){this.trigger("interactionStart",e)},endInteraction:function(t,n){this.isInteracting&&(this.endDrag(t),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null),this.destroyAutoScroll(),this.unbindHandlers(),this.isInteracting=!1,this.handleInteractionEnd(t,n),e("body").removeClass("fc-unselectable").off("selectstart",T))},handleInteractionEnd:function(e,t){this.trigger("interactionEnd",e,t||!1)},bindHandlers:function(){var t=ze.get();this.isGeneric?this.listenTo(e(document),{drag:this.handleMove,dragstop:this.endInteraction}):this.isTouch?this.listenTo(t,{touchmove:this.handleTouchMove,touchend:this.endInteraction,scroll:this.handleTouchScroll}):this.listenTo(t,{mousemove:this.handleMouseMove,mouseup:this.endInteraction}),this.listenTo(t,{selectstart:T,contextmenu:T})},unbindHandlers:function(){this.stopListeningTo(ze.get()),this.stopListeningTo(e(document))},startDrag:function(e,t){this.startInteraction(e,t),this.isDragging||(this.isDragging=!0,this.handleDragStart(e))},handleDragStart:function(e){this.trigger("dragStart",e)},handleMove:function(e){var t=E(e)-this.originX,n=C(e)-this.originY,i=this.minDistance;this.isDistanceSurpassed||t*t+n*n>=i*i&&this.handleDistanceSurpassed(e),this.isDragging&&this.handleDrag(t,n,e)},handleDrag:function(e,t,n){this.trigger("drag",e,t,n),this.updateAutoScroll(n)},endDrag:function(e){this.isDragging&&(this.isDragging=!1,this.handleDragEnd(e))},handleDragEnd:function(e){this.trigger("dragEnd",e)},startDelay:function(e){var t=this;this.delay?this.delayTimeoutId=setTimeout((function(){t.handleDelayEnd(e)}),this.delay):this.handleDelayEnd(e)},handleDelayEnd:function(e){this.isDelayEnded=!0,this.isDistanceSurpassed&&this.startDrag(e)},handleDistanceSurpassed:function(e){this.isDistanceSurpassed=!0,this.isDelayEnded&&this.startDrag(e)},handleTouchMove:function(e){this.isDragging&&this.shouldCancelTouchScroll&&e.preventDefault(),this.handleMove(e)},handleMouseMove:function(e){this.handleMove(e)},handleTouchScroll:function(e){this.isDragging&&!this.scrollAlwaysKills||this.endInteraction(e,!0)},trigger:function(e){this.options[e]&&this.options[e].apply(this,Array.prototype.slice.call(arguments,1)),this["_"+e]&&this["_"+e].apply(this,Array.prototype.slice.call(arguments,1))}});He.mixin({isAutoScroll:!1,scrollBounds:null,scrollTopVel:null,scrollLeftVel:null,scrollIntervalId:null,scrollSensitivity:30,scrollSpeed:200,scrollIntervalMs:50,initAutoScroll:function(){var e=this.scrollEl;this.isAutoScroll=this.options.scroll&&e&&!e.is(window)&&!e.is(document),this.isAutoScroll&&this.listenTo(e,"scroll",le(this.handleDebouncedScroll,100))},destroyAutoScroll:function(){this.endAutoScroll(),this.isAutoScroll&&this.stopListeningTo(this.scrollEl,"scroll")},computeScrollBounds:function(){this.isAutoScroll&&(this.scrollBounds=g(this.scrollEl))},updateAutoScroll:function(e){var t,n,i,s,r=this.scrollSensitivity,o=this.scrollBounds,a=0,l=0;o&&(t=(r-(C(e)-o.top))/r,n=(r-(o.bottom-C(e)))/r,i=(r-(E(e)-o.left))/r,s=(r-(o.right-E(e)))/r,t>=0&&t<=1?a=t*this.scrollSpeed*-1:n>=0&&n<=1&&(a=n*this.scrollSpeed),i>=0&&i<=1?l=i*this.scrollSpeed*-1:s>=0&&s<=1&&(l=s*this.scrollSpeed)),this.setScrollVel(a,l)},setScrollVel:function(e,t){this.scrollTopVel=e,this.scrollLeftVel=t,this.constrainScrollVel(),!this.scrollTopVel&&!this.scrollLeftVel||this.scrollIntervalId||(this.scrollIntervalId=setInterval(ae(this,"scrollIntervalFunc"),this.scrollIntervalMs))},constrainScrollVel:function(){var e=this.scrollEl;this.scrollTopVel<0?e.scrollTop()<=0&&(this.scrollTopVel=0):this.scrollTopVel>0&&e.scrollTop()+e[0].clientHeight>=e[0].scrollHeight&&(this.scrollTopVel=0),this.scrollLeftVel<0?e.scrollLeft()<=0&&(this.scrollLeftVel=0):this.scrollLeftVel>0&&e.scrollLeft()+e[0].clientWidth>=e[0].scrollWidth&&(this.scrollLeftVel=0)},scrollIntervalFunc:function(){var e=this.scrollEl,t=this.scrollIntervalMs/1e3;this.scrollTopVel&&e.scrollTop(e.scrollTop()+this.scrollTopVel*t),this.scrollLeftVel&&e.scrollLeft(e.scrollLeft()+this.scrollLeftVel*t),this.constrainScrollVel(),this.scrollTopVel||this.scrollLeftVel||this.endAutoScroll()},endAutoScroll:function(){this.scrollIntervalId&&(clearInterval(this.scrollIntervalId),this.scrollIntervalId=null,this.handleScrollEnd())},handleDebouncedScroll:function(){this.scrollIntervalId||this.handleScrollEnd()},handleScrollEnd:function(){}});var Me=He.extend({component:null,origHit:null,hit:null,coordAdjust:null,constructor:function(e,t){He.call(this,t),this.component=e},handleInteractionStart:function(e){var t,n,i,s,r,o,a=this.subjectEl;this.component.hitsNeeded(),this.computeScrollBounds(),e?(i=n={left:E(e),top:C(e)},a&&(i=function(e,t){return{left:Math.min(Math.max(e.left,t.left),t.right),top:Math.min(Math.max(e.top,t.top),t.bottom)}}(i,t=g(a))),this.origHit=this.queryHit(i.left,i.top),a&&this.options.subjectCenter&&(this.origHit&&(t=x(this.origHit,t)||t),i={left:((o=t).left+o.right)/2,top:(o.top+o.bottom)/2}),this.coordAdjust=(r=n,{left:(s=i).left-r.left,top:s.top-r.top})):(this.origHit=null,this.coordAdjust=null),He.prototype.handleInteractionStart.apply(this,arguments)},handleDragStart:function(e){var t;He.prototype.handleDragStart.apply(this,arguments),(t=this.queryHit(E(e),C(e)))&&this.handleHitOver(t)},handleDrag:function(e,t,n){var i;He.prototype.handleDrag.apply(this,arguments),Oe(i=this.queryHit(E(n),C(n)),this.hit)||(this.hit&&this.handleHitOut(),i&&this.handleHitOver(i))},handleDragEnd:function(){this.handleHitDone(),He.prototype.handleDragEnd.apply(this,arguments)},handleHitOver:function(e){var t=Oe(e,this.origHit);this.hit=e,this.trigger("hitOver",this.hit,t,this.origHit)},handleHitOut:function(){this.hit&&(this.trigger("hitOut",this.hit),this.handleHitDone(),this.hit=null)},handleHitDone:function(){this.hit&&this.trigger("hitDone",this.hit)},handleInteractionEnd:function(){He.prototype.handleInteractionEnd.apply(this,arguments),this.origHit=null,this.hit=null,this.component.hitsNotNeeded()},handleScrollEnd:function(){He.prototype.handleScrollEnd.apply(this,arguments),this.isDragging&&(this.component.releaseHits(),this.component.prepareHits())},queryHit:function(e,t){return this.coordAdjust&&(e+=this.coordAdjust.left,t+=this.coordAdjust.top),this.component.queryHit(e,t)}});function Oe(e,t){return!e&&!t||!(!e||!t)&&e.component===t.component&&Ne(e,t)&&Ne(t,e)}function Ne(e,t){for(var n in e)if(!/^(component|left|right|top|bottom)$/.test(n)&&e[n]!==t[n])return!1;return!0}n.touchMouseIgnoreWait=500;var Ae,Fe,ze=be.extend(je,ke,{isTouching:!1,mouseIgnoreDepth:0,handleScrollProxy:null,bind:function(){var t=this;this.listenTo(e(document),{touchstart:this.handleTouchStart,touchcancel:this.handleTouchCancel,touchend:this.handleTouchEnd,mousedown:this.handleMouseDown,mousemove:this.handleMouseMove,mouseup:this.handleMouseUp,click:this.handleClick,selectstart:this.handleSelectStart,contextmenu:this.handleContextMenu}),window.addEventListener("touchmove",this.handleTouchMoveProxy=function(n){t.handleTouchMove(e.Event(n))},{passive:!1}),window.addEventListener("scroll",this.handleScrollProxy=function(n){t.handleScroll(e.Event(n))},!0)},unbind:function(){this.stopListeningTo(e(document)),window.removeEventListener("touchmove",this.handleTouchMoveProxy),window.removeEventListener("scroll",this.handleScrollProxy,!0)},handleTouchStart:function(e){this.stopTouch(e,!0),this.isTouching=!0,this.trigger("touchstart",e)},handleTouchMove:function(e){this.isTouching&&this.trigger("touchmove",e)},handleTouchCancel:function(e){this.isTouching&&(this.trigger("touchcancel",e),this.stopTouch(e))},handleTouchEnd:function(e){this.stopTouch(e)},handleMouseDown:function(e){this.shouldIgnoreMouse()||this.trigger("mousedown",e)},handleMouseMove:function(e){this.shouldIgnoreMouse()||this.trigger("mousemove",e)},handleMouseUp:function(e){this.shouldIgnoreMouse()||this.trigger("mouseup",e)},handleClick:function(e){this.shouldIgnoreMouse()||this.trigger("click",e)},handleSelectStart:function(e){this.trigger("selectstart",e)},handleContextMenu:function(e){this.trigger("contextmenu",e)},handleScroll:function(e){this.trigger("scroll",e)},stopTouch:function(e,t){this.isTouching&&(this.isTouching=!1,this.trigger("touchend",e),t||this.startTouchMouseIgnore())},startTouchMouseIgnore:function(){var e=this,t=n.touchMouseIgnoreWait;t&&(this.mouseIgnoreDepth++,setTimeout((function(){e.mouseIgnoreDepth--}),t))},shouldIgnoreMouse:function(){return this.isTouching||Boolean(this.mouseIgnoreDepth)}});Ae=null,Fe=0,ze.get=function(){return Ae||(Ae=new ze).bind(),Ae},ze.needed=function(){ze.get(),Fe++},ze.unneeded=function(){--Fe||(Ae.unbind(),Ae=null)};var Ve=be.extend(je,{options:null,sourceEl:null,el:null,parentEl:null,top0:null,left0:null,y0:null,x0:null,topDelta:null,leftDelta:null,isFollowing:!1,isHidden:!1,isAnimating:!1,constructor:function(t,n){this.options=n=n||{},this.sourceEl=t,this.parentEl=n.parentEl?e(n.parentEl):t.parent()},start:function(t){this.isFollowing||(this.isFollowing=!0,this.y0=C(t),this.x0=E(t),this.topDelta=0,this.leftDelta=0,this.isHidden||this.updatePosition(),D(t)?this.listenTo(e(document),"touchmove",this.handleMove):this.listenTo(e(document),"mousemove",this.handleMove))},stop:function(t,n){var i=this,s=this.options.revertDuration;function r(){i.isAnimating=!1,i.removeElement(),i.top0=i.left0=null,n&&n()}this.isFollowing&&!this.isAnimating&&(this.isFollowing=!1,this.stopListeningTo(e(document)),t&&s&&!this.isHidden?(this.isAnimating=!0,this.el.animate({top:this.top0,left:this.left0},{duration:s,complete:r})):r())},getEl:function(){var e=this.el;return e||((e=this.el=this.sourceEl.clone().addClass(this.options.additionalClass||"").css({position:"absolute",visibility:"",display:this.isHidden?"none":"",margin:0,right:"auto",bottom:"auto",width:this.sourceEl.width(),height:this.sourceEl.height(),opacity:this.options.opacity||"",zIndex:this.options.zIndex})).addClass("fc-unselectable"),e.appendTo(this.parentEl)),e},removeElement:function(){this.el&&(this.el.remove(),this.el=null)},updatePosition:function(){var e,t;this.getEl(),null===this.top0&&(e=this.sourceEl.offset(),t=this.el.offsetParent().offset(),this.top0=e.top-t.top,this.left0=e.left-t.left),this.el.css({top:this.top0+this.topDelta,left:this.left0+this.leftDelta})},handleMove:function(e){this.topDelta=C(e)-this.y0,this.leftDelta=E(e)-this.x0,this.isHidden||this.updatePosition()},hide:function(){this.isHidden||(this.isHidden=!0,this.el&&this.el.hide())},show:function(){this.isHidden&&(this.isHidden=!1,this.updatePosition(),this.getEl().show())}}),Le=n.Grid=be.extend(je,{hasDayInteractions:!0,view:null,isRTL:null,start:null,end:null,el:null,elsByFill:null,eventTimeFormat:null,displayEventTime:null,displayEventEnd:null,minResizeDuration:null,largeUnit:null,dayClickListener:null,daySelectListener:null,segDragListener:null,segResizeListener:null,externalDragListener:null,constructor:function(e){this.view=e,this.isRTL=e.opt("isRTL"),this.elsByFill={},this.dayClickListener=this.buildDayClickListener(),this.daySelectListener=this.buildDaySelectListener()},computeEventTimeFormat:function(){return this.view.opt("smallTimeFormat")},computeDisplayEventTime:function(){return!0},computeDisplayEventEnd:function(){return!0},setRange:function(e){this.start=e.start.clone(),this.end=e.end.clone(),this.rangeUpdated(),this.processRangeOptions()},rangeUpdated:function(){},processRangeOptions:function(){var e,t,n=this.view;this.eventTimeFormat=n.opt("eventTimeFormat")||n.opt("timeFormat")||this.computeEventTimeFormat(),null==(e=n.opt("displayEventTime"))&&(e=this.computeDisplayEventTime()),null==(t=n.opt("displayEventEnd"))&&(t=this.computeDisplayEventEnd()),this.displayEventTime=e,this.displayEventEnd=t},spanToSegs:function(e){},diffDates:function(e,t){return this.largeUnit?A(e,t,this.largeUnit):N(e,t)},hitsNeededDepth:0,hitsNeeded:function(){this.hitsNeededDepth++||this.prepareHits()},hitsNotNeeded:function(){this.hitsNeededDepth&&! --this.hitsNeededDepth&&this.releaseHits()},prepareHits:function(){},releaseHits:function(){},queryHit:function(e,t){},getSafeHitSpan:function(e){var t=this.getHitSpan(e);return $(t,this.view.activeRange)?t:null},getHitSpan:function(e){},getHitEl:function(e){},setElement:function(e){this.el=e,this.hasDayInteractions&&(S(e),this.bindDayHandler("touchstart",this.dayTouchStart),this.bindDayHandler("mousedown",this.dayMousedown)),this.bindSegHandlers(),this.bindGlobalHandlers()},bindDayHandler:function(t,n){var i=this;this.el.on(t,(function(t){if(!e(t.target).is(i.segSelector+","+i.segSelector+" *,.fc-more,a[data-goto]"))return n.call(i,t)}))},removeElement:function(){this.unbindGlobalHandlers(),this.clearDragListeners(),this.el.remove()},renderSkeleton:function(){},renderDates:function(){},unrenderDates:function(){},bindGlobalHandlers:function(){this.listenTo(e(document),{dragstart:this.externalDragStart,sortstart:this.externalDragStart})},unbindGlobalHandlers:function(){this.stopListeningTo(e(document))},dayMousedown:function(e){var t=this.view;ze.get().shouldIgnoreMouse()||(this.dayClickListener.startInteraction(e),t.opt("selectable")&&this.daySelectListener.startInteraction(e,{distance:t.opt("selectMinDistance")}))},dayTouchStart:function(e){var t,n=this.view;n.isSelected||n.selectedEvent||(null==(t=n.opt("selectLongPressDelay"))&&(t=n.opt("longPressDelay")),this.dayClickListener.startInteraction(e),n.opt("selectable")&&this.daySelectListener.startInteraction(e,{delay:t}))},buildDayClickListener:function(){var e,t=this,n=this.view,i=new Me(this,{scroll:n.opt("dragScroll"),interactionStart:function(){e=i.origHit},hitOver:function(t,n,i){n||(e=null)},hitOut:function(){e=null},interactionEnd:function(i,s){var r;!s&&e&&(r=t.getSafeHitSpan(e))&&n.triggerDayClick(r,t.getHitEl(e),i)}});return i.shouldCancelTouchScroll=!1,i.scrollAlwaysKills=!0,i},buildDaySelectListener:function(){var e,t=this,n=this.view;return new Me(this,{scroll:n.opt("dragScroll"),interactionStart:function(){e=null},dragStart:function(){n.unselect()},hitOver:function(n,i,s){var r,o;s&&(r=t.getSafeHitSpan(s),o=t.getSafeHitSpan(n),(e=r&&o?t.computeSelection(r,o):null)?t.renderSelection(e):!1===e&&l())},hitOut:function(){e=null,t.unrenderSelection()},hitDone:function(){c()},interactionEnd:function(t,i){!i&&e&&n.reportSelection(e,t)}})},clearDragListeners:function(){this.dayClickListener.endInteraction(),this.daySelectListener.endInteraction(),this.segDragListener&&this.segDragListener.endInteraction(),this.segResizeListener&&this.segResizeListener.endInteraction(),this.externalDragListener&&this.externalDragListener.endInteraction()},renderEventLocationHelper:function(e,t){var n=this.fabricateHelperEvent(e,t);return this.renderHelper(n,t)},fabricateHelperEvent:function(e,t){var n=t?J(t.event):{};return n.start=e.start.clone(),n.end=e.end?e.end.clone():null,n.allDay=null,this.view.calendar.normalizeEventDates(n),n.className=(n.className||[]).concat("fc-helper"),t||(n.editable=!1),n},renderHelper:function(e,t){},unrenderHelper:function(){},renderSelection:function(e){this.renderHighlight(e)},unrenderSelection:function(){this.unrenderHighlight()},computeSelection:function(e,t){var n=this.computeSelectionSpan(e,t);return!(n&&!this.view.calendar.isSelectionSpanAllowed(n))&&n},computeSelectionSpan:function(e,t){var n=[e.start,e.end,t.start,t.end];return n.sort(re),{start:n[0].clone(),end:n[3].clone()}},renderHighlight:function(e){this.renderFill("highlight",this.spanToSegs(e))},unrenderHighlight:function(){this.unrenderFill("highlight")},highlightSegClasses:function(){return["fc-highlight"]},renderBusinessHours:function(){},unrenderBusinessHours:function(){},getNowIndicatorUnit:function(){},renderNowIndicator:function(e){},unrenderNowIndicator:function(){},renderFill:function(e,t){},unrenderFill:function(e){var t=this.elsByFill[e];t&&(t.remove(),delete this.elsByFill[e])},renderFillSegEls:function(t,n){var i,s=this,r=this[t+"SegEl"],o="",a=[];if(n.length){for(i=0;i<n.length;i++)o+=this.fillSegHtml(t,n[i]);e(o).each((function(t,i){var o=n[t],l=e(i);r&&(l=r.call(s,o,l)),l&&(l=e(l)).is(s.fillSegTag)&&(o.el=l,a.push(o))}))}return a},fillSegTag:"div",fillSegHtml:function(e,t){var n=this[e+"SegClasses"],i=this[e+"SegCss"],s=n?n.call(this,t):[],r=ie(i?i.call(this,t):{});return"<"+this.fillSegTag+(s.length?' class="'+s.join(" ")+'"':"")+(r?' style="'+r+'"':"")+" />"},getDayClasses:function(e,t){var n,i=this.view,s=[];return U(e,i.activeRange)?(s.push("fc-"+M[e.day()]),1==i.currentRangeAs("months")&&e.month()!=i.currentRange.start.month()&&s.push("fc-other-month"),n=i.calendar.getNow(),e.isSame(n,"day")?(s.push("fc-today"),!0!==t&&s.push(i.highlightStateClass)):e<n?s.push("fc-past"):s.push("fc-future")):s.push("fc-disabled-day"),s}});function Be(e){return{start:e.start.clone(),end:e.end?e.end.clone():null,allDay:e.allDay}}function Pe(e){var t=We(e);return"background"===t||"inverse-background"===t}function We(e){return ee((e.source||{}).rendering,e.rendering)}function Ue(e,t){return e.start-t.start}Le.mixin({segSelector:".fc-event-container > *",mousedOverSeg:null,isDraggingSeg:!1,isResizingSeg:!1,isDraggingExternal:!1,segs:null,renderEvents:function(e){var t,n=[],i=[];for(t=0;t<e.length;t++)(Pe(e[t])?n:i).push(e[t]);this.segs=[].concat(this.renderBgEvents(n),this.renderFgEvents(i))},renderBgEvents:function(e){var t=this.eventsToSegs(e);return this.renderBgSegs(t)||t},renderFgEvents:function(e){var t=this.eventsToSegs(e);return this.renderFgSegs(t)||t},unrenderEvents:function(){this.handleSegMouseout(),this.clearDragListeners(),this.unrenderFgSegs(),this.unrenderBgSegs(),this.segs=null},getEventSegs:function(){return this.segs||[]},renderFgSegs:function(e){},unrenderFgSegs:function(){},renderFgSegEls:function(t,n){var i,s=this.view,r="",o=[];if(t.length){for(i=0;i<t.length;i++)r+=this.fgSegHtml(t[i],n);e(r).each((function(n,i){var r=t[n],a=s.resolveEventEl(r.event,e(i));a&&(a.data("fc-seg",r),r.el=a,o.push(r))}))}return o},fgSegHtml:function(e,t){},renderBgSegs:function(e){return this.renderFill("bgEvent",e)},unrenderBgSegs:function(){this.unrenderFill("bgEvent")},bgEventSegEl:function(e,t){return this.view.resolveEventEl(e.event,t)},bgEventSegClasses:function(e){var t=e.event,n=t.source||{};return["fc-bgevent"].concat(t.className,n.className||[])},bgEventSegCss:function(e){return{"background-color":this.getSegSkinCss(e)["background-color"]}},businessHoursSegClasses:function(e){return["fc-nonbusiness","fc-bgevent"]},buildBusinessHourSegs:function(e,t){return this.eventsToSegs(this.buildBusinessHourEvents(e,t))},buildBusinessHourEvents:function(t,n){var i,s=this.view.calendar;return null==n&&(n=s.opt("businessHours")),!(i=s.computeBusinessHourEvents(t,n)).length&&n&&(i=[e.extend({},pt,{start:this.view.activeRange.end,end:this.view.activeRange.end,dow:null})]),i},bindSegHandlers:function(){this.bindSegHandlersToEl(this.el)},bindSegHandlersToEl:function(e){this.bindSegHandlerToEl(e,"touchstart",this.handleSegTouchStart),this.bindSegHandlerToEl(e,"mouseenter",this.handleSegMouseover),this.bindSegHandlerToEl(e,"mouseleave",this.handleSegMouseout),this.bindSegHandlerToEl(e,"mousedown",this.handleSegMousedown),this.bindSegHandlerToEl(e,"click",this.handleSegClick)},bindSegHandlerToEl:function(t,n,i){var s=this;t.on(n,this.segSelector,(function(t){var n=e(this).data("fc-seg");if(n&&!s.isDraggingSeg&&!s.isResizingSeg)return i.call(s,n,t)}))},handleSegClick:function(e,t){!1===this.view.publiclyTrigger("eventClick",e.el[0],e.event,t)&&t.preventDefault()},handleSegMouseover:function(e,t){ze.get().shouldIgnoreMouse()||this.mousedOverSeg||(this.mousedOverSeg=e,this.view.isEventResizable(e.event)&&e.el.addClass("fc-allow-mouse-resize"),this.view.publiclyTrigger("eventMouseover",e.el[0],e.event,t))},handleSegMouseout:function(e,t){t=t||{},this.mousedOverSeg&&(e=e||this.mousedOverSeg,this.mousedOverSeg=null,this.view.isEventResizable(e.event)&&e.el.removeClass("fc-allow-mouse-resize"),this.view.publiclyTrigger("eventMouseout",e.el[0],e.event,t))},handleSegMousedown:function(e,t){!this.startSegResize(e,t,{distance:5})&&this.view.isEventDraggable(e.event)&&this.buildSegDragListener(e).startInteraction(t,{distance:5})},handleSegTouchStart:function(e,t){var n,i=this.view,s=e.event,r=i.isEventSelected(s),o=i.isEventDraggable(s),a=i.isEventResizable(s),l=!1;r&&a&&(l=this.startSegResize(e,t)),l||!o&&!a||(null==(n=i.opt("eventLongPressDelay"))&&(n=i.opt("longPressDelay")),(o?this.buildSegDragListener(e):this.buildSegSelectListener(e)).startInteraction(t,{delay:r?0:n}))},startSegResize:function(t,n,i){return!!e(n.target).is(".fc-resizer")&&(this.buildSegResizeListener(t,e(n.target).is(".fc-start-resizer")).startInteraction(n,i),!0)},buildSegDragListener:function(e){var t,n,i,s=this,r=this.view,o=e.el,a=e.event;if(this.segDragListener)return this.segDragListener;var d=this.segDragListener=new Me(r,{scroll:r.opt("dragScroll"),subjectEl:o,subjectCenter:!0,interactionStart:function(i){e.component=s,t=!1,(n=new Ve(e.el,{additionalClass:"fc-dragging",parentEl:r.el,opacity:d.isTouch?null:r.opt("dragOpacity"),revertDuration:r.opt("dragRevertDuration"),zIndex:2})).hide(),n.start(i)},dragStart:function(n){d.isTouch&&!r.isEventSelected(a)&&r.selectEvent(a),t=!0,s.handleSegMouseout(e,n),s.segDragStart(e,n),r.hideEvent(a)},hitOver:function(t,o,c){var u,h,p;e.hit&&(c=e.hit),u=c.component.getSafeHitSpan(c),h=t.component.getSafeHitSpan(t),!(!u||!h)&&(i=s.computeEventDrop(u,h,a))&&s.isEventLocationAllowed(i,a)||(i=null,l()),i&&(p=r.renderDrag(i,e))?(p.addClass("fc-dragging"),d.isTouch||s.applyDragOpacity(p),n.hide()):n.show(),o&&(i=null)},hitOut:function(){r.unrenderDrag(),n.show(),i=null},hitDone:function(){c()},interactionEnd:function(l){delete e.component,n.stop(!i,(function(){t&&(r.unrenderDrag(),s.segDragStop(e,l)),i?r.reportSegDrop(e,i,s.largeUnit,o,l):r.showEvent(a)})),s.segDragListener=null}});return d},buildSegSelectListener:function(e){var t=this,n=this.view,i=e.event;if(this.segDragListener)return this.segDragListener;var s=this.segDragListener=new He({dragStart:function(e){s.isTouch&&!n.isEventSelected(i)&&n.selectEvent(i)},interactionEnd:function(e){t.segDragListener=null}});return s},segDragStart:function(e,t){this.isDraggingSeg=!0,this.view.publiclyTrigger("eventDragStart",e.el[0],e.event,t,{})},segDragStop:function(e,t){this.isDraggingSeg=!1,this.view.publiclyTrigger("eventDragStop",e.el[0],e.event,t,{})},computeEventDrop:function(e,t,n){var i,s,r=this.view.calendar,o=e.start,a=t.start;return o.hasTime()===a.hasTime()?(i=this.diffDates(a,o),n.allDay&&G(i)?(s={start:n.start.clone(),end:r.getEventEnd(n),allDay:!1},r.normalizeEventTimes(s)):s=Be(n),s.start.add(i),s.end&&s.end.add(i)):s={start:a.clone(),end:null,allDay:!a.hasTime()},s},applyDragOpacity:function(e){var t=this.view.opt("dragOpacity");null!=t&&e.css("opacity",t)},externalDragStart:function(t,n){var i,s,r=this.view;r.opt("droppable")&&(i=e((n?n.item:null)||t.target),s=r.opt("dropAccept"),(e.isFunction(s)?s.call(i[0],i):i.is(s))&&(this.isDraggingExternal||this.listenToExternalDrag(i,t,n)))},listenToExternalDrag:function(i,s,r){var o,a=this,d=this.view,u=function(i){var s,r,o,a,l=n.dataAttrPrefix;return l&&(l+="-"),(s=i.data(l+"event")||null)&&(null==(r=(s="object"==typeof s?e.extend({},s):{}).start)&&(r=s.time),o=s.duration,a=s.stick,delete s.start,delete s.time,delete s.duration,delete s.stick),null==r&&(r=i.data(l+"start")),null==r&&(r=i.data(l+"time")),null==o&&(o=i.data(l+"duration")),null==a&&(a=i.data(l+"stick")),{eventProps:s,startTime:r=null!=r?t.duration(r):null,duration:o=null!=o?t.duration(o):null,stick:a=Boolean(a)}}(i),h=a.externalDragListener=new Me(this,{interactionStart:function(){a.isDraggingExternal=!0},hitOver:function(e){var t=e.component.getSafeHitSpan(e);!!t&&(o=a.computeExternalDrop(t,u))&&a.isExternalLocationAllowed(o,u.eventProps)||(o=null,l()),o&&a.renderDrag(o)},hitOut:function(){o=null},hitDone:function(){c(),a.unrenderDrag()},interactionEnd:function(e){o&&d.reportExternalDrop(u,o,i,e,r),a.isDraggingExternal=!1,a.externalDragListener=null}});h.startDrag(s)},computeExternalDrop:function(e,t){var n={start:this.view.calendar.applyTimezone(e.start),end:null};return t.startTime&&!n.start.hasTime()&&n.start.time(t.startTime),t.duration&&(n.end=n.start.clone().add(t.duration)),n},renderDrag:function(e,t){},unrenderDrag:function(){},buildSegResizeListener:function(e,t){var n,i,s=this,r=this.view,o=r.calendar,a=e.el,d=e.event,u=o.getEventEnd(d);return this.segResizeListener=new Me(this,{scroll:r.opt("dragScroll"),subjectEl:a,interactionStart:function(){n=!1},dragStart:function(t){n=!0,s.handleSegMouseout(e,t),s.segResizeStart(e,t)},hitOver:function(n,o,a){var c=s.getSafeHitSpan(a),h=s.getSafeHitSpan(n);c&&h&&(i=t?s.computeEventStartResize(c,h,d):s.computeEventEndResize(c,h,d))&&s.isEventLocationAllowed(i,d)?i.start.isSame(d.start.clone().stripZone())&&i.end.isSame(u.clone().stripZone())&&(i=null):(i=null,l()),i&&(r.hideEvent(d),s.renderEventResize(i,e))},hitOut:function(){i=null,r.showEvent(d)},hitDone:function(){s.unrenderEventResize(),c()},interactionEnd:function(t){n&&s.segResizeStop(e,t),i?r.reportSegResize(e,i,s.largeUnit,a,t):r.showEvent(d),s.segResizeListener=null}})},segResizeStart:function(e,t){this.isResizingSeg=!0,this.view.publiclyTrigger("eventResizeStart",e.el[0],e.event,t,{})},segResizeStop:function(e,t){this.isResizingSeg=!1,this.view.publiclyTrigger("eventResizeStop",e.el[0],e.event,t,{})},computeEventStartResize:function(e,t,n){return this.computeEventResize("start",e,t,n)},computeEventEndResize:function(e,t,n){return this.computeEventResize("end",e,t,n)},computeEventResize:function(e,t,n,i){var s,r,o=this.view.calendar,a=this.diffDates(n[e],t[e]);return(s={start:i.start.clone(),end:o.getEventEnd(i),allDay:i.allDay}).allDay&&G(a)&&(s.allDay=!1,o.normalizeEventTimes(s)),s[e].add(a),s.start.isBefore(s.end)||(r=this.minResizeDuration||(i.allDay?o.defaultAllDayEventDuration:o.defaultTimedEventDuration),"start"==e?s.start=s.end.clone().subtract(r):s.end=s.start.clone().add(r)),s},renderEventResize:function(e,t){},unrenderEventResize:function(){},getEventTimeText:function(e,t,n){return null==t&&(t=this.eventTimeFormat),null==n&&(n=this.displayEventEnd),this.displayEventTime&&e.start.hasTime()?n&&e.end?this.view.formatRange(e,t):e.start.format(t):""},getSegClasses:function(e,t,n){var i=this.view,s=["fc-event",e.isStart?"fc-start":"fc-not-start",e.isEnd?"fc-end":"fc-not-end"].concat(this.getSegCustomClasses(e));return t&&s.push("fc-draggable"),n&&s.push("fc-resizable"),i.isEventSelected(e.event)&&s.push("fc-selected"),s},getSegCustomClasses:function(e){var t=e.event;return[].concat(t.className,t.source?t.source.className:[])},getSegSkinCss:function(e){return{"background-color":this.getSegBackgroundColor(e),"border-color":this.getSegBorderColor(e),color:this.getSegTextColor(e)}},getSegBackgroundColor:function(e){return e.event.backgroundColor||e.event.color||this.getSegDefaultBackgroundColor(e)},getSegDefaultBackgroundColor:function(e){var t=e.event.source||{};return t.backgroundColor||t.color||this.view.opt("eventBackgroundColor")||this.view.opt("eventColor")},getSegBorderColor:function(e){return e.event.borderColor||e.event.color||this.getSegDefaultBorderColor(e)},getSegDefaultBorderColor:function(e){var t=e.event.source||{};return t.borderColor||t.color||this.view.opt("eventBorderColor")||this.view.opt("eventColor")},getSegTextColor:function(e){return e.event.textColor||this.getSegDefaultTextColor(e)},getSegDefaultTextColor:function(e){return(e.event.source||{}).textColor||this.view.opt("eventTextColor")},isEventLocationAllowed:function(e,t){if(this.isEventLocationInRange(e)){var n,i=this.view.calendar,s=this.eventToSpans(e);if(s.length){for(n=0;n<s.length;n++)if(!i.isEventSpanAllowed(s[n],t))return!1;return!0}}return!1},isExternalLocationAllowed:function(e,t){if(this.isEventLocationInRange(e)){var n,i=this.view.calendar,s=this.eventToSpans(e);if(s.length){for(n=0;n<s.length;n++)if(!i.isExternalSpanAllowed(s[n],e,t))return!1;return!0}}return!1},isEventLocationInRange:function(e){return $(this.eventToRawRange(e),this.view.validRange)},eventToSegs:function(e){return this.eventsToSegs([e])},eventToSpans:function(e){var t=this.eventToRange(e);return t?this.eventRangeToSpans(t,e):[]},eventsToSegs:function(t,n){var i=this,s=function(e){var t,n,i={};for(t=0;t<e.length;t++)(i[(n=e[t])._id]||(i[n._id]=[])).push(n);return i}(t),r=[];return e.each(s,(function(e,t){var s,o,a=[],l=[];for(o=0;o<t.length;o++)(s=i.eventToRange(t[o]))&&(l.push(s),a.push(t[o]));if("inverse-background"===We(t[0]))for(l=i.invertRanges(l),o=0;o<l.length;o++)r.push.apply(r,i.eventRangeToSegs(l[o],t[0],n));else for(o=0;o<l.length;o++)r.push.apply(r,i.eventRangeToSegs(l[o],a[o],n))})),r},eventToRange:function(e){return this.refineRawEventRange(this.eventToRawRange(e))},refineRawEventRange:function(e){var t=this.view,n=t.calendar,i=H(e,t.activeRange);if(i)return n.localizeMoment(i.start),n.localizeMoment(i.end),i},eventToRawRange:function(e){var t=this.view.calendar;return{start:e.start.clone().stripZone(),end:(e.end?e.end.clone():t.getDefaultEventEnd(null!=e.allDay?e.allDay:!e.start.hasTime(),e.start)).stripZone()}},eventRangeToSegs:function(e,t,n){var i,s=this.eventRangeToSpans(e,t),r=[];for(i=0;i<s.length;i++)r.push.apply(r,this.eventSpanToSegs(s[i],t,n));return r},eventRangeToSpans:function(t,n){return[e.extend({},t)]},eventSpanToSegs:function(e,t,n){var i,s,r=n?n(e):this.spanToSegs(e);for(i=0;i<r.length;i++)s=r[i],e.isStart||(s.isStart=!1),e.isEnd||(s.isEnd=!1),s.event=t,s.eventStartMS=+e.start,s.eventDurationMS=e.end-e.start;return r},invertRanges:function(e){var t,n,i=this.view,s=i.activeRange.start.clone(),r=i.activeRange.end.clone(),o=[],a=s;for(e.sort(Ue),t=0;t<e.length;t++)(n=e[t]).start>a&&o.push({start:a,end:n.start}),n.end>a&&(a=n.end);return a<r&&o.push({start:a,end:r}),o},sortEventSegs:function(e){e.sort(ae(this,"compareEventSegs"))},compareEventSegs:function(e,t){return e.eventStartMS-t.eventStartMS||t.eventDurationMS-e.eventDurationMS||t.event.allDay-e.event.allDay||j(e.event,t.event,this.view.eventOrderSpecs)}}),n.pluckEventDateProps=Be,n.isBgEvent=Pe,n.dataAttrPrefix="";var $e=n.DayTableMixin={breakOnWeeks:!1,dayDates:null,dayIndices:null,daysPerRow:null,rowCnt:null,colCnt:null,colHeadFormat:null,updateDayTable:function(){for(var e,t,n,i=this.view,s=this.start.clone(),r=-1,o=[],a=[];s.isBefore(this.end);)i.isHiddenDay(s)?o.push(r+.5):(r++,o.push(r),a.push(s.clone())),s.add(1,"days");if(this.breakOnWeeks){for(t=a[0].day(),e=1;e<a.length&&a[e].day()!=t;e++);n=Math.ceil(a.length/e)}else n=1,e=a.length;this.dayDates=a,this.dayIndices=o,this.daysPerRow=e,this.rowCnt=n,this.updateDayTableCols()},updateDayTableCols:function(){this.colCnt=this.computeColCnt(),this.colHeadFormat=this.view.opt("columnFormat")||this.computeColHeadFormat()},computeColCnt:function(){return this.daysPerRow},getCellDate:function(e,t){return this.dayDates[this.getCellDayIndex(e,t)].clone()},getCellRange:function(e,t){var n=this.getCellDate(e,t),i=n.clone().add(1,"days");return{start:n,end:i}},getCellDayIndex:function(e,t){return e*this.daysPerRow+this.getColDayIndex(t)},getColDayIndex:function(e){return this.isRTL?this.colCnt-1-e:e},getDateDayIndex:function(e){var t=this.dayIndices,n=e.diff(this.start,"days");return n<0?t[0]-1:n>=t.length?t[t.length-1]+1:t[n]},computeColHeadFormat:function(){return this.rowCnt>1||this.colCnt>10?"ddd":this.colCnt>1?this.view.opt("dayOfMonthFormat"):"dddd"},sliceRangeByRow:function(e){var t,n,i,s,r,o=this.daysPerRow,a=this.view.computeDayRange(e),l=this.getDateDayIndex(a.start),c=this.getDateDayIndex(a.end.clone().subtract(1,"days")),d=[];for(t=0;t<this.rowCnt;t++)i=(n=t*o)+o-1,s=Math.max(l,n),r=Math.min(c,i),(s=Math.ceil(s))<=(r=Math.floor(r))&&d.push({row:t,firstRowDayIndex:s-n,lastRowDayIndex:r-n,isStart:s===l,isEnd:r===c});return d},sliceRangeByDay:function(e){var t,n,i,s,r,o,a=this.daysPerRow,l=this.view.computeDayRange(e),c=this.getDateDayIndex(l.start),d=this.getDateDayIndex(l.end.clone().subtract(1,"days")),u=[];for(t=0;t<this.rowCnt;t++)for(i=(n=t*a)+a-1,s=n;s<=i;s++)r=Math.max(c,s),o=Math.min(d,s),(r=Math.ceil(r))<=(o=Math.floor(o))&&u.push({row:t,firstRowDayIndex:r-n,lastRowDayIndex:o-n,isStart:r===c,isEnd:o===d});return u},renderHeadHtml:function(){return'<div class="fc-row '+this.view.widgetHeaderClass+'"><table><thead>'+this.renderHeadTrHtml()+"</thead></table></div>"},renderHeadIntroHtml:function(){return this.renderIntroHtml()},renderHeadTrHtml:function(){return"<tr>"+(this.isRTL?"":this.renderHeadIntroHtml())+this.renderHeadDateCellsHtml()+(this.isRTL?this.renderHeadIntroHtml():"")+"</tr>"},renderHeadDateCellsHtml:function(){var e,t,n=[];for(e=0;e<this.colCnt;e++)t=this.getCellDate(0,e),n.push(this.renderHeadDateCellHtml(t));return n.join("")},renderHeadDateCellHtml:function(e,t,n){var i=this.view,s=U(e,i.activeRange),r=["fc-day-header",i.widgetHeaderClass],o=te(e.format(this.colHeadFormat));return 1===this.rowCnt?r=r.concat(this.getDayClasses(e,!0)):r.push("fc-"+M[e.day()]),'<th class="'+r.join(" ")+'"'+(1===(s&&this.rowCnt)?' data-date="'+e.format("YYYY-MM-DD")+'"':"")+(t>1?' colspan="'+t+'"':"")+(n?" "+n:"")+">"+(s?i.buildGotoAnchorHtml({date:e,forceOff:this.rowCnt>1||1===this.colCnt},o):o)+"</th>"},renderBgTrHtml:function(e){return"<tr>"+(this.isRTL?"":this.renderBgIntroHtml(e))+this.renderBgCellsHtml(e)+(this.isRTL?this.renderBgIntroHtml(e):"")+"</tr>"},renderBgIntroHtml:function(e){return this.renderIntroHtml()},renderBgCellsHtml:function(e){var t,n,i=[];for(t=0;t<this.colCnt;t++)n=this.getCellDate(e,t),i.push(this.renderBgCellHtml(n));return i.join("")},renderBgCellHtml:function(e,t){var n=this.view,i=U(e,n.activeRange),s=this.getDayClasses(e);return s.unshift("fc-day",n.widgetContentClass),'<td class="'+s.join(" ")+'"'+(i?' data-date="'+e.format("YYYY-MM-DD")+'"':"")+(t?" "+t:"")+"></td>"},renderIntroHtml:function(){},bookendCells:function(e){var t=this.renderIntroHtml();t&&(this.isRTL?e.append(t):e.prepend(t))}},Ge=n.DayGrid=Le.extend($e,{numbersVisible:!1,bottomCoordPadding:0,rowEls:null,cellEls:null,helperEls:null,rowCoordCache:null,colCoordCache:null,renderDates:function(e){var t,n,i=this.view,s=this.rowCnt,r=this.colCnt,o="";for(t=0;t<s;t++)o+=this.renderDayRowHtml(t,e);for(this.el.html(o),this.rowEls=this.el.find(".fc-row"),this.cellEls=this.el.find(".fc-day, .fc-disabled-day"),this.rowCoordCache=new Ie({els:this.rowEls,isVertical:!0}),this.colCoordCache=new Ie({els:this.cellEls.slice(0,this.colCnt),isHorizontal:!0}),t=0;t<s;t++)for(n=0;n<r;n++)i.publiclyTrigger("dayRender",null,this.getCellDate(t,n),this.getCellEl(t,n))},unrenderDates:function(){this.removeSegPopover()},renderBusinessHours:function(){var e=this.buildBusinessHourSegs(!0);this.renderFill("businessHours",e,"bgevent")},unrenderBusinessHours:function(){this.unrenderFill("businessHours")},renderDayRowHtml:function(e,t){var n=["fc-row","fc-week",this.view.widgetContentClass];return t&&n.push("fc-rigid"),'<div class="'+n.join(" ")+'"><div class="fc-bg"><table>'+this.renderBgTrHtml(e)+'</table></div><div class="fc-content-skeleton"><table>'+(this.numbersVisible?"<thead>"+this.renderNumberTrHtml(e)+"</thead>":"")+"</table></div></div>"},renderNumberTrHtml:function(e){return"<tr>"+(this.isRTL?"":this.renderNumberIntroHtml(e))+this.renderNumberCellsHtml(e)+(this.isRTL?this.renderNumberIntroHtml(e):"")+"</tr>"},renderNumberIntroHtml:function(e){return this.renderIntroHtml()},renderNumberCellsHtml:function(e){var t,n,i=[];for(t=0;t<this.colCnt;t++)n=this.getCellDate(e,t),i.push(this.renderNumberCellHtml(n));return i.join("")},renderNumberCellHtml:function(e){var t,n,i=this.view,s="",r=U(e,i.activeRange),o=i.dayNumbersVisible&&r;return o||i.cellWeekNumbersVisible?((t=this.getDayClasses(e)).unshift("fc-day-top"),i.cellWeekNumbersVisible&&(n="ISO"===e._locale._fullCalendar_weekCalc?1:e._locale.firstDayOfWeek()),s+='<td class="'+t.join(" ")+'"'+(r?' data-date="'+e.format()+'"':"")+">",i.cellWeekNumbersVisible&&e.day()==n&&(s+=i.buildGotoAnchorHtml({date:e,type:"week"},{class:"fc-week-number"},e.format("w"))),o&&(s+=i.buildGotoAnchorHtml(e,{class:"fc-day-number"},e.date())),s+="</td>"):"<td/>"},computeEventTimeFormat:function(){return this.view.opt("extraSmallTimeFormat")},computeDisplayEventEnd:function(){return 1==this.colCnt},rangeUpdated:function(){this.updateDayTable()},spanToSegs:function(e){var t,n,i=this.sliceRangeByRow(e);for(t=0;t<i.length;t++)n=i[t],this.isRTL?(n.leftCol=this.daysPerRow-1-n.lastRowDayIndex,n.rightCol=this.daysPerRow-1-n.firstRowDayIndex):(n.leftCol=n.firstRowDayIndex,n.rightCol=n.lastRowDayIndex);return i},prepareHits:function(){this.colCoordCache.build(),this.rowCoordCache.build(),this.rowCoordCache.bottoms[this.rowCnt-1]+=this.bottomCoordPadding},releaseHits:function(){this.colCoordCache.clear(),this.rowCoordCache.clear()},queryHit:function(e,t){if(this.colCoordCache.isLeftInBounds(e)&&this.rowCoordCache.isTopInBounds(t)){var n=this.colCoordCache.getHorizontalIndex(e),i=this.rowCoordCache.getVerticalIndex(t);if(null!=i&&null!=n)return this.getCellHit(i,n)}},getHitSpan:function(e){return this.getCellRange(e.row,e.col)},getHitEl:function(e){return this.getCellEl(e.row,e.col)},getCellHit:function(e,t){return{row:e,col:t,component:this,left:this.colCoordCache.getLeftOffset(t),right:this.colCoordCache.getRightOffset(t),top:this.rowCoordCache.getTopOffset(e),bottom:this.rowCoordCache.getBottomOffset(e)}},getCellEl:function(e,t){return this.cellEls.eq(e*this.colCnt+t)},renderDrag:function(e,t){var n,i=this.eventToSpans(e);for(n=0;n<i.length;n++)this.renderHighlight(i[n]);if(t&&t.component!==this)return this.renderEventLocationHelper(e,t)},unrenderDrag:function(){this.unrenderHighlight(),this.unrenderHelper()},renderEventResize:function(e,t){var n,i=this.eventToSpans(e);for(n=0;n<i.length;n++)this.renderHighlight(i[n]);return this.renderEventLocationHelper(e,t)},unrenderEventResize:function(){this.unrenderHighlight(),this.unrenderHelper()},renderHelper:function(t,n){var i,s=[],r=this.eventToSegs(t);return r=this.renderFgSegEls(r),i=this.renderSegRows(r),this.rowEls.each((function(t,r){var o,a=e(r),l=e('<div class="fc-helper-skeleton"><table/></div>');o=n&&n.row===t?n.el.position().top:a.find(".fc-content-skeleton tbody").position().top,l.css("top",o).find("table").append(i[t].tbodyEl),a.append(l),s.push(l[0])})),this.helperEls=e(s)},unrenderHelper:function(){this.helperEls&&(this.helperEls.remove(),this.helperEls=null)},fillSegTag:"td",renderFill:function(t,n,i){var s,r,o,a=[];for(n=this.renderFillSegEls(t,n),s=0;s<n.length;s++)r=n[s],o=this.renderFillRow(t,r,i),this.rowEls.eq(r.row).append(o),a.push(o[0]);return this.elsByFill[t]=e(a),n},renderFillRow:function(t,n,i){var s,r,o=this.colCnt,a=n.leftCol,l=n.rightCol+1;return i=i||t.toLowerCase(),r=(s=e('<div class="fc-'+i+'-skeleton"><table><tr/></table></div>')).find("tr"),a>0&&r.append('<td colspan="'+a+'"/>'),r.append(n.el.attr("colspan",l-a)),l<o&&r.append('<td colspan="'+(o-l)+'"/>'),this.bookendCells(r),s}});function Ye(e,t){var n,i;for(n=0;n<t.length;n++)if((i=t[n]).leftCol<=e.rightCol&&i.rightCol>=e.leftCol)return!0;return!1}function qe(e,t){return e.leftCol-t.leftCol}Ge.mixin({rowStructs:null,unrenderEvents:function(){this.removeSegPopover(),Le.prototype.unrenderEvents.apply(this,arguments)},getEventSegs:function(){return Le.prototype.getEventSegs.call(this).concat(this.popoverSegs||[])},renderBgSegs:function(t){var n=e.grep(t,(function(e){return e.event.allDay}));return Le.prototype.renderBgSegs.call(this,n)},renderFgSegs:function(t){var n;return t=this.renderFgSegEls(t),n=this.rowStructs=this.renderSegRows(t),this.rowEls.each((function(t,i){e(i).find(".fc-content-skeleton > table").append(n[t].tbodyEl)})),t},unrenderFgSegs:function(){for(var e,t=this.rowStructs||[];e=t.pop();)e.tbodyEl.remove();this.rowStructs=null},renderSegRows:function(e){var t,n,i=[];for(t=this.groupSegRows(e),n=0;n<t.length;n++)i.push(this.renderSegRow(n,t[n]));return i},fgSegHtml:function(e,t){var n,i,s=this.view,r=e.event,o=s.isEventDraggable(r),a=!t&&r.allDay&&e.isStart&&s.isEventResizableFromStart(r),l=!t&&r.allDay&&e.isEnd&&s.isEventResizableFromEnd(r),c=this.getSegClasses(e,o,a||l),d=ie(this.getSegSkinCss(e)),u="";return c.unshift("fc-day-grid-event","fc-h-event"),e.isStart&&(n=this.getEventTimeText(r))&&(u='<span class="fc-time">'+te(n)+"</span>"),i='<span class="fc-title">'+(te(r.title||"")||"&nbsp;")+"</span>",'<a class="'+c.join(" ")+'"'+(r.url?' href="'+te(r.url)+'"':"")+(d?' style="'+d+'"':"")+'><div class="fc-content">'+(this.isRTL?i+" "+u:u+" "+i)+"</div>"+(a?'<div class="fc-resizer fc-start-resizer" />':"")+(l?'<div class="fc-resizer fc-end-resizer" />':"")+"</a>"},renderSegRow:function(t,n){var i,s,r,o,a,l,c,d=this.colCnt,u=this.buildSegLevels(n),h=Math.max(1,u.length),p=e("<tbody/>"),f=[],g=[],m=[];function v(t){for(;r<t;)(c=(m[i-1]||[])[r])?c.attr("rowspan",parseInt(c.attr("rowspan")||1,10)+1):(c=e("<td/>"),o.append(c)),g[i][r]=c,m[i][r]=c,r++}for(i=0;i<h;i++){if(s=u[i],r=0,o=e("<tr/>"),f.push([]),g.push([]),m.push([]),s)for(a=0;a<s.length;a++){for(v((l=s[a]).leftCol),c=e('<td class="fc-event-container"/>').append(l.el),l.leftCol!=l.rightCol?c.attr("colspan",l.rightCol-l.leftCol+1):m[i][r]=c;r<=l.rightCol;)g[i][r]=c,f[i][r]=l,r++;o.append(c)}v(d),this.bookendCells(o),p.append(o)}return{row:t,tbodyEl:p,cellMatrix:g,segMatrix:f,segLevels:u,segs:n}},buildSegLevels:function(e){var t,n,i,s=[];for(this.sortEventSegs(e),t=0;t<e.length;t++){for(n=e[t],i=0;i<s.length&&Ye(n,s[i]);i++);n.level=i,(s[i]||(s[i]=[])).push(n)}for(i=0;i<s.length;i++)s[i].sort(qe);return s},groupSegRows:function(e){var t,n=[];for(t=0;t<this.rowCnt;t++)n.push([]);for(t=0;t<e.length;t++)n[e[t].row].push(e[t]);return n}}),Ge.mixin({segPopover:null,popoverSegs:null,removeSegPopover:function(){this.segPopover&&this.segPopover.hide()},limitRows:function(e){var t,n,i=this.rowStructs||[];for(t=0;t<i.length;t++)this.unlimitRow(t),!1!==(n=!!e&&("number"==typeof e?e:this.computeRowLevelLimit(t)))&&this.limitRow(t,n)},computeRowLevelLimit:function(t){var n,i,s,r=this.rowEls.eq(t).height(),o=this.rowStructs[t].tbodyEl.children();function a(t,n){s=Math.max(s,e(n).outerHeight())}for(n=0;n<o.length;n++)if(i=o.eq(n).removeClass("fc-limited"),s=0,i.find("> td > :first-child").each(a),i.position().top+s>r)return n;return!1},limitRow:function(t,n){var i,s,r,o,a,l,c,d,u,h,p,f,g,m,v,_=this,b=this.rowStructs[t],y=[],w=0;function E(i){for(;w<i;)(l=_.getCellSegs(t,w,n)).length&&(u=s[n-1][w],v=_.renderMoreLink(t,w,l),m=e("<div/>").append(v),u.append(m),y.push(m[0])),w++}if(n&&n<b.segLevels.length){for(i=b.segLevels[n-1],s=b.cellMatrix,r=b.tbodyEl.children().slice(n).addClass("fc-limited").get(),o=0;o<i.length;o++){for(E((a=i[o]).leftCol),d=[],c=0;w<=a.rightCol;)l=this.getCellSegs(t,w,n),d.push(l),c+=l.length,w++;if(c){for(h=(u=s[n-1][a.leftCol]).attr("rowspan")||1,p=[],f=0;f<d.length;f++)g=e('<td class="fc-more-cell"/>').attr("rowspan",h),l=d[f],v=this.renderMoreLink(t,a.leftCol+f,[a].concat(l)),m=e("<div/>").append(v),g.append(m),p.push(g[0]),y.push(g[0]);u.addClass("fc-limited").after(e(p)),r.push(u[0])}}E(this.colCnt),b.moreEls=e(y),b.limitedEls=e(r)}},unlimitRow:function(e){var t=this.rowStructs[e];t.moreEls&&(t.moreEls.remove(),t.moreEls=null),t.limitedEls&&(t.limitedEls.removeClass("fc-limited"),t.limitedEls=null)},renderMoreLink:function(t,n,i){var s=this,r=this.view;return e('<a class="fc-more"/>').text(this.getMoreLinkText(i.length)).on("click",(function(o){var a=r.opt("eventLimitClick"),l=s.getCellDate(t,n),c=e(this),d=s.getCellEl(t,n),u=s.getCellSegs(t,n),h=s.resliceDaySegs(u,l),p=s.resliceDaySegs(i,l);"function"==typeof a&&(a=r.publiclyTrigger("eventLimitClick",null,{date:l,dayEl:d,moreEl:c,segs:h,hiddenSegs:p},o)),"popover"===a?s.showSegPopover(t,n,c,h):"string"==typeof a&&r.calendar.zoomTo(l,a)}))},showSegPopover:function(e,t,n,i){var s,r,o=this,a=this.view,l=n.parent();s=1==this.rowCnt?a.el:this.rowEls.eq(e),r={className:"fc-more-popover",content:this.renderSegPopoverContent(e,t,i),parentEl:this.view.el,top:s.offset().top,autoHide:!0,viewportConstrain:a.opt("popoverViewportConstrain"),hide:function(){if(o.popoverSegs)for(var e,t=0;t<o.popoverSegs.length;++t)e=o.popoverSegs[t],a.publiclyTrigger("eventDestroy",e.event,e.event,e.el);o.segPopover.removeElement(),o.segPopover=null,o.popoverSegs=null}},this.isRTL?r.right=l.offset().left+l.outerWidth()+1:r.left=l.offset().left-1,this.segPopover=new Re(r),this.segPopover.show(),this.bindSegHandlersToEl(this.segPopover.el)},renderSegPopoverContent:function(t,n,i){var s,r=this.view,o=r.opt("theme"),a=this.getCellDate(t,n).format(r.opt("dayPopoverFormat")),l=e('<div class="fc-header '+r.widgetHeaderClass+'"><span class="fc-close '+(o?"ui-icon ui-icon-closethick":"fc-icon fc-icon-x")+'"></span><span class="fc-title">'+te(a)+'</span><div class="fc-clear"/></div><div class="fc-body '+r.widgetContentClass+'"><div class="fc-event-container"></div></div>'),c=l.find(".fc-event-container");for(i=this.renderFgSegEls(i,!0),this.popoverSegs=i,s=0;s<i.length;s++)this.hitsNeeded(),i[s].hit=this.getCellHit(t,n),this.hitsNotNeeded(),c.append(i[s].el);return l},resliceDaySegs:function(t,n){var i=e.map(t,(function(e){return e.event})),s=n.clone(),r=s.clone().add(1,"days"),o={start:s,end:r};return t=this.eventsToSegs(i,(function(e){var t=H(e,o);return t?[t]:[]})),this.sortEventSegs(t),t},getMoreLinkText:function(e){var t=this.view.opt("eventLimitText");return"function"==typeof t?t(e):"+"+e+" "+t},getCellSegs:function(e,t,n){for(var i,s=this.rowStructs[e].segMatrix,r=n||0,o=[];r<s.length;)(i=s[r][t])&&o.push(i),r++;return o}});var Ze=n.TimeGrid=Le.extend($e,{slotDuration:null,snapDuration:null,snapsPerSlot:null,labelFormat:null,labelInterval:null,colEls:null,slatContainerEl:null,slatEls:null,nowIndicatorEls:null,colCoordCache:null,slatCoordCache:null,constructor:function(){Le.apply(this,arguments),this.processOptions()},renderDates:function(){this.el.html(this.renderHtml()),this.colEls=this.el.find(".fc-day, .fc-disabled-day"),this.slatContainerEl=this.el.find(".fc-slats"),this.slatEls=this.slatContainerEl.find("tr"),this.colCoordCache=new Ie({els:this.colEls,isHorizontal:!0}),this.slatCoordCache=new Ie({els:this.slatEls,isVertical:!0}),this.renderContentSkeleton()},renderHtml:function(){return'<div class="fc-bg"><table>'+this.renderBgTrHtml(0)+'</table></div><div class="fc-slats"><table>'+this.renderSlatRowHtml()+"</table></div>"},renderSlatRowHtml:function(){for(var e,n,i,s=this.view,r=this.isRTL,o="",a=t.duration(+this.view.minTime);a<this.view.maxTime;)e=this.start.clone().time(a),n=oe(L(a,this.labelInterval)),i='<td class="fc-axis fc-time '+s.widgetContentClass+'" '+s.axisStyleAttr()+">"+(n?"<span>"+te(e.format(this.labelFormat))+"</span>":"")+"</td>",o+='<tr data-time="'+e.format("HH:mm:ss")+'"'+(n?"":' class="fc-minor"')+">"+(r?"":i)+'<td class="'+s.widgetContentClass+'"/>'+(r?i:"")+"</tr>",a.add(this.slotDuration);return o},processOptions:function(){var n,i=this.view,s=i.opt("slotDuration"),r=i.opt("snapDuration");s=t.duration(s),r=r?t.duration(r):s,this.slotDuration=s,this.snapDuration=r,this.snapsPerSlot=s/r,this.minResizeDuration=r,n=i.opt("slotLabelFormat"),e.isArray(n)&&(n=n[n.length-1]),this.labelFormat=n||i.opt("smallTimeFormat"),n=i.opt("slotLabelInterval"),this.labelInterval=n?t.duration(n):this.computeLabelInterval(s)},computeLabelInterval:function(e){var n,i,s;for(n=wt.length-1;n>=0;n--)if(oe(s=L(i=t.duration(wt[n]),e))&&s>1)return i;return t.duration(e)},computeEventTimeFormat:function(){return this.view.opt("noMeridiemTimeFormat")},computeDisplayEventEnd:function(){return!0},prepareHits:function(){this.colCoordCache.build(),this.slatCoordCache.build()},releaseHits:function(){this.colCoordCache.clear()},queryHit:function(e,t){var n=this.snapsPerSlot,i=this.colCoordCache,s=this.slatCoordCache;if(i.isLeftInBounds(e)&&s.isTopInBounds(t)){var r=i.getHorizontalIndex(e),o=s.getVerticalIndex(t);if(null!=r&&null!=o){var a=s.getTopOffset(o),l=s.getHeight(o),c=(t-a)/l,d=Math.floor(c*n),u=a+d/n*l,h=a+(d+1)/n*l;return{col:r,snap:o*n+d,component:this,left:i.getLeftOffset(r),right:i.getRightOffset(r),top:u,bottom:h}}}},getHitSpan:function(e){var t,n=this.getCellDate(0,e.col),i=this.computeSnapTime(e.snap);return n.time(i),t=n.clone().add(this.snapDuration),{start:n,end:t}},getHitEl:function(e){return this.colEls.eq(e.col)},rangeUpdated:function(){this.updateDayTable()},computeSnapTime:function(e){return t.duration(this.view.minTime+this.snapDuration*e)},spanToSegs:function(e){var t,n=this.sliceRangeByTimes(e);for(t=0;t<n.length;t++)this.isRTL?n[t].col=this.daysPerRow-1-n[t].dayIndex:n[t].col=n[t].dayIndex;return n},sliceRangeByTimes:function(e){var t,n,i,s=[];for(n=0;n<this.daysPerRow;n++)(t=H(e,{start:(i=this.dayDates[n].clone().time(0)).clone().add(this.view.minTime),end:i.clone().add(this.view.maxTime)}))&&(t.dayIndex=n,s.push(t));return s},updateSize:function(e){this.slatCoordCache.build(),e&&this.updateSegVerticals([].concat(this.fgSegs||[],this.bgSegs||[],this.businessSegs||[]))},getTotalSlatHeight:function(){return this.slatContainerEl.outerHeight()},computeDateTop:function(e,n){return this.computeTimeTop(t.duration(e-n.clone().stripTime()))},computeTimeTop:function(e){var t,n,i=this.slatEls.length,s=(e-this.view.minTime)/this.slotDuration;return s=Math.max(0,s),s=Math.min(i,s),t=Math.floor(s),n=s-(t=Math.min(t,i-1)),this.slatCoordCache.getTopPosition(t)+this.slatCoordCache.getHeight(t)*n},renderDrag:function(e,t){var n,i;if(t)return this.renderEventLocationHelper(e,t);for(n=this.eventToSpans(e),i=0;i<n.length;i++)this.renderHighlight(n[i])},unrenderDrag:function(){this.unrenderHelper(),this.unrenderHighlight()},renderEventResize:function(e,t){return this.renderEventLocationHelper(e,t)},unrenderEventResize:function(){this.unrenderHelper()},renderHelper:function(e,t){return this.renderHelperSegs(this.eventToSegs(e),t)},unrenderHelper:function(){this.unrenderHelperSegs()},renderBusinessHours:function(){this.renderBusinessSegs(this.buildBusinessHourSegs())},unrenderBusinessHours:function(){this.unrenderBusinessSegs()},getNowIndicatorUnit:function(){return"minute"},renderNowIndicator:function(t){var n,i=this.spanToSegs({start:t,end:t}),s=this.computeDateTop(t,t),r=[];for(n=0;n<i.length;n++)r.push(e('<div class="fc-now-indicator fc-now-indicator-line"></div>').css("top",s).appendTo(this.colContainerEls.eq(i[n].col))[0]);i.length>0&&r.push(e('<div class="fc-now-indicator fc-now-indicator-arrow"></div>').css("top",s).appendTo(this.el.find(".fc-content-skeleton"))[0]),this.nowIndicatorEls=e(r)},unrenderNowIndicator:function(){this.nowIndicatorEls&&(this.nowIndicatorEls.remove(),this.nowIndicatorEls=null)},renderSelection:function(e){this.view.opt("selectHelper")?this.renderEventLocationHelper(e):this.renderHighlight(e)},unrenderSelection:function(){this.unrenderHelper(),this.unrenderHighlight()},renderHighlight:function(e){this.renderHighlightSegs(this.spanToSegs(e))},unrenderHighlight:function(){this.unrenderHighlightSegs()}});function Je(e){var t,n,i=e.forwardSegs,s=0;if(void 0===e.forwardPressure){for(t=0;t<i.length;t++)Je(n=i[t]),s=Math.max(s,1+n.forwardPressure);e.forwardPressure=s}}function Ke(e,t,n){n=n||[];for(var i=0;i<t.length;i++)s=e,r=t[i],s.bottom>r.top&&s.top<r.bottom&&n.push(t[i]);var s,r;return n}Ze.mixin({colContainerEls:null,fgContainerEls:null,bgContainerEls:null,helperContainerEls:null,highlightContainerEls:null,businessContainerEls:null,fgSegs:null,bgSegs:null,helperSegs:null,highlightSegs:null,businessSegs:null,renderContentSkeleton:function(){var t,n,i="";for(t=0;t<this.colCnt;t++)i+='<td><div class="fc-content-col"><div class="fc-event-container fc-helper-container"></div><div class="fc-event-container"></div><div class="fc-highlight-container"></div><div class="fc-bgevent-container"></div><div class="fc-business-container"></div></div></td>';n=e('<div class="fc-content-skeleton"><table><tr>'+i+"</tr></table></div>"),this.colContainerEls=n.find(".fc-content-col"),this.helperContainerEls=n.find(".fc-helper-container"),this.fgContainerEls=n.find(".fc-event-container:not(.fc-helper-container)"),this.bgContainerEls=n.find(".fc-bgevent-container"),this.highlightContainerEls=n.find(".fc-highlight-container"),this.businessContainerEls=n.find(".fc-business-container"),this.bookendCells(n.find("tr")),this.el.append(n)},renderFgSegs:function(e){return e=this.renderFgSegsIntoContainers(e,this.fgContainerEls),this.fgSegs=e,e},unrenderFgSegs:function(){this.unrenderNamedSegs("fgSegs")},renderHelperSegs:function(t,n){var i,s,r,o=[];for(t=this.renderFgSegsIntoContainers(t,this.helperContainerEls),i=0;i<t.length;i++)s=t[i],n&&n.col===s.col&&(r=n.el,s.el.css({left:r.css("left"),right:r.css("right"),"margin-left":r.css("margin-left"),"margin-right":r.css("margin-right")})),o.push(s.el[0]);return this.helperSegs=t,e(o)},unrenderHelperSegs:function(){this.unrenderNamedSegs("helperSegs")},renderBgSegs:function(e){return e=this.renderFillSegEls("bgEvent",e),this.updateSegVerticals(e),this.attachSegsByCol(this.groupSegsByCol(e),this.bgContainerEls),this.bgSegs=e,e},unrenderBgSegs:function(){this.unrenderNamedSegs("bgSegs")},renderHighlightSegs:function(e){e=this.renderFillSegEls("highlight",e),this.updateSegVerticals(e),this.attachSegsByCol(this.groupSegsByCol(e),this.highlightContainerEls),this.highlightSegs=e},unrenderHighlightSegs:function(){this.unrenderNamedSegs("highlightSegs")},renderBusinessSegs:function(e){e=this.renderFillSegEls("businessHours",e),this.updateSegVerticals(e),this.attachSegsByCol(this.groupSegsByCol(e),this.businessContainerEls),this.businessSegs=e},unrenderBusinessSegs:function(){this.unrenderNamedSegs("businessSegs")},groupSegsByCol:function(e){var t,n=[];for(t=0;t<this.colCnt;t++)n.push([]);for(t=0;t<e.length;t++)n[e[t].col].push(e[t]);return n},attachSegsByCol:function(e,t){var n,i,s;for(n=0;n<this.colCnt;n++)for(i=e[n],s=0;s<i.length;s++)t.eq(n).append(i[s].el)},unrenderNamedSegs:function(e){var t,n=this[e];if(n){for(t=0;t<n.length;t++)n[t].el.remove();this[e]=null}},renderFgSegsIntoContainers:function(e,t){var n,i;for(e=this.renderFgSegEls(e),n=this.groupSegsByCol(e),i=0;i<this.colCnt;i++)this.updateFgSegCoords(n[i]);return this.attachSegsByCol(n,t),e},fgSegHtml:function(e,t){var n,i,s,r=this.view,o=e.event,a=r.isEventDraggable(o),l=!t&&e.isStart&&r.isEventResizableFromStart(o),c=!t&&e.isEnd&&r.isEventResizableFromEnd(o),d=this.getSegClasses(e,a,l||c),u=ie(this.getSegSkinCss(e));return d.unshift("fc-time-grid-event","fc-v-event"),r.isMultiDayEvent(o)?(e.isStart||e.isEnd)&&(n=this.getEventTimeText(e),i=this.getEventTimeText(e,"LT"),s=this.getEventTimeText(e,null,!1)):(n=this.getEventTimeText(o),i=this.getEventTimeText(o,"LT"),s=this.getEventTimeText(o,null,!1)),'<a class="'+d.join(" ")+'"'+(o.url?' href="'+te(o.url)+'"':"")+(u?' style="'+u+'"':"")+'><div class="fc-content">'+(n?'<div class="fc-time" data-start="'+te(s)+'" data-full="'+te(i)+'"><span>'+te(n)+"</span></div>":"")+(o.title?'<div class="fc-title">'+te(o.title)+"</div>":"")+'</div><div class="fc-bg"/>'+(c?'<div class="fc-resizer fc-end-resizer" />':"")+"</a>"},updateSegVerticals:function(e){this.computeSegVerticals(e),this.assignSegVerticals(e)},computeSegVerticals:function(e){var t,n,i;for(t=0;t<e.length;t++)n=e[t],i=this.dayDates[n.dayIndex],n.top=this.computeDateTop(n.start,i),n.bottom=this.computeDateTop(n.end,i)},assignSegVerticals:function(e){var t,n;for(t=0;t<e.length;t++)(n=e[t]).el.css(this.generateSegVerticalCss(n))},generateSegVerticalCss:function(e){return{top:e.top,bottom:-e.bottom}},updateFgSegCoords:function(e){this.computeSegVerticals(e),this.computeFgSegHorizontals(e),this.assignSegVerticals(e),this.assignFgSegHorizontals(e)},computeFgSegHorizontals:function(e){var t,n,i;if(this.sortEventSegs(e),function(e){var t,n,i,s,r;for(t=0;t<e.length;t++)for(n=e[t],i=0;i<n.length;i++)for((s=n[i]).forwardSegs=[],r=t+1;r<e.length;r++)Ke(s,e[r],s.forwardSegs)}(t=function(e){var t,n,i,s=[];for(t=0;t<e.length;t++){for(n=e[t],i=0;i<s.length&&Ke(n,s[i]).length;i++);n.level=i,(s[i]||(s[i]=[])).push(n)}return s}(e)),n=t[0]){for(i=0;i<n.length;i++)Je(n[i]);for(i=0;i<n.length;i++)this.computeFgSegForwardBack(n[i],0,0)}},computeFgSegForwardBack:function(e,t,n){var i,s=e.forwardSegs;if(void 0===e.forwardCoord)for(s.length?(this.sortForwardSegs(s),this.computeFgSegForwardBack(s[0],t+1,n),e.forwardCoord=s[0].backwardCoord):e.forwardCoord=1,e.backwardCoord=e.forwardCoord-(e.forwardCoord-n)/(t+1),i=0;i<s.length;i++)this.computeFgSegForwardBack(s[i],0,e.forwardCoord)},sortForwardSegs:function(e){e.sort(ae(this,"compareForwardSegs"))},compareForwardSegs:function(e,t){return t.forwardPressure-e.forwardPressure||(e.backwardCoord||0)-(t.backwardCoord||0)||this.compareEventSegs(e,t)},assignFgSegHorizontals:function(e){var t,n;for(t=0;t<e.length;t++)(n=e[t]).el.css(this.generateFgSegHorizontalCss(n)),n.bottom-n.top<30&&n.el.addClass("fc-short")},generateFgSegHorizontalCss:function(e){var t,n,i=this.view.opt("slotEventOverlap"),s=e.backwardCoord,r=e.forwardCoord,o=this.generateSegVerticalCss(e);return i&&(r=Math.min(1,s+2*(r-s))),this.isRTL?(t=1-r,n=s):(t=s,n=1-r),o.zIndex=e.level+1,o.left=100*t+"%",o.right=100*n+"%",i&&e.forwardPressure&&(o[this.isRTL?"marginLeft":"marginRight"]=20),o}});var Qe=n.View=we.extend({type:null,name:null,title:null,calendar:null,viewSpec:null,options:null,el:null,renderQueue:null,batchRenderDepth:0,isDatesRendered:!1,isEventsRendered:!1,isBaseRendered:!1,queuedScroll:null,isRTL:!1,isSelected:!1,selectedEvent:null,eventOrderSpecs:null,widgetHeaderClass:null,widgetContentClass:null,highlightStateClass:null,nextDayThreshold:null,isHiddenDayHash:null,isNowIndicatorRendered:null,initialNowDate:null,initialNowQueriedMs:null,nowIndicatorTimeoutID:null,nowIndicatorIntervalID:null,constructor:function(e,n){we.prototype.constructor.call(this),this.calendar=e,this.viewSpec=n,this.type=n.type,this.options=n.options,this.name=this.type,this.nextDayThreshold=t.duration(this.opt("nextDayThreshold")),this.initThemingProps(),this.initHiddenDays(),this.isRTL=this.opt("isRTL"),this.eventOrderSpecs=k(this.opt("eventOrder")),this.renderQueue=this.buildRenderQueue(),this.initAutoBatchRender(),this.initialize()},buildRenderQueue:function(){var e=this,t=new Te({event:this.opt("eventRenderWait")});return t.on("start",(function(){e.freezeHeight(),e.addScroll(e.queryScroll())})),t.on("stop",(function(){e.thawHeight(),e.popScroll()})),t},initAutoBatchRender:function(){var e=this;this.on("before:change",(function(){e.startBatchRender()})),this.on("change",(function(){e.stopBatchRender()}))},startBatchRender:function(){this.batchRenderDepth++||this.renderQueue.pause()},stopBatchRender:function(){--this.batchRenderDepth||this.renderQueue.resume()},initialize:function(){},opt:function(e){return this.options[e]},publiclyTrigger:function(e,t){var n=this.calendar;return n.publiclyTrigger.apply(n,[e,t||this].concat(Array.prototype.slice.call(arguments,2),[this]))},updateTitle:function(){this.title=this.computeTitle(),this.calendar.setToolbarsTitle(this.title)},computeTitle:function(){var e;return e=/^(year|month)$/.test(this.currentRangeUnit)?this.currentRange:this.activeRange,this.formatRange({start:this.calendar.applyTimezone(e.start),end:this.calendar.applyTimezone(e.end)},this.opt("titleFormat")||this.computeTitleFormat(),this.opt("titleRangeSeparator"))},computeTitleFormat:function(){return"year"==this.currentRangeUnit?"YYYY":"month"==this.currentRangeUnit?this.opt("monthYearFormat"):this.currentRangeAs("days")>1?"ll":"LL"},formatRange:function(e,t,n){var i=e.end;return i.hasTime()||(i=i.clone().subtract(1)),ve(e.start,i,t,n,this.opt("isRTL"))},getAllDayHtml:function(){return this.opt("allDayHtml")||te(this.opt("allDayText"))},buildGotoAnchorHtml:function(t,i,s){var r,o,a,l;return e.isPlainObject(t)?(r=t.date,o=t.type,a=t.forceOff):r=t,l={date:(r=n.moment(r)).format("YYYY-MM-DD"),type:o||"day"},"string"==typeof i&&(s=i,i=null),i=i?" "+function(t){var n=[];return e.each(t,(function(e,t){null!=t&&n.push(e+'="'+te(t)+'"')})),n.join(" ")}(i):"",s=s||"",!a&&this.opt("navLinks")?"<a"+i+' data-goto="'+te(JSON.stringify(l))+'">'+s+"</a>":"<span"+i+">"+s+"</span>"},setElement:function(e){this.el=e,this.bindGlobalHandlers(),this.bindBaseRenderHandlers(),this.renderSkeleton()},removeElement:function(){this.unsetDate(),this.unrenderSkeleton(),this.unbindGlobalHandlers(),this.unbindBaseRenderHandlers(),this.el.remove()},renderSkeleton:function(){},unrenderSkeleton:function(){},setDate:function(e){var t,n,i=this.get("dateProfile"),s=this.buildDateProfile(e,null,!0);return i&&(t=i.activeRange,n=s.activeRange,(t.start&&n.start&&t.start.isSame(n.start)||!t.start&&!n.start)&&(t.end&&n.end&&t.end.isSame(n.end)||!t.end&&!n.end))||this.set("dateProfile",s),s.date},unsetDate:function(){this.unset("dateProfile")},requestDateRender:function(e){var t=this;this.renderQueue.queue((function(){t.executeDateRender(e)}),"date","init")},requestDateUnrender:function(){var e=this;this.renderQueue.queue((function(){e.executeDateUnrender()}),"date","destroy")},fetchInitialEvents:function(e){return this.calendar.requestEvents(e.activeRange.start,e.activeRange.end)},bindEventChanges:function(){this.listenTo(this.calendar,"eventsReset",this.resetEvents)},unbindEventChanges:function(){this.stopListeningTo(this.calendar,"eventsReset")},setEvents:function(e){this.set("currentEvents",e),this.set("hasEvents",!0)},unsetEvents:function(){this.unset("currentEvents"),this.unset("hasEvents")},resetEvents:function(e){this.startBatchRender(),this.unsetEvents(),this.setEvents(e),this.stopBatchRender()},requestEventsRender:function(e){var t=this;this.renderQueue.queue((function(){t.executeEventsRender(e)}),"event","init")},requestEventsUnrender:function(){var e=this;this.renderQueue.queue((function(){e.executeEventsUnrender()}),"event","destroy")},executeDateRender:function(e,t){this.setDateProfileForRendering(e),this.updateTitle(),this.calendar.updateToolbarButtons(),this.render&&this.render(),this.renderDates(),this.updateSize(),this.renderBusinessHours(),this.startNowIndicator(),t||this.addScroll(this.computeInitialDateScroll()),this.isDatesRendered=!0,this.trigger("datesRendered")},executeDateUnrender:function(){this.unselect(),this.stopNowIndicator(),this.trigger("before:datesUnrendered"),this.unrenderBusinessHours(),this.unrenderDates(),this.destroy&&this.destroy(),this.isDatesRendered=!1},renderDates:function(){},unrenderDates:function(){},bindBaseRenderHandlers:function(){var e=this;this.on("datesRendered.baseHandler",(function(){e.onBaseRender()})),this.on("before:datesUnrendered.baseHandler",(function(){e.onBeforeBaseUnrender()}))},unbindBaseRenderHandlers:function(){this.off(".baseHandler")},onBaseRender:function(){this.applyScreenState(),this.publiclyTrigger("viewRender",this,this,this.el)},onBeforeBaseUnrender:function(){this.applyScreenState(),this.publiclyTrigger("viewDestroy",this,this,this.el)},bindGlobalHandlers:function(){this.listenTo(ze.get(),{touchstart:this.processUnselect,mousedown:this.handleDocumentMousedown})},unbindGlobalHandlers:function(){this.stopListeningTo(ze.get())},initThemingProps:function(){var e=this.opt("theme")?"ui":"fc";this.widgetHeaderClass=e+"-widget-header",this.widgetContentClass=e+"-widget-content",this.highlightStateClass=e+"-state-highlight"},renderBusinessHours:function(){},unrenderBusinessHours:function(){},startNowIndicator:function(){var e,n,i,s=this;this.opt("nowIndicator")&&(e=this.getNowIndicatorUnit())&&(n=ae(this,"updateNowIndicator"),this.initialNowDate=this.calendar.getNow(),this.initialNowQueriedMs=+new Date,this.renderNowIndicator(this.initialNowDate),this.isNowIndicatorRendered=!0,i=this.initialNowDate.clone().startOf(e).add(1,e)-this.initialNowDate,this.nowIndicatorTimeoutID=setTimeout((function(){s.nowIndicatorTimeoutID=null,n(),i=+t.duration(1,e),i=Math.max(100,i),s.nowIndicatorIntervalID=setInterval(n,i)}),i))},updateNowIndicator:function(){this.isNowIndicatorRendered&&(this.unrenderNowIndicator(),this.renderNowIndicator(this.initialNowDate.clone().add(new Date-this.initialNowQueriedMs)))},stopNowIndicator:function(){this.isNowIndicatorRendered&&(this.nowIndicatorTimeoutID&&(clearTimeout(this.nowIndicatorTimeoutID),this.nowIndicatorTimeoutID=null),this.nowIndicatorIntervalID&&(clearTimeout(this.nowIndicatorIntervalID),this.nowIndicatorIntervalID=null),this.unrenderNowIndicator(),this.isNowIndicatorRendered=!1)},getNowIndicatorUnit:function(){},renderNowIndicator:function(e){},unrenderNowIndicator:function(){},updateSize:function(e){var t;e&&(t=this.queryScroll()),this.updateHeight(e),this.updateWidth(e),this.updateNowIndicator(),e&&this.applyScroll(t)},updateWidth:function(e){},updateHeight:function(e){var t=this.calendar;this.setHeight(t.getSuggestedViewHeight(),t.isHeightAuto())},setHeight:function(e,t){},addForcedScroll:function(t){this.addScroll(e.extend(t,{isForced:!0}))},addScroll:function(t){var n=this.queuedScroll||(this.queuedScroll={});n.isForced||e.extend(n,t)},popScroll:function(){this.applyQueuedScroll(),this.queuedScroll=null},applyQueuedScroll:function(){this.queuedScroll&&this.applyScroll(this.queuedScroll)},queryScroll:function(){var t={};return this.isDatesRendered&&e.extend(t,this.queryDateScroll()),t},applyScroll:function(e){this.isDatesRendered&&this.applyDateScroll(e)},computeInitialDateScroll:function(){return{}},queryDateScroll:function(){return{}},applyDateScroll:function(e){},freezeHeight:function(){this.calendar.freezeContentHeight()},thawHeight:function(){this.calendar.thawContentHeight()},executeEventsRender:function(e){this.renderEvents(e),this.isEventsRendered=!0,this.onEventsRender()},executeEventsUnrender:function(){this.onBeforeEventsUnrender(),this.destroyEvents&&this.destroyEvents(),this.unrenderEvents(),this.isEventsRendered=!1},onEventsRender:function(){this.applyScreenState(),this.renderedEventSegEach((function(e){this.publiclyTrigger("eventAfterRender",e.event,e.event,e.el)})),this.publiclyTrigger("eventAfterAllRender")},onBeforeEventsUnrender:function(){this.applyScreenState(),this.renderedEventSegEach((function(e){this.publiclyTrigger("eventDestroy",e.event,e.event,e.el)}))},applyScreenState:function(){this.thawHeight(),this.freezeHeight(),this.applyQueuedScroll()},renderEvents:function(e){},unrenderEvents:function(){},resolveEventEl:function(t,n){var i=this.publiclyTrigger("eventRender",t,t,n);return!1===i?n=null:i&&!0!==i&&(n=e(i)),n},showEvent:function(e){this.renderedEventSegEach((function(e){e.el.css("visibility","")}),e)},hideEvent:function(e){this.renderedEventSegEach((function(e){e.el.css("visibility","hidden")}),e)},renderedEventSegEach:function(e,t){var n,i=this.getEventSegs();for(n=0;n<i.length;n++)t&&i[n].event._id!==t._id||i[n].el&&e.call(this,i[n])},getEventSegs:function(){return[]},isEventDraggable:function(e){return this.isEventStartEditable(e)},isEventStartEditable:function(e){return ee(e.startEditable,(e.source||{}).startEditable,this.opt("eventStartEditable"),this.isEventGenerallyEditable(e))},isEventGenerallyEditable:function(e){return ee(e.editable,(e.source||{}).editable,this.opt("editable"))},reportSegDrop:function(e,t,n,i,s){var r=this.calendar,o=r.mutateSeg(e,t,n);this.triggerEventDrop(e.event,o.dateDelta,(function(){o.undo(),r.reportEventChange()}),i,s),r.reportEventChange()},triggerEventDrop:function(e,t,n,i,s){this.publiclyTrigger("eventDrop",i[0],e,t,n,s,{})},reportExternalDrop:function(t,n,i,s,r){var o,a,l=t.eventProps;l&&(o=e.extend({},l,n),a=this.calendar.renderEvent(o,t.stick)[0]),this.triggerExternalDrop(a,n,i,s,r)},triggerExternalDrop:function(e,t,n,i,s){this.publiclyTrigger("drop",n[0],t.start,i,s),e&&this.publiclyTrigger("eventReceive",null,e)},renderDrag:function(e,t){},unrenderDrag:function(){},isEventResizableFromStart:function(e){return this.opt("eventResizableFromStart")&&this.isEventResizable(e)},isEventResizableFromEnd:function(e){return this.isEventResizable(e)},isEventResizable:function(e){var t=e.source||{};return ee(e.durationEditable,t.durationEditable,this.opt("eventDurationEditable"),e.editable,t.editable,this.opt("editable"))},reportSegResize:function(e,t,n,i,s){var r=this.calendar,o=r.mutateSeg(e,t,n);this.triggerEventResize(e.event,o.durationDelta,(function(){o.undo(),r.reportEventChange()}),i,s),r.reportEventChange()},triggerEventResize:function(e,t,n,i,s){this.publiclyTrigger("eventResize",i[0],e,t,n,s,{})},select:function(e,t){this.unselect(t),this.renderSelection(e),this.reportSelection(e,t)},renderSelection:function(e){},reportSelection:function(e,t){this.isSelected=!0,this.triggerSelect(e,t)},triggerSelect:function(e,t){this.publiclyTrigger("select",null,this.calendar.applyTimezone(e.start),this.calendar.applyTimezone(e.end),t)},unselect:function(e){this.isSelected&&(this.isSelected=!1,this.destroySelection&&this.destroySelection(),this.unrenderSelection(),this.publiclyTrigger("unselect",null,e))},unrenderSelection:function(){},selectEvent:function(e){this.selectedEvent&&this.selectedEvent===e||(this.unselectEvent(),this.renderedEventSegEach((function(e){e.el.addClass("fc-selected")}),e),this.selectedEvent=e)},unselectEvent:function(){this.selectedEvent&&(this.renderedEventSegEach((function(e){e.el.removeClass("fc-selected")}),this.selectedEvent),this.selectedEvent=null)},isEventSelected:function(e){return this.selectedEvent&&this.selectedEvent._id===e._id},handleDocumentMousedown:function(e){w(e)&&this.processUnselect(e)},processUnselect:function(e){this.processRangeUnselect(e),this.processEventUnselect(e)},processRangeUnselect:function(t){var n;this.isSelected&&this.opt("unselectAuto")&&((n=this.opt("unselectCancel"))&&e(t.target).closest(n).length||this.unselect(t))},processEventUnselect:function(t){this.selectedEvent&&(e(t.target).closest(".fc-selected").length||this.unselectEvent())},triggerDayClick:function(e,t,n){this.publiclyTrigger("dayClick",t,this.calendar.applyTimezone(e.start),n)},computeDayRange:function(e){var t,n=e.start.clone().stripTime(),i=e.end,s=null;return i&&(s=i.clone().stripTime(),(t=+i.time())&&t>=this.nextDayThreshold&&s.add(1,"days")),(!i||s<=n)&&(s=n.clone().add(1,"days")),{start:n,end:s}},isMultiDayEvent:function(e){var t=this.computeDayRange(e);return t.end.diff(t.start,"days")>1}});Qe.watch("displayingDates",["dateProfile"],(function(e){this.requestDateRender(e.dateProfile)}),(function(){this.requestDateUnrender()})),Qe.watch("initialEvents",["dateProfile"],(function(e){return this.fetchInitialEvents(e.dateProfile)})),Qe.watch("bindingEvents",["initialEvents"],(function(e){this.setEvents(e.initialEvents),this.bindEventChanges()}),(function(){this.unbindEventChanges(),this.unsetEvents()})),Qe.watch("displayingEvents",["displayingDates","hasEvents"],(function(){this.requestEventsRender(this.get("currentEvents"))}),(function(){this.requestEventsUnrender()})),Qe.mixin({currentRange:null,currentRangeUnit:null,renderRange:null,activeRange:null,validRange:null,dateIncrement:null,minTime:null,maxTime:null,usesMinMaxTime:!1,start:null,end:null,intervalStart:null,intervalEnd:null,setDateProfileForRendering:function(e){this.currentRange=e.currentRange,this.currentRangeUnit=e.currentRangeUnit,this.renderRange=e.renderRange,this.activeRange=e.activeRange,this.validRange=e.validRange,this.dateIncrement=e.dateIncrement,this.minTime=e.minTime,this.maxTime=e.maxTime,this.start=e.activeRange.start,this.end=e.activeRange.end,this.intervalStart=e.currentRange.start,this.intervalEnd=e.currentRange.end},buildPrevDateProfile:function(e){var t=e.clone().startOf(this.currentRangeUnit).subtract(this.dateIncrement);return this.buildDateProfile(t,-1)},buildNextDateProfile:function(e){var t=e.clone().startOf(this.currentRangeUnit).add(this.dateIncrement);return this.buildDateProfile(t,1)},buildDateProfile:function(e,n,i){var s,r,o,a,l,c,d,u,h=this.buildValidRange();return i&&(e=W(e,h)),s=this.buildCurrentRangeInfo(e,n),o=B(r=this.buildRenderRange(s.range,s.unit)),this.opt("showNonCurrentDates")||(o=P(o,s.range)),l=t.duration(this.opt("minTime")),c=t.duration(this.opt("maxTime")),this.adjustActiveRange(o,l,c),e=W(e,o=P(o,h)),d=s.range,a=(!(u=h).start||d.end>=u.start)&&(!u.end||d.start<u.end),{validRange:h,currentRange:s.range,currentRangeUnit:s.unit,activeRange:o,renderRange:r,minTime:l,maxTime:c,isValid:a,date:e,dateIncrement:this.buildDateIncrement(s.duration)}},buildValidRange:function(){return this.getRangeOption("validRange",this.calendar.getNow())||{}},buildCurrentRangeInfo:function(e,t){var n,i=null,s=null,r=null;return this.viewSpec.duration?(i=this.viewSpec.duration,s=this.viewSpec.durationUnit,r=this.buildRangeFromDuration(e,t,i,s)):(n=this.opt("dayCount"))?(s="day",r=this.buildRangeFromDayCount(e,t,n)):(r=this.buildCustomVisibleRange(e))?s=F(r.start,r.end):(s=F(i=this.getFallbackDuration()),r=this.buildRangeFromDuration(e,t,i,s)),this.normalizeCurrentRange(r,s),{duration:i,unit:s,range:r}},getFallbackDuration:function(){return t.duration({days:1})},normalizeCurrentRange:function(e,t){/^(year|month|week|day)$/.test(t)?(e.start.stripTime(),e.end.stripTime()):(e.start.hasTime()||e.start.time(0),e.end.hasTime()||e.end.time(0))},adjustActiveRange:function(e,t,n){var i=!1;this.usesMinMaxTime&&(t<0&&(e.start.time(0).add(t),i=!0),n>864e5&&(e.end.time(n-864e5),i=!0),i&&(e.start.hasTime()||e.start.time(0),e.end.hasTime()||e.end.time(0)))},buildRangeFromDuration:function(e,n,i,s){var r,o,a,l=this.opt("dateAlignment"),c=e.clone();return i.as("days")<=1&&this.isHiddenDay(c)&&(c=this.skipHiddenDays(c,n)).startOf("day"),l||(l=(o=this.opt("dateIncrement"))&&(a=t.duration(o))<i?z(a,o):s),c.startOf(l),r=c.clone().add(i),{start:c,end:r}},buildRangeFromDayCount:function(e,t,n){var i,s=this.opt("dateAlignment"),r=0,o=e.clone();s&&o.startOf(s),o.startOf("day"),i=(o=this.skipHiddenDays(o,t)).clone();do{i.add(1,"day"),this.isHiddenDay(i)||r++}while(r<n);return{start:o,end:i}},buildCustomVisibleRange:function(e){var t=this.getRangeOption("visibleRange",this.calendar.moment(e));return!t||t.start&&t.end?t:null},buildRenderRange:function(e,t){return this.trimHiddenDays(e)},buildDateIncrement:function(e){var n,i=this.opt("dateIncrement");return i?t.duration(i):(n=this.opt("dateAlignment"))?t.duration(1,n):e||t.duration({days:1})},trimHiddenDays:function(e){return{start:this.skipHiddenDays(e.start),end:this.skipHiddenDays(e.end,-1,!0)}},currentRangeAs:function(e){var t=this.currentRange;return t.end.diff(t.start,e,!0)},getRangeOption:function(e){var t=this.opt(e);if("function"==typeof t&&(t=t.apply(null,Array.prototype.slice.call(arguments,1))),t)return this.calendar.parseRange(t)},initHiddenDays:function(){var t,n=this.opt("hiddenDays")||[],i=[],s=0;for(!1===this.opt("weekends")&&n.push(0,6),t=0;t<7;t++)(i[t]=-1!==e.inArray(t,n))||s++;if(!s)throw"invalid hiddenDays";this.isHiddenDayHash=i},isHiddenDay:function(e){return t.isMoment(e)&&(e=e.day()),this.isHiddenDayHash[e]},skipHiddenDays:function(e,t,n){var i=e.clone();for(t=t||1;this.isHiddenDayHash[(i.day()+(n?t:0)+7)%7];)i.add(t,"days");return i}});var Xe=n.Scroller=be.extend({el:null,scrollEl:null,overflowX:null,overflowY:null,constructor:function(e){e=e||{},this.overflowX=e.overflowX||e.overflow||"auto",this.overflowY=e.overflowY||e.overflow||"auto"},render:function(){this.el=this.renderEl(),this.applyOverflow()},renderEl:function(){return this.scrollEl=e('<div class="fc-scroller"></div>')},clear:function(){this.setHeight("auto"),this.applyOverflow()},destroy:function(){this.el.remove()},applyOverflow:function(){this.scrollEl.css({"overflow-x":this.overflowX,"overflow-y":this.overflowY})},lockOverflow:function(e){var t=this.overflowX,n=this.overflowY;e=e||this.getScrollbarWidths(),"auto"===t&&(t=e.top||e.bottom||this.scrollEl[0].scrollWidth-1>this.scrollEl[0].clientWidth?"scroll":"hidden"),"auto"===n&&(n=e.left||e.right||this.scrollEl[0].scrollHeight-1>this.scrollEl[0].clientHeight?"scroll":"hidden"),this.scrollEl.css({"overflow-x":t,"overflow-y":n})},setHeight:function(e){this.scrollEl.height(e)},getScrollTop:function(){return this.scrollEl.scrollTop()},setScrollTop:function(e){this.scrollEl.scrollTop(e)},getClientWidth:function(){return this.scrollEl[0].clientWidth},getClientHeight:function(){return this.scrollEl[0].clientHeight},getScrollbarWidths:function(){return v(this.scrollEl)}});function et(e){this.items=e||[]}function tt(t,n){var i,s=this;s.setToolbarOptions=function(e){n=e},s.render=function(){var s=n.layout;r=t.opt("theme")?"ui":"fc",s?(i?i.empty():i=this.el=e("<div class='fc-toolbar "+n.extraClasses+"'/>"),i.append(l("left")).append(l("right")).append(l("center")).append('<div class="fc-clear"/>')):a()},s.removeElement=a,s.updateTitle=function(e){i&&i.find("h2").text(e)},s.activateButton=function(e){i&&i.find(".fc-"+e+"-button").addClass(r+"-state-active")},s.deactivateButton=function(e){i&&i.find(".fc-"+e+"-button").removeClass(r+"-state-active")},s.disableButton=function(e){i&&i.find(".fc-"+e+"-button").prop("disabled",!0).addClass(r+"-state-disabled")},s.enableButton=function(e){i&&i.find(".fc-"+e+"-button").prop("disabled",!1).removeClass(r+"-state-disabled")},s.getViewsWithButtons=function(){return o},s.el=null;var r,o=[];function a(){i&&(i.remove(),i=s.el=null)}function l(i){var s=e('<div class="fc-'+i+'"/>'),a=n.layout[i],l=t.opt("customButtons")||{},c=t.opt("buttonText")||{};return a&&e.each(a.split(" "),(function(n){var i,a=e(),d=!0;e.each(this.split(","),(function(n,i){var s,u,h,p,f,g,m,v,_;"title"==i?(a=a.add(e("<h2>&nbsp;</h2>")),d=!1):((s=l[i])?(h=function(e){s.click&&s.click.call(_[0],e)},p="",f=s.text):(u=t.getViewSpec(i))?(h=function(){t.changeView(i)},o.push(i),p=u.buttonTextOverride,f=u.buttonTextDefault):t[i]&&(h=function(){t[i]()},p=(t.overrides.buttonText||{})[i],f=c[i]),h&&(g=s?s.themeIcon:t.opt("themeButtonIcons")[i],m=s?s.icon:t.opt("buttonIcons")[i],v=p?te(p):g&&t.opt("theme")?"<span class='ui-icon ui-icon-"+g+"'></span>":m&&!t.opt("theme")?"<span class='fc-icon fc-icon-"+m+"'></span>":te(f),_=e('<button type="button" class="'+["fc-"+i+"-button",r+"-button",r+"-state-default"].join(" ")+'">'+v+"</button>").click((function(e){_.hasClass(r+"-state-disabled")||(h(e),(_.hasClass(r+"-state-active")||_.hasClass(r+"-state-disabled"))&&_.removeClass(r+"-state-hover"))})).mousedown((function(){_.not("."+r+"-state-active").not("."+r+"-state-disabled").addClass(r+"-state-down")})).mouseup((function(){_.removeClass(r+"-state-down")})).hover((function(){_.not("."+r+"-state-active").not("."+r+"-state-disabled").addClass(r+"-state-hover")}),(function(){_.removeClass(r+"-state-hover").removeClass(r+"-state-down")})),a=a.add(_)))})),d&&a.first().addClass(r+"-corner-left").end().last().addClass(r+"-corner-right").end(),a.length>1?(i=e("<div/>"),d&&i.addClass("fc-button-group"),i.append(a),s.append(i)):s.append(a)})),s}}et.prototype.proxyCall=function(e){var t=Array.prototype.slice.call(arguments,1),n=[];return this.items.forEach((function(i){n.push(i[e].apply(i,t))})),n};var nt=n.Calendar=be.extend(ke,{view:null,viewsByType:null,currentDate:null,loadingLevel:0,constructor:function(e,t){ze.needed(),this.el=e,this.viewsByType={},this.viewSpecCache={},this.initOptionsInternals(t),this.initMomentInternals(),this.initCurrentDate(),ut.call(this),this.initialize()},initialize:function(){},getCalendar:function(){return this},getView:function(){return this.view},publiclyTrigger:function(e,t){var n=Array.prototype.slice.call(arguments,2),i=this.opt(e);if(t=t||this.el[0],this.triggerWith(e,t,n),i)return i.apply(t,n)},instantiateView:function(e){var t=this.getViewSpec(e);return new t.class(this,t)},isValidViewType:function(e){return Boolean(this.getViewSpec(e))},changeView:function(e,t){t&&(t.start&&t.end?this.recordOptionOverrides({visibleRange:t}):this.currentDate=this.moment(t).stripZone()),this.renderView(e)},zoomTo:function(e,t){var n;t=t||"day",n=this.getViewSpec(t)||this.getUnitViewSpec(t),this.currentDate=e.clone(),this.renderView(n?n.type:null)},initCurrentDate:function(){var e=this.opt("defaultDate");this.currentDate=null!=e?this.moment(e).stripZone():this.getNow()},prev:function(){var e=this.view.buildPrevDateProfile(this.currentDate);e.isValid&&(this.currentDate=e.date,this.renderView())},next:function(){var e=this.view.buildNextDateProfile(this.currentDate);e.isValid&&(this.currentDate=e.date,this.renderView())},prevYear:function(){this.currentDate.add(-1,"years"),this.renderView()},nextYear:function(){this.currentDate.add(1,"years"),this.renderView()},today:function(){this.currentDate=this.getNow(),this.renderView()},gotoDate:function(e){this.currentDate=this.moment(e).stripZone(),this.renderView()},incrementDate:function(e){this.currentDate.add(t.duration(e)),this.renderView()},getDate:function(){return this.applyTimezone(this.currentDate)},pushLoading:function(){this.loadingLevel++||this.publiclyTrigger("loading",null,!0,this.view)},popLoading:function(){--this.loadingLevel||this.publiclyTrigger("loading",null,!1,this.view)},select:function(e,t){this.view.select(this.buildSelectSpan.apply(this,arguments))},unselect:function(){this.view&&this.view.unselect()},buildSelectSpan:function(e,t){var n,i=this.moment(e).stripZone();return n=t?this.moment(t).stripZone():i.hasTime()?i.clone().add(this.defaultTimedEventDuration):i.clone().add(this.defaultAllDayEventDuration),{start:i,end:n}},parseRange:function(e){var t=null,n=null;return e.start&&(t=this.moment(e.start).stripZone()),e.end&&(n=this.moment(e.end).stripZone()),t||n?t&&n&&n.isBefore(t)?null:{start:t,end:n}:null},rerenderEvents:function(){this.elementVisible()&&this.reportEventChange()}});nt.mixin({dirDefaults:null,localeDefaults:null,overrides:null,dynamicOverrides:null,optionsModel:null,initOptionsInternals:function(t){this.overrides=e.extend({},t),this.dynamicOverrides={},this.optionsModel=new we,this.populateOptionsHash()},option:function(e,t){var n;if("string"==typeof e){if(void 0===t)return this.optionsModel.get(e);(n={})[e]=t,this.setOptions(n)}else"object"==typeof e&&this.setOptions(e)},opt:function(e){return this.optionsModel.get(e)},setOptions:function(e){var t,n=0;for(t in this.recordOptionOverrides(e),e)n++;if(1===n){if("height"===t||"contentHeight"===t||"aspectRatio"===t)return void this.updateSize(!0);if("defaultDate"===t)return;if("businessHours"===t)return void(this.view&&(this.view.unrenderBusinessHours(),this.view.renderBusinessHours()));if("timezone"===t)return this.rezoneArrayEventSources(),void this.refetchEvents()}this.renderHeader(),this.renderFooter(),this.viewsByType={},this.reinitView()},populateOptionsHash:function(){var e,t,n,i;e=ee(this.dynamicOverrides.locale,this.overrides.locale),(t=it[e])||(e=nt.defaults.locale,t=it[e]||{}),n=ee(this.dynamicOverrides.isRTL,this.overrides.isRTL,t.isRTL,nt.defaults.isRTL)?nt.rtlDefaults:{},this.dirDefaults=n,this.localeDefaults=t,at(i=r([nt.defaults,n,t,this.overrides,this.dynamicOverrides])),this.optionsModel.reset(i)},recordOptionOverrides:function(e){var t;for(t in e)this.dynamicOverrides[t]=e[t];this.viewSpecCache={},this.populateOptionsHash()}}),nt.mixin({defaultAllDayEventDuration:null,defaultTimedEventDuration:null,localeData:null,initMomentInternals:function(){var e=this;this.defaultAllDayEventDuration=t.duration(this.opt("defaultAllDayEventDuration")),this.defaultTimedEventDuration=t.duration(this.opt("defaultTimedEventDuration")),this.optionsModel.watch("buildingMomentLocale",["?locale","?monthNames","?monthNamesShort","?dayNames","?dayNamesShort","?firstDay","?weekNumberCalculation"],(function(t){var n,i=t.weekNumberCalculation,s=t.firstDay;"iso"===i&&(i="ISO");var r=J(lt(t.locale));t.monthNames&&(r._months=t.monthNames),t.monthNamesShort&&(r._monthsShort=t.monthNamesShort),t.dayNames&&(r._weekdays=t.dayNames),t.dayNamesShort&&(r._weekdaysShort=t.dayNamesShort),null==s&&"ISO"===i&&(s=1),null!=s&&((n=J(r._week)).dow=s,r._week=n),"ISO"!==i&&"local"!==i&&"function"!=typeof i||(r._fullCalendar_weekCalc=i),e.localeData=r,e.currentDate&&e.localizeMoment(e.currentDate)}))},moment:function(){var e;return"local"===this.opt("timezone")?(e=n.moment.apply(null,arguments)).hasTime()&&e.local():e="UTC"===this.opt("timezone")?n.moment.utc.apply(null,arguments):n.moment.parseZone.apply(null,arguments),this.localizeMoment(e),e},localizeMoment:function(e){e._locale=this.localeData},getIsAmbigTimezone:function(){return"local"!==this.opt("timezone")&&"UTC"!==this.opt("timezone")},applyTimezone:function(e){if(!e.hasTime())return e.clone();var t,n=this.moment(e.toArray()),i=e.time()-n.time();return i&&(t=n.clone().add(i),e.time()-t.time()==0&&(n=t)),n},getNow:function(){var e=this.opt("now");return"function"==typeof e&&(e=e()),this.moment(e).stripZone()},humanizeDuration:function(e){return e.locale(this.opt("locale")).humanize()},getEventEnd:function(e){return e.end?e.end.clone():this.getDefaultEventEnd(e.allDay,e.start)},getDefaultEventEnd:function(e,t){var n=t.clone();return e?n.stripTime().add(this.defaultAllDayEventDuration):n.add(this.defaultTimedEventDuration),this.getIsAmbigTimezone()&&n.stripZone(),n}}),nt.mixin({viewSpecCache:null,getViewSpec:function(e){var t=this.viewSpecCache;return t[e]||(t[e]=this.buildViewSpec(e))},getUnitViewSpec:function(t){var i,s,r;if(-1!=e.inArray(t,O))for(i=this.header.getViewsWithButtons(),e.each(n.views,(function(e){i.push(e)})),s=0;s<i.length;s++)if((r=this.getViewSpec(i[s]))&&r.singleUnit==t)return r},buildViewSpec:function(e){for(var n,s,o,a,l,c=this.overrides.views||{},d=[],u=[],h=[],p=e;p;)n=i[p],s=c[p],p=null,"function"==typeof n&&(n={class:n}),n&&(d.unshift(n),u.unshift(n.defaults||{}),o=o||n.duration,p=p||n.type),s&&(h.unshift(s),o=o||s.duration,p=p||s.type);return(n=Z(d)).type=e,!!n.class&&((o=o||this.dynamicOverrides.duration||this.overrides.duration)&&(a=t.duration(o)).valueOf()&&(l=z(a,o),n.duration=a,n.durationUnit=l,1===a.as(l)&&(n.singleUnit=l,h.unshift(c[l]||{}))),n.defaults=r(u),n.overrides=r(h),this.buildViewSpecOptions(n),this.buildViewSpecButtonText(n,e),n)},buildViewSpecOptions:function(e){e.options=r([nt.defaults,e.defaults,this.dirDefaults,this.localeDefaults,this.overrides,e.overrides,this.dynamicOverrides]),at(e.options)},buildViewSpecButtonText:function(e,t){function n(n){var i=n.buttonText||{};return i[t]||(e.buttonTextKey?i[e.buttonTextKey]:null)||(e.singleUnit?i[e.singleUnit]:null)}e.buttonTextOverride=n(this.dynamicOverrides)||n(this.overrides)||e.overrides.buttonText,e.buttonTextDefault=n(this.localeDefaults)||n(this.dirDefaults)||e.defaults.buttonText||n(nt.defaults)||(e.duration?this.humanizeDuration(e.duration):null)||t}}),nt.mixin({el:null,contentEl:null,suggestedViewHeight:null,windowResizeProxy:null,ignoreWindowResize:0,render:function(){this.contentEl?this.elementVisible()&&(this.calcSize(),this.renderView()):this.initialRender()},initialRender:function(){var t=this,n=this.el;n.addClass("fc"),n.on("click.fc","a[data-goto]",(function(n){var i=e(this).data("goto"),s=t.moment(i.date),r=i.type,o=t.view.opt("navLink"+se(r)+"Click");"function"==typeof o?o(s,n):("string"==typeof o&&(r=o),t.zoomTo(s,r))})),this.optionsModel.watch("applyingThemeClasses",["?theme"],(function(e){n.toggleClass("ui-widget",e.theme),n.toggleClass("fc-unthemed",!e.theme)})),this.optionsModel.watch("applyingDirClasses",["?isRTL","?locale"],(function(e){n.toggleClass("fc-ltr",!e.isRTL),n.toggleClass("fc-rtl",e.isRTL)})),this.contentEl=e("<div class='fc-view-container'/>").prependTo(n),this.initToolbars(),this.renderHeader(),this.renderFooter(),this.renderView(this.opt("defaultView")),this.opt("handleWindowResize")&&e(window).resize(this.windowResizeProxy=le(this.windowResize.bind(this),this.opt("windowResizeDelay")))},destroy:function(){this.view&&this.view.removeElement(),this.toolbarsManager.proxyCall("removeElement"),this.contentEl.remove(),this.el.removeClass("fc fc-ltr fc-rtl fc-unthemed ui-widget"),this.el.off(".fc"),this.windowResizeProxy&&(e(window).unbind("resize",this.windowResizeProxy),this.windowResizeProxy=null),ze.unneeded()},elementVisible:function(){return this.el.is(":visible")},renderView:function(t,n){this.ignoreWindowResize++;var i=this.view&&t&&this.view.type!==t;i&&(this.freezeContentHeight(),this.clearView()),!this.view&&t&&(this.view=this.viewsByType[t]||(this.viewsByType[t]=this.instantiateView(t)),this.view.setElement(e("<div class='fc-view fc-"+t+"-view' />").appendTo(this.contentEl)),this.toolbarsManager.proxyCall("activateButton",t)),this.view&&(n&&this.view.addForcedScroll(n),this.elementVisible()&&(this.currentDate=this.view.setDate(this.currentDate))),i&&this.thawContentHeight(),this.ignoreWindowResize--},clearView:function(){this.toolbarsManager.proxyCall("deactivateButton",this.view.type),this.view.removeElement(),this.view=null},reinitView:function(){this.ignoreWindowResize++,this.freezeContentHeight();var e=this.view.type,t=this.view.queryScroll();this.clearView(),this.calcSize(),this.renderView(e,t),this.thawContentHeight(),this.ignoreWindowResize--},getSuggestedViewHeight:function(){return null===this.suggestedViewHeight&&this.calcSize(),this.suggestedViewHeight},isHeightAuto:function(){return"auto"===this.opt("contentHeight")||"auto"===this.opt("height")},updateSize:function(e){if(this.elementVisible())return e&&this._calcSize(),this.ignoreWindowResize++,this.view.updateSize(!0),this.ignoreWindowResize--,!0},calcSize:function(){this.elementVisible()&&this._calcSize()},_calcSize:function(){var e=this.opt("contentHeight"),t=this.opt("height");this.suggestedViewHeight="number"==typeof e?e:"function"==typeof e?e():"number"==typeof t?t-this.queryToolbarsHeight():"function"==typeof t?t()-this.queryToolbarsHeight():"parent"===t?this.el.parent().height()-this.queryToolbarsHeight():Math.round(this.contentEl.width()/Math.max(this.opt("aspectRatio"),.5))},windowResize:function(e){!this.ignoreWindowResize&&e.target===window&&this.view.renderRange&&this.updateSize(!0)&&this.view.publiclyTrigger("windowResize",this.el[0])},freezeContentHeight:function(){this.contentEl.css({width:"100%",height:this.contentEl.height(),overflow:"hidden"})},thawContentHeight:function(){this.contentEl.css({width:"",height:"",overflow:""})}}),nt.mixin({header:null,footer:null,toolbarsManager:null,initToolbars:function(){this.header=new tt(this,this.computeHeaderOptions()),this.footer=new tt(this,this.computeFooterOptions()),this.toolbarsManager=new et([this.header,this.footer])},computeHeaderOptions:function(){return{extraClasses:"fc-header-toolbar",layout:this.opt("header")}},computeFooterOptions:function(){return{extraClasses:"fc-footer-toolbar",layout:this.opt("footer")}},renderHeader:function(){var e=this.header;e.setToolbarOptions(this.computeHeaderOptions()),e.render(),e.el&&this.el.prepend(e.el)},renderFooter:function(){var e=this.footer;e.setToolbarOptions(this.computeFooterOptions()),e.render(),e.el&&this.el.append(e.el)},setToolbarsTitle:function(e){this.toolbarsManager.proxyCall("updateTitle",e)},updateToolbarButtons:function(){var e=this.getNow(),t=this.view,n=t.buildDateProfile(e),i=t.buildPrevDateProfile(this.currentDate),s=t.buildNextDateProfile(this.currentDate);this.toolbarsManager.proxyCall(n.isValid&&!U(e,t.currentRange)?"enableButton":"disableButton","today"),this.toolbarsManager.proxyCall(i.isValid?"enableButton":"disableButton","prev"),this.toolbarsManager.proxyCall(s.isValid?"enableButton":"disableButton","next")},queryToolbarsHeight:function(){return this.toolbarsManager.items.reduce((function(e,t){return e+(t.el?t.el.outerHeight(!0):0)}),0)}}),nt.defaults={titleRangeSeparator:" – ",monthYearFormat:"MMMM YYYY",defaultTimedEventDuration:"02:00:00",defaultAllDayEventDuration:{days:1},forceEventDuration:!1,nextDayThreshold:"09:00:00",defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberTitle:"W",weekNumberCalculation:"local",scrollTime:"06:00:00",minTime:"00:00:00",maxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timezoneParam:"timezone",timezone:!1,isRTL:!1,buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day"},buttonIcons:{prev:"left-single-arrow",next:"right-single-arrow",prevYear:"left-double-arrow",nextYear:"right-double-arrow"},allDayText:"all-day",theme:!1,themeButtonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e",prevYear:"seek-prev",nextYear:"seek-next"},dragOpacity:.75,dragRevertDuration:500,dragScroll:!0,unselectAuto:!0,dropAccept:"*",eventOrder:"title",eventLimit:!1,eventLimitText:"more",eventLimitClick:"popover",dayPopoverFormat:"LL",handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3},nt.englishDefaults={dayPopoverFormat:"dddd, MMMM D"},nt.rtlDefaults={header:{left:"next,prev today",center:"",right:"title"},buttonIcons:{prev:"right-single-arrow",next:"left-single-arrow",prevYear:"right-double-arrow",nextYear:"left-double-arrow"},themeButtonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w",nextYear:"seek-prev",prevYear:"seek-next"}};var it=n.locales={};n.datepickerLocale=function(t,n,i){var s=it[t]||(it[t]={});s.isRTL=i.isRTL,s.weekNumberTitle=i.weekHeader,e.each(st,(function(e,t){s[e]=t(i)})),e.datepicker&&(e.datepicker.regional[n]=e.datepicker.regional[t]=i,e.datepicker.regional.en=e.datepicker.regional[""],e.datepicker.setDefaults(i))},n.locale=function(t,n){var i,s;i=it[t]||(it[t]={}),n&&(i=it[t]=r([i,n])),s=lt(t),e.each(rt,(function(e,t){null==i[e]&&(i[e]=t(s,i))})),nt.defaults.locale=t};var st={buttonText:function(e){return{prev:ne(e.prevText),next:ne(e.nextText),today:ne(e.currentText)}},monthYearFormat:function(e){return e.showMonthAfterYear?"YYYY["+e.yearSuffix+"] MMMM":"MMMM YYYY["+e.yearSuffix+"]"}},rt={dayOfMonthFormat:function(e,t){var n=e.longDateFormat("l");return n=n.replace(/^Y+[^\w\s]*|[^\w\s]*Y+$/g,""),t.isRTL?n+=" ddd":n="ddd "+n,n},mediumTimeFormat:function(e){return e.longDateFormat("LT").replace(/\s*a$/i,"a")},smallTimeFormat:function(e){return e.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"a")},extraSmallTimeFormat:function(e){return e.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"t")},hourFormat:function(e){return e.longDateFormat("LT").replace(":mm","").replace(/(\Wmm)$/,"").replace(/\s*a$/i,"a")},noMeridiemTimeFormat:function(e){return e.longDateFormat("LT").replace(/\s*a$/i,"")}},ot={smallDayDateFormat:function(e){return e.isRTL?"D dd":"dd D"},weekFormat:function(e){return e.isRTL?"w[ "+e.weekNumberTitle+"]":"["+e.weekNumberTitle+" ]w"},smallWeekFormat:function(e){return e.isRTL?"w["+e.weekNumberTitle+"]":"["+e.weekNumberTitle+"]w"}};function at(t){e.each(ot,(function(e,n){null==t[e]&&(t[e]=n(t))}))}function lt(e){return t.localeData(e)||t.localeData("en")}n.locale("en",nt.englishDefaults),n.sourceNormalizers=[],n.sourceFetchers=[];var ct={dataType:"json",cache:!1},dt=1;function ut(){var i=this;i.requestEvents=function(e,t){return!i.opt("lazyFetching")||h(e,t)?p(e,t):Ee.resolve(o)},i.reportEventChange=u,i.isFetchNeeded=h,i.fetchEvents=p,i.fetchEventSources=g,i.refetchEvents=f,i.refetchEventSources=function(e){return g(E(e))},i.getEventSources=function(){return l.slice(1)},i.getEventSourceById=w,i.addEventSource=function(e){var t=b(e);t&&(l.push(t),g([t],"add"))},i.removeEventSource=function(e){y(C(e))},i.removeEventSources=function(e){null==e?y(l,!0):y(E(e))},i.updateEvent=function(e){T([e])},i.updateEvents=T,i.renderEvent=function(e,t){return j([e],t)},i.renderEvents=j,i.removeEvents=function(t){var n,i;for(null==t?t=function(){return!0}:e.isFunction(t)||(n=t+"",t=function(e){return e._id==n}),d=e.grep(d,t,!0),i=0;i<l.length;i++)e.isArray(l[i].events)&&(l[i].events=e.grep(l[i].events,t,!0));u()},i.clientEvents=R,i.mutateEvent=z,i.normalizeEventDates=M,i.normalizeEventTimes=O;var s,r,o,a={events:[]},l=[a],c=0,d=[];function u(){o=function(e){var t,n,o=[];for(t=0;t<e.length;t++)(n=e[t]).start.clone().stripZone()<r&&i.getEventEnd(n).stripZone()>s&&o.push(n);return o}(d),i.trigger("eventsReset",o)}function h(e,t){return!s||e<s||t>r}function p(e,t){return s=e,r=t,f()}function f(){return g(l,"reset")}function g(e,t){var n,s;for("reset"===t?d=[]:"add"!==t&&(d=S(d,e)),n=0;n<e.length;n++)"pending"!==(s=e[n])._status&&c++,s._fetchId=(s._fetchId||0)+1,s._status="pending";for(n=0;n<e.length;n++)m(s=e[n],s._fetchId);return c?Ee.construct((function(e){i.one("eventsReceived",e)})):Ee.resolve(o)}function m(t,n){_(t,(function(i){var s,r,o,a=e.isArray(t.events);if(n===t._fetchId&&"rejected"!==t._status){if(t._status="resolved",i)for(s=0;s<i.length;s++)r=i[s],(o=a?r:I(r,t))&&d.push.apply(d,F(o));v()}}))}function v(){--c||(u(),i.trigger("eventsReceived",o))}function _(t,o){var a,l,c=n.sourceFetchers;for(a=0;a<c.length;a++){if(!0===(l=c[a].call(i,t,s.clone(),r.clone(),i.opt("timezone"),o)))return;if("object"==typeof l)return void _(l,o)}var d=t.events;if(d)e.isFunction(d)?(i.pushLoading(),d.call(i,s.clone(),r.clone(),i.opt("timezone"),(function(e){o(e),i.popLoading()}))):e.isArray(d)?o(d):o();else if(t.url){var u,h=t.success,p=t.error,f=t.complete;u=e.isFunction(t.data)?t.data():t.data;var g=e.extend({},u||{}),m=ee(t.startParam,i.opt("startParam")),v=ee(t.endParam,i.opt("endParam")),b=ee(t.timezoneParam,i.opt("timezoneParam"));m&&(g[m]=s.format()),v&&(g[v]=r.format()),i.opt("timezone")&&"local"!=i.opt("timezone")&&(g[b]=i.opt("timezone")),i.pushLoading(),e.ajax(e.extend({},ct,t,{data:g,success:function(t){t=t||[];var n=X(h,this,arguments);e.isArray(n)&&(t=n),o(t)},error:function(){X(p,this,arguments),o()},complete:function(){X(f,this,arguments),i.popLoading()}}))}else o()}function b(t){var s,r,o=n.sourceNormalizers;if(e.isFunction(t)||e.isArray(t)?s={events:t}:"string"==typeof t?s={url:t}:"object"==typeof t&&(s=e.extend({},t)),s){for(s.className?"string"==typeof s.className&&(s.className=s.className.split(/\s+/)):s.className=[],e.isArray(s.events)&&(s.origArray=s.events,s.events=e.map(s.events,(function(e){return I(e,s)}))),r=0;r<o.length;r++)o[r].call(i,s);return s}}function y(t,n){var i,s,r;for(i=0;i<t.length;i++)s=t[i],r=void 0,r="pending"===s._status,s._status="rejected",r&&v();n?(l=[],d=[]):(l=e.grep(l,(function(e){for(i=0;i<t.length;i++)if(e===t[i])return!1;return!0})),d=S(d,t)),u()}function w(t){return e.grep(l,(function(e){return e.id&&e.id===t}))[0]}function E(t){t?e.isArray(t)||(t=[t]):t=[];var n,i=[];for(n=0;n<t.length;n++)i.push.apply(i,C(t[n]));return i}function C(t){var n,i;for(n=0;n<l.length;n++)if((i=l[n])===t)return[i];return(i=w(t))?[i]:e.grep(l,(function(e){return i=e,(n=t)&&i&&D(n)==D(i);var n,i}))}function D(e){return("object"==typeof e?e.origArray||e.googleCalendarId||e.url||e.events:null)||e}function S(t,n){return e.grep(t,(function(e){for(var t=0;t<n.length;t++)if(e.source===n[t])return!1;return!0}))}function T(e){var t,n;for(t=0;t<e.length;t++)(n=e[t]).start=i.moment(n.start),n.end?n.end=i.moment(n.end):n.end=null,z(n,x(n));u()}function x(t){var n={};return e.each(t,(function(t,i){k(t)&&void 0!==i&&function(t){return/undefined|null|boolean|number|string/.test(e.type(t))}(i)&&(n[t]=i)})),n}function k(e){return!/^_|^(id|allDay|start|end)$/.test(e)}function j(e,t){var n,i,s,r,o,l=[];for(s=0;s<e.length;s++)if(i=I(e[s])){for(n=F(i),r=0;r<n.length;r++)(o=n[r]).source||(t&&(a.events.push(o),o.source=a),d.push(o));l=l.concat(n)}return l.length&&u(),l}function R(t){return e.isFunction(t)?e.grep(d,t):null!=t?(t+="",e.grep(d,(function(e){return e._id==t}))):d}function I(n,s){var r,o,a,l=i.opt("eventDataTransform"),c={};if(l&&(n=l(n)),s&&s.eventDataTransform&&(n=s.eventDataTransform(n)),e.extend(c,n),s&&(c.source=s),c._id=n._id||(void 0===n.id?"_fc"+dt++:n.id+""),n.className?"string"==typeof n.className?c.className=n.className.split(/\s+/):c.className=n.className:c.className=[],r=n.start||n.date,o=n.end,Y(r)&&(r=t.duration(r)),Y(o)&&(o=t.duration(o)),n.dow||t.isDuration(r)||t.isDuration(o))c.start=r?t.duration(r):null,c.end=o?t.duration(o):null,c._recurring=!0;else{if(r&&!(r=i.moment(r)).isValid())return!1;o&&((o=i.moment(o)).isValid()||(o=null)),void 0===(a=n.allDay)&&(a=ee(s?s.allDayDefault:void 0,i.opt("allDayDefault"))),H(r,o,a,c)}return i.normalizeEvent(c),c}function H(e,t,n,i){i.start=e,i.end=t,i.allDay=n,M(i),ht(i)}function M(e){O(e),e.end&&!e.end.isAfter(e.start)&&(e.end=null),e.end||(i.opt("forceEventDuration")?e.end=i.getDefaultEventEnd(e.allDay,e.start):e.end=null)}function O(e){null==e.allDay&&(e.allDay=!(e.start.hasTime()||e.end&&e.end.hasTime())),e.allDay?(e.start.stripTime(),e.end&&e.end.stripTime()):(e.start.hasTime()||(e.start=i.applyTimezone(e.start.time(0))),e.end&&!e.end.hasTime()&&(e.end=i.applyTimezone(e.end.time(0))))}function F(t,n,i){var o,a,l,c,d,u,h,p,f,g=[];if(n=n||s,i=i||r,t)if(t._recurring){if(a=t.dow)for(o={},l=0;l<a.length;l++)o[a[l]]=!0;for(c=n.clone().stripTime();c.isBefore(i);)o&&!o[c.day()]||(d=t.start,u=t.end,h=c.clone(),p=null,d&&(h=h.time(d)),u&&(p=c.clone().time(u)),H(h,p,!d&&!u,f=e.extend({},t)),g.push(f)),c.add(1,"days")}else g.push(t);return g}function z(n,s,r){var o,a,l,c,d={};function u(e,n){return r?A(e,n,r):s.allDay?(i=e,o=n,t.duration({days:i.clone().stripTime().diff(o.clone().stripTime(),"days")})):N(e,n);var i,o}return(s=s||{}).start||(s.start=n.start.clone()),void 0===s.end&&(s.end=n.end?n.end.clone():null),null==s.allDay&&(s.allDay=n.allDay),M(s),M(o={start:n._start.clone(),end:n._end?n._end.clone():i.getDefaultEventEnd(n._allDay,n._start),allDay:s.allDay}),a=null!==n._end&&null===s.end,l=u(s.start,o.start),c=s.end?u(s.end,o.end).subtract(l):null,e.each(s,(function(e,t){k(e)&&void 0!==t&&(d[e]=t)})),{dateDelta:l,durationDelta:c,undo:V(R(n._id),a,s.allDay,l,c,d)}}function V(t,n,s,r,o,a){var l=i.getIsAmbigTimezone(),c=[];return r&&!r.valueOf()&&(r=null),o&&!o.valueOf()&&(o=null),e.each(t,(function(t,d){var u,h;u={start:d.start.clone(),end:d.end?d.end.clone():null,allDay:d.allDay},e.each(a,(function(e){u[e]=d[e]})),M(h={start:d._start,end:d._end,allDay:s}),n?h.end=null:o&&!h.end&&(h.end=i.getDefaultEventEnd(h.allDay,h.start)),r&&(h.start.add(r),h.end&&h.end.add(r)),o&&h.end.add(o),l&&!h.allDay&&(r||o)&&(h.start.stripZone(),h.end&&h.end.stripZone()),e.extend(d,a,h),ht(d),c.push((function(){e.extend(d,u),ht(d)}))})),function(){for(var e=0;e<c.length;e++)c[e]()}}e.each((i.opt("events")?[i.opt("events")]:[]).concat(i.opt("eventSources")||[]),(function(e,t){var n=b(t);n&&l.push(n)})),i.getEventCache=function(){return d},i.rezoneArrayEventSources=function(){var t,n,s,r;for(t=0;t<l.length;t++)if(n=l[t].events,e.isArray(n))for(s=0;s<n.length;s++)(r=n[s]).start=i.moment(r.start),r.end&&(r.end=i.moment(r.end)),ht(r)},i.buildEventFromInput=I,i.expandEvent=F}function ht(e){e._allDay=e.allDay,e._start=e.start.clone(),e._end=e.end?e.end.clone():null}nt.prototype.mutateSeg=function(e,t){return this.mutateEvent(e.event,t)},nt.prototype.normalizeEvent=function(e){},nt.prototype.spanContainsSpan=function(e,t){var n=e.start.clone().stripZone(),i=this.getEventEnd(e).stripZone();return t.start>=n&&t.end<=i},nt.prototype.getPeerEvents=function(e,t){var n,i,s=this.getEventCache(),r=[];for(n=0;n<s.length;n++)i=s[n],t&&t._id===i._id||r.push(i);return r},nt.prototype.isEventSpanAllowed=function(e,t){var n=t.source||{},i=this.opt("eventAllow"),s=ee(t.constraint,n.constraint,this.opt("eventConstraint")),r=ee(t.overlap,n.overlap,this.opt("eventOverlap"));return this.isSpanAllowed(e,s,r,t)&&(!i||!1!==i(e,t))},nt.prototype.isExternalSpanAllowed=function(t,n,i){var s,r;return i&&(s=e.extend({},i,n),r=this.expandEvent(this.buildEventFromInput(s))[0]),r?this.isEventSpanAllowed(t,r):this.isSelectionSpanAllowed(t)},nt.prototype.isSelectionSpanAllowed=function(e){var t=this.opt("selectAllow");return this.isSpanAllowed(e,this.opt("selectConstraint"),this.opt("selectOverlap"))&&(!t||!1!==t(e))},nt.prototype.isSpanAllowed=function(e,t,n,i){var s,r,o,a,l,c;if(null!=t&&(s=this.constraintToEvents(t))){for(r=!1,a=0;a<s.length;a++)if(this.spanContainsSpan(s[a],e)){r=!0;break}if(!r)return!1}for(o=this.getPeerEvents(e,i),a=0;a<o.length;a++)if(l=o[a],this.eventIntersectsRange(l,e)){if(!1===n)return!1;if("function"==typeof n&&!n(l,i))return!1;if(i){if(!1===(c=ee(l.overlap,(l.source||{}).overlap)))return!1;if("function"==typeof c&&!c(i,l))return!1}}return!0},nt.prototype.constraintToEvents=function(e){return"businessHours"===e?this.getCurrentBusinessHourEvents():"object"==typeof e?null!=e.start?this.expandEvent(this.buildEventFromInput(e)):null:this.clientEvents(e)},nt.prototype.eventIntersectsRange=function(e,t){var n=e.start.clone().stripZone(),i=this.getEventEnd(e).stripZone();return t.start<i&&t.end>n};var pt={id:"_fcBusinessHours",start:"09:00",end:"17:00",dow:[1,2,3,4,5],rendering:"inverse-background"};nt.prototype.getCurrentBusinessHourEvents=function(e){return this.computeBusinessHourEvents(e,this.opt("businessHours"))},nt.prototype.computeBusinessHourEvents=function(t,n){return!0===n?this.expandBusinessHourEvents(t,[{}]):e.isPlainObject(n)?this.expandBusinessHourEvents(t,[n]):e.isArray(n)?this.expandBusinessHourEvents(t,n,!0):[]},nt.prototype.expandBusinessHourEvents=function(t,n,i){var s,r,o=this.getView(),a=[];for(s=0;s<n.length;s++)r=n[s],i&&!r.dow||(r=e.extend({},pt,r),t&&(r.start=null,r.end=null),a.push.apply(a,this.expandEvent(this.buildEventFromInput(r),o.activeRange.start,o.activeRange.end)));return a};var ft=n.BasicView=Qe.extend({scroller:null,dayGridClass:Ge,dayGrid:null,dayNumbersVisible:!1,colWeekNumbersVisible:!1,cellWeekNumbersVisible:!1,weekNumberWidth:null,headContainerEl:null,headRowEl:null,initialize:function(){this.dayGrid=this.instantiateDayGrid(),this.scroller=new Xe({overflowX:"hidden",overflowY:"auto"})},instantiateDayGrid:function(){return new(this.dayGridClass.extend(gt))(this)},buildRenderRange:function(e,t){var n=Qe.prototype.buildRenderRange.apply(this,arguments);return/^(year|month)$/.test(t)&&(n.start.startOf("week"),n.end.weekday()&&n.end.add(1,"week").startOf("week")),this.trimHiddenDays(n)},renderDates:function(){this.dayGrid.breakOnWeeks=/year|month|week/.test(this.currentRangeUnit),this.dayGrid.setRange(this.renderRange),this.dayNumbersVisible=this.dayGrid.rowCnt>1,this.opt("weekNumbers")&&(this.opt("weekNumbersWithinDays")?(this.cellWeekNumbersVisible=!0,this.colWeekNumbersVisible=!1):(this.cellWeekNumbersVisible=!1,this.colWeekNumbersVisible=!0)),this.dayGrid.numbersVisible=this.dayNumbersVisible||this.cellWeekNumbersVisible||this.colWeekNumbersVisible,this.el.addClass("fc-basic-view").html(this.renderSkeletonHtml()),this.renderHead(),this.scroller.render();var t=this.scroller.el.addClass("fc-day-grid-container"),n=e('<div class="fc-day-grid" />').appendTo(t);this.el.find(".fc-body > tr > td").append(t),this.dayGrid.setElement(n),this.dayGrid.renderDates(this.hasRigidRows())},renderHead:function(){this.headContainerEl=this.el.find(".fc-head-container").html(this.dayGrid.renderHeadHtml()),this.headRowEl=this.headContainerEl.find(".fc-row")},unrenderDates:function(){this.dayGrid.unrenderDates(),this.dayGrid.removeElement(),this.scroller.destroy()},renderBusinessHours:function(){this.dayGrid.renderBusinessHours()},unrenderBusinessHours:function(){this.dayGrid.unrenderBusinessHours()},renderSkeletonHtml:function(){return'<table><thead class="fc-head"><tr><td class="fc-head-container '+this.widgetHeaderClass+'"></td></tr></thead><tbody class="fc-body"><tr><td class="'+this.widgetContentClass+'"></td></tr></tbody></table>'},weekNumberStyleAttr:function(){return null!==this.weekNumberWidth?'style="width:'+this.weekNumberWidth+'px"':""},hasRigidRows:function(){var e=this.opt("eventLimit");return e&&"number"!=typeof e},updateWidth:function(){this.colWeekNumbersVisible&&(this.weekNumberWidth=h(this.el.find(".fc-week-number")))},setHeight:function(e,t){var n,i,s=this.opt("eventLimit");this.scroller.clear(),a(this.headRowEl),this.dayGrid.removeSegPopover(),s&&"number"==typeof s&&this.dayGrid.limitRows(s),n=this.computeScrollerHeight(e),this.setGridHeight(n,t),s&&"number"!=typeof s&&this.dayGrid.limitRows(s),t||(this.scroller.setHeight(n),((i=this.scroller.getScrollbarWidths()).left||i.right)&&(o(this.headRowEl,i),n=this.computeScrollerHeight(e),this.scroller.setHeight(n)),this.scroller.lockOverflow(i))},computeScrollerHeight:function(e){return e-p(this.el,this.scroller.el)},setGridHeight:function(e,t){t?u(this.dayGrid.rowEls):d(this.dayGrid.rowEls,e,!0)},computeInitialDateScroll:function(){return{top:0}},queryDateScroll:function(){return{top:this.scroller.getScrollTop()}},applyDateScroll:function(e){void 0!==e.top&&this.scroller.setScrollTop(e.top)},hitsNeeded:function(){this.dayGrid.hitsNeeded()},hitsNotNeeded:function(){this.dayGrid.hitsNotNeeded()},prepareHits:function(){this.dayGrid.prepareHits()},releaseHits:function(){this.dayGrid.releaseHits()},queryHit:function(e,t){return this.dayGrid.queryHit(e,t)},getHitSpan:function(e){return this.dayGrid.getHitSpan(e)},getHitEl:function(e){return this.dayGrid.getHitEl(e)},renderEvents:function(e){this.dayGrid.renderEvents(e),this.updateHeight()},getEventSegs:function(){return this.dayGrid.getEventSegs()},unrenderEvents:function(){this.dayGrid.unrenderEvents()},renderDrag:function(e,t){return this.dayGrid.renderDrag(e,t)},unrenderDrag:function(){this.dayGrid.unrenderDrag()},renderSelection:function(e){this.dayGrid.renderSelection(e)},unrenderSelection:function(){this.dayGrid.unrenderSelection()}}),gt={renderHeadIntroHtml:function(){var e=this.view;return e.colWeekNumbersVisible?'<th class="fc-week-number '+e.widgetHeaderClass+'" '+e.weekNumberStyleAttr()+"><span>"+te(e.opt("weekNumberTitle"))+"</span></th>":""},renderNumberIntroHtml:function(e){var t=this.view,n=this.getCellDate(e,0);return t.colWeekNumbersVisible?'<td class="fc-week-number" '+t.weekNumberStyleAttr()+">"+t.buildGotoAnchorHtml({date:n,type:"week",forceOff:1===this.colCnt},n.format("w"))+"</td>":""},renderBgIntroHtml:function(){var e=this.view;return e.colWeekNumbersVisible?'<td class="fc-week-number '+e.widgetContentClass+'" '+e.weekNumberStyleAttr()+"></td>":""},renderIntroHtml:function(){var e=this.view;return e.colWeekNumbersVisible?'<td class="fc-week-number" '+e.weekNumberStyleAttr()+"></td>":""}},mt=n.MonthView=ft.extend({buildRenderRange:function(){var e,t=ft.prototype.buildRenderRange.apply(this,arguments);return this.isFixedWeeks()&&(e=Math.ceil(t.end.diff(t.start,"weeks",!0)),t.end.add(6-e,"weeks")),t},setGridHeight:function(e,t){t&&(e*=this.rowCnt/6),d(this.dayGrid.rowEls,e,!t)},isFixedWeeks:function(){return this.opt("fixedWeekCount")}});i.basic={class:ft},i.basicDay={type:"basic",duration:{days:1}},i.basicWeek={type:"basic",duration:{weeks:1}},i.month={class:mt,duration:{months:1},defaults:{fixedWeekCount:!0}};var vt=n.AgendaView=Qe.extend({scroller:null,timeGridClass:Ze,timeGrid:null,dayGridClass:Ge,dayGrid:null,axisWidth:null,headContainerEl:null,noScrollRowEls:null,bottomRuleEl:null,usesMinMaxTime:!0,initialize:function(){this.timeGrid=this.instantiateTimeGrid(),this.opt("allDaySlot")&&(this.dayGrid=this.instantiateDayGrid()),this.scroller=new Xe({overflowX:"hidden",overflowY:"auto"})},instantiateTimeGrid:function(){return new(this.timeGridClass.extend(_t))(this)},instantiateDayGrid:function(){return new(this.dayGridClass.extend(bt))(this)},renderDates:function(){this.timeGrid.setRange(this.renderRange),this.dayGrid&&this.dayGrid.setRange(this.renderRange),this.el.addClass("fc-agenda-view").html(this.renderSkeletonHtml()),this.renderHead(),this.scroller.render();var t=this.scroller.el.addClass("fc-time-grid-container"),n=e('<div class="fc-time-grid" />').appendTo(t);this.el.find(".fc-body > tr > td").append(t),this.timeGrid.setElement(n),this.timeGrid.renderDates(),this.bottomRuleEl=e('<hr class="fc-divider '+this.widgetHeaderClass+'"/>').appendTo(this.timeGrid.el),this.dayGrid&&(this.dayGrid.setElement(this.el.find(".fc-day-grid")),this.dayGrid.renderDates(),this.dayGrid.bottomCoordPadding=this.dayGrid.el.next("hr").outerHeight()),this.noScrollRowEls=this.el.find(".fc-row:not(.fc-scroller *)")},renderHead:function(){this.headContainerEl=this.el.find(".fc-head-container").html(this.timeGrid.renderHeadHtml())},unrenderDates:function(){this.timeGrid.unrenderDates(),this.timeGrid.removeElement(),this.dayGrid&&(this.dayGrid.unrenderDates(),this.dayGrid.removeElement()),this.scroller.destroy()},renderSkeletonHtml:function(){return'<table><thead class="fc-head"><tr><td class="fc-head-container '+this.widgetHeaderClass+'"></td></tr></thead><tbody class="fc-body"><tr><td class="'+this.widgetContentClass+'">'+(this.dayGrid?'<div class="fc-day-grid"/><hr class="fc-divider '+this.widgetHeaderClass+'"/>':"")+"</td></tr></tbody></table>"},axisStyleAttr:function(){return null!==this.axisWidth?'style="width:'+this.axisWidth+'px"':""},renderBusinessHours:function(){this.timeGrid.renderBusinessHours(),this.dayGrid&&this.dayGrid.renderBusinessHours()},unrenderBusinessHours:function(){this.timeGrid.unrenderBusinessHours(),this.dayGrid&&this.dayGrid.unrenderBusinessHours()},getNowIndicatorUnit:function(){return this.timeGrid.getNowIndicatorUnit()},renderNowIndicator:function(e){this.timeGrid.renderNowIndicator(e)},unrenderNowIndicator:function(){this.timeGrid.unrenderNowIndicator()},updateSize:function(e){this.timeGrid.updateSize(e),Qe.prototype.updateSize.call(this,e)},updateWidth:function(){this.axisWidth=h(this.el.find(".fc-axis"))},setHeight:function(e,t){var n,i,s;this.bottomRuleEl.hide(),this.scroller.clear(),a(this.noScrollRowEls),this.dayGrid&&(this.dayGrid.removeSegPopover(),(n=this.opt("eventLimit"))&&"number"!=typeof n&&(n=yt),n&&this.dayGrid.limitRows(n)),t||(i=this.computeScrollerHeight(e),this.scroller.setHeight(i),((s=this.scroller.getScrollbarWidths()).left||s.right)&&(o(this.noScrollRowEls,s),i=this.computeScrollerHeight(e),this.scroller.setHeight(i)),this.scroller.lockOverflow(s),this.timeGrid.getTotalSlatHeight()<i&&this.bottomRuleEl.show())},computeScrollerHeight:function(e){return e-p(this.el,this.scroller.el)},computeInitialDateScroll:function(){var e=t.duration(this.opt("scrollTime")),n=this.timeGrid.computeTimeTop(e);return(n=Math.ceil(n))&&n++,{top:n}},queryDateScroll:function(){return{top:this.scroller.getScrollTop()}},applyDateScroll:function(e){void 0!==e.top&&this.scroller.setScrollTop(e.top)},hitsNeeded:function(){this.timeGrid.hitsNeeded(),this.dayGrid&&this.dayGrid.hitsNeeded()},hitsNotNeeded:function(){this.timeGrid.hitsNotNeeded(),this.dayGrid&&this.dayGrid.hitsNotNeeded()},prepareHits:function(){this.timeGrid.prepareHits(),this.dayGrid&&this.dayGrid.prepareHits()},releaseHits:function(){this.timeGrid.releaseHits(),this.dayGrid&&this.dayGrid.releaseHits()},queryHit:function(e,t){var n=this.timeGrid.queryHit(e,t);return!n&&this.dayGrid&&(n=this.dayGrid.queryHit(e,t)),n},getHitSpan:function(e){return e.component.getHitSpan(e)},getHitEl:function(e){return e.component.getHitEl(e)},renderEvents:function(e){var t,n=[],i=[];for(t=0;t<e.length;t++)e[t].allDay?n.push(e[t]):i.push(e[t]);this.timeGrid.renderEvents(i),this.dayGrid&&this.dayGrid.renderEvents(n),this.updateHeight()},getEventSegs:function(){return this.timeGrid.getEventSegs().concat(this.dayGrid?this.dayGrid.getEventSegs():[])},unrenderEvents:function(){this.timeGrid.unrenderEvents(),this.dayGrid&&this.dayGrid.unrenderEvents()},renderDrag:function(e,t){return e.start.hasTime()?this.timeGrid.renderDrag(e,t):this.dayGrid?this.dayGrid.renderDrag(e,t):void 0},unrenderDrag:function(){this.timeGrid.unrenderDrag(),this.dayGrid&&this.dayGrid.unrenderDrag()},renderSelection:function(e){e.start.hasTime()||e.end.hasTime()?this.timeGrid.renderSelection(e):this.dayGrid&&this.dayGrid.renderSelection(e)},unrenderSelection:function(){this.timeGrid.unrenderSelection(),this.dayGrid&&this.dayGrid.unrenderSelection()}}),_t={renderHeadIntroHtml:function(){var e,t=this.view;return t.opt("weekNumbers")?(e=this.start.format(t.opt("smallWeekFormat")),'<th class="fc-axis fc-week-number '+t.widgetHeaderClass+'" '+t.axisStyleAttr()+">"+t.buildGotoAnchorHtml({date:this.start,type:"week",forceOff:this.colCnt>1},te(e))+"</th>"):'<th class="fc-axis '+t.widgetHeaderClass+'" '+t.axisStyleAttr()+"></th>"},renderBgIntroHtml:function(){var e=this.view;return'<td class="fc-axis '+e.widgetContentClass+'" '+e.axisStyleAttr()+"></td>"},renderIntroHtml:function(){return'<td class="fc-axis" '+this.view.axisStyleAttr()+"></td>"}},bt={renderBgIntroHtml:function(){var e=this.view;return'<td class="fc-axis '+e.widgetContentClass+'" '+e.axisStyleAttr()+"><span>"+e.getAllDayHtml()+"</span></td>"},renderIntroHtml:function(){return'<td class="fc-axis" '+this.view.axisStyleAttr()+"></td>"}},yt=5,wt=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];i.agenda={class:vt,defaults:{allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0}},i.agendaDay={type:"agenda",duration:{days:1}},i.agendaWeek={type:"agenda",duration:{weeks:1}};var Et=Qe.extend({grid:null,scroller:null,initialize:function(){this.grid=new Ct(this),this.scroller=new Xe({overflowX:"hidden",overflowY:"auto"})},renderSkeleton:function(){this.el.addClass("fc-list-view "+this.widgetContentClass),this.scroller.render(),this.scroller.el.appendTo(this.el),this.grid.setElement(this.scroller.scrollEl)},unrenderSkeleton:function(){this.scroller.destroy()},setHeight:function(e,t){this.scroller.setHeight(this.computeScrollerHeight(e))},computeScrollerHeight:function(e){return e-p(this.el,this.scroller.el)},renderDates:function(){this.grid.setRange(this.renderRange)},renderEvents:function(e){this.grid.renderEvents(e)},unrenderEvents:function(){this.grid.unrenderEvents()},isEventResizable:function(e){return!1},isEventDraggable:function(e){return!1}}),Ct=Le.extend({segSelector:".fc-list-item",hasDayInteractions:!1,spanToSegs:function(e){for(var t,n=this.view,i=n.renderRange.start.clone().time(0),s=0,r=[];i<n.renderRange.end;)if((t=H(e,{start:i,end:i.clone().add(1,"day")}))&&(t.dayIndex=s,r.push(t)),i.add(1,"day"),s++,t&&!t.isEnd&&e.end.hasTime()&&e.end<i.clone().add(this.view.nextDayThreshold)){t.end=e.end.clone(),t.isEnd=!0;break}return r},computeEventTimeFormat:function(){return this.view.opt("mediumTimeFormat")},handleSegClick:function(t,n){var i;Le.prototype.handleSegClick.apply(this,arguments),e(n.target).closest("a[href]").length||(i=t.event.url)&&!n.isDefaultPrevented()&&(window.location.href=i)},renderFgSegs:function(e){return(e=this.renderFgSegEls(e)).length?this.renderSegList(e):this.renderEmptyMessage(),e},renderEmptyMessage:function(){this.el.html('<div class="fc-list-empty-wrap2"><div class="fc-list-empty-wrap1"><div class="fc-list-empty">'+te(this.view.opt("noEventsMessage"))+"</div></div></div>")},renderSegList:function(t){var n,i,s,r=this.groupSegsByDay(t),o=e('<table class="fc-list-table"><tbody/></table>'),a=o.find("tbody");for(n=0;n<r.length;n++)if(i=r[n])for(a.append(this.dayHeaderHtml(this.view.renderRange.start.clone().add(n,"days"))),this.sortEventSegs(i),s=0;s<i.length;s++)a.append(i[s].el);this.el.empty().append(o)},groupSegsByDay:function(e){var t,n,i=[];for(t=0;t<e.length;t++)(i[(n=e[t]).dayIndex]||(i[n.dayIndex]=[])).push(n);return i},dayHeaderHtml:function(e){var t=this.view,n=t.opt("listDayFormat"),i=t.opt("listDayAltFormat");return'<tr class="fc-list-heading" data-date="'+e.format("YYYY-MM-DD")+'"><td class="'+t.widgetHeaderClass+'" colspan="3">'+(n?t.buildGotoAnchorHtml(e,{class:"fc-list-heading-main"},te(e.format(n))):"")+(i?t.buildGotoAnchorHtml(e,{class:"fc-list-heading-alt"},te(e.format(i))):"")+"</td></tr>"},fgSegHtml:function(e){var t,n=this.view,i=["fc-list-item"].concat(this.getSegCustomClasses(e)),s=this.getSegBackgroundColor(e),r=e.event,o=r.url;return t=r.allDay?n.getAllDayHtml():n.isMultiDayEvent(r)?e.isStart||e.isEnd?te(this.getEventTimeText(e)):n.getAllDayHtml():te(this.getEventTimeText(r)),o&&i.push("fc-has-url"),'<tr class="'+i.join(" ")+'">'+(this.displayEventTime?'<td class="fc-list-item-time '+n.widgetContentClass+'">'+(t||"")+"</td>":"")+'<td class="fc-list-item-marker '+n.widgetContentClass+'"><span class="fc-event-dot"'+(s?' style="background-color:'+s+'"':"")+'></span></td><td class="fc-list-item-title '+n.widgetContentClass+'"><a'+(o?' href="'+te(o)+'"':"")+">"+te(e.event.title||"")+"</a></td></tr>"}});return i.list={class:Et,buttonTextKey:"list",defaults:{buttonText:"list",listDayFormat:"LL",noEventsMessage:"No events to display"}},i.listDay={type:"list",duration:{days:1},defaults:{listDayFormat:"dddd"}},i.listWeek={type:"list",duration:{weeks:1},defaults:{listDayFormat:"dddd",listDayAltFormat:"LL"}},i.listMonth={type:"list",duration:{month:1},defaults:{listDayAltFormat:"dddd"}},i.listYear={type:"list",duration:{year:1},defaults:{listDayAltFormat:"dddd"}},n})?i.apply(t,s):i)||(e.exports=r)},"./bundles/orocalendar/js/app/components/calendar-component.js":(e,t,n)=>{var i;void 0===(i=function(e){"use strict";const t=n("./bundles/oroui/js/extend/underscore.js"),i=n("./bundles/oroui/js/app/components/base/component.js"),s=n("./bundles/orocalendar/js/calendar-view.js"),r=n("./bundles/orocalendar/js/calendar/event/collection.js"),o=n("./bundles/orocalendar/js/calendar/connection/collection.js");return i.extend({calendar:null,eventCollection:null,connectionCollection:null,constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){this.options=e,this.options.el||(this.options.el=this.options._sourceElement),this.eventCollection=new r(JSON.parse(this.options.eventsItemsJson)),this.connectionCollection=new o(JSON.parse(this.options.connectionsItemsJson)),delete this.options.eventsItemsJson,delete this.options.connectionsItemsJson,this.prepareOptions(),this.renderCalendar()},prepareOptions:function(){const e=this.options;e.collection=this.eventCollection,e.scrollToCurrentTime=!0,e.connectionsOptions.collection=this.connectionCollection,e.eventsOptions.header={left:e.eventsOptions.leftHeader||"",center:e.eventsOptions.centerHeader||"",right:e.eventsOptions.rightHeader||""},t.extend(e.eventsOptions,e.calendarOptions),delete e.calendarOptions,delete e.eventsOptions.centerHeader,delete e.eventsOptions.leftHeader,delete e.eventsOptions.rightHeader},renderCalendar:function(){this.calendar=new s(this.options),this.calendar.render()}})}.call(t,n,t,e))||(e.exports=i)},"./bundles/orocalendar/js/app/components/calendar-event-date-range-component.js":(e,t,n)=>{var i;void 0===(i=function(e){"use strict";const t=n("./bundles/oroui/js/extend/jquery.js"),i=n("./bundles/oroui/js/extend/underscore.js"),s=n("./bundles/oroui/js/app/components/base/component.js"),r=n("./bundles/oroform/js/app/views/datepair-view.js"),o=n("./bundles/orocalendar/js/app/views/all-day-view.js");return s.extend({constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){const n=i.values(e._subPromises),s=i.omit(e,this.AUXILIARY_OPTIONS);s.el=e._sourceElement,this._deferredInit(),t.when(...i.compact(n)).then((()=>{this.handleLayoutInit(s),this._resolveDeferredInit()}))},handleLayoutInit:function(e){this.datepairView=new r(e),this.allDayview=new o(e)}})}.call(t,n,t,e))||(e.exports=i)},"./bundles/orocalendar/js/app/components/calendar-event-recurrence-component.js":(e,t,n)=>{var i;void 0===(i=function(e){"use strict";const t=n("./bundles/oroui/js/extend/underscore.js"),i=n("./bundles/orocalendar/js/calendar/event/recurrence/event-recurrence-view.js"),s=n("./bundles/orocalendar/js/calendar/event/recurrence/event-recurrence-model.js");return n("./bundles/oroui/js/app/components/base/component.js").extend({commonEventBus:null,constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){let n=e.modelAttrs;this.model&&(n=this.model.get("recurrence")),t.extend(this,t.pick(e,"commonEventBus"));const i=this._prepareEventRecurrenceViewOptions(e);this.recurrenceView=this._initEventRecurrenceView(t.extend(i,{model:this._initEventRecurrenceModel(n)})),this.listenTo(this.recurrenceView,"formChanged",this._handleFormChange)},_initEventRecurrenceModel:function(e){return e&&(e.dayOfWeek=t.values(e.dayOfWeek)),new s(e)},_initEventRecurrenceView:function(e){return e.autoRender=!0,new i(e)},_prepareEventRecurrenceViewOptions:function(e){return t.extend(t.pick(e,"inputNamePrefixes","errors"),{el:e._sourceElement})}})}.call(t,n,t,e))||(e.exports=i)},"./bundles/orocalendar/js/app/components/dashboard-calendar-component.js":(e,t,n)=>{var i;void 0===(i=function(e){"use strict";const t=n("./bundles/orocalendar/js/app/components/calendar-component.js"),i=n("./bundles/oroui/js/widget/widget-manager.js"),s=n("./bundles/orolocale/js/moment-l10n.js"),r=t.extend({constructor:function e(t){e.__super__.constructor.call(this,t)},renderCalendar:function(){r.__super__.renderCalendar.call(this),this.adoptWidgetActions()},adoptWidgetActions:function(){const e=this;function t(e){const t=e.minutes()<30?30:60;return e.startOf("hour").add(t,"m")}i.getWidgetInstance(this.options.widgetId,(function(n){n.getAction("new-event","adopted",(function(n){n.on("click",(function(){e.calendar.showAddEventDialog({start:t(s.utc()),end:t(s.utc()).add(1,"h")})}))}))}))}});return r}.call(t,n,t,e))||(e.exports=i)},"./bundles/orocalendar/js/app/components/select2-attendees-component.js":(e,t,n)=>{var i;void 0===(i=function(e){"use strict";const t=n("./bundles/oroui/js/extend/jquery.js"),i=n("./bundles/oroui/js/extend/underscore.js"),s=n("./bundles/fosjsrouting/js/router.js"),r=n("./bundles/oroform/js/app/components/select2-autocomplete-component.js").extend({constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){r.__super__.initialize.call(this,e)},preConfig:function(e){return r.__super__.preConfig.call(this,e),e.maximumInputLength=50,e.createSearchChoice=function(e,t){if(void 0===i.find(t,(function(t){return 0===t.displayName.toLowerCase().localeCompare(e.toLowerCase())}))){const t=/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/gi,n=e.match(t),i=n?n.shift():"",s=/[^a-zA-Z0-9\s._-]/gi,r=e.replace(t,"").replace(s,"").trim();let o="";return o=r?r+(i?" <"+i+">":""):i,{id:JSON.stringify({displayName:r,email:i,status:"none",type:null}),text:o,displayName:r,email:i,status:"none",type:null,isNew:!0}}return null},e},setConfig:function(e){return e.selected=e.selected||{},(e=r.__super__.setConfig.call(this,e)).ajax.results=i.wrap(e.ajax.results,(function(t,n,s){const r=t.call(this,n,s);return i.each(r.results,(function(t){e.selected[t.id]&&(t.id=e.selected[t.id])})),r})),e.needsInit&&(e.initSelection=function(n,i){t.ajax({url:s.generate("oro_calendar_event_attendees_autocomplete_data",{id:n.val()}),type:"GET",success:function(t){e.selected=t.excluded,i(t.result),n.trigger("select2-data-loaded")}})}),e}});return r}.call(t,n,t,e))||(e.exports=i)},"./bundles/orocalendar/js/app/plugins/calendar/attendees-plugin.js":(e,t,n)=>{var i;void 0===(i=function(e){"use strict";const t=n("./bundles/oroui/js/extend/jquery.js"),i=n("./bundles/oroui/js/extend/underscore.js"),s=n("./bundles/oroui/js/app/plugins/base/plugin.js"),r=n("./bundles/orocalendar/js/app/views/attendee-notifier-view.js"),o=s.extend({enable:function(){this.listenTo(this.main,"event:added",this.onEventAdded),this.listenTo(this.main,"event:changed",this.onEventChanged),this.listenTo(this.main,"event:deleted",this.onEventDeleted),this.options&&!this.options.enableAttendeesInvitations||this.listenTo(this.main,"event:beforeSave",this.onEventBeforeSave),o.__super__.enable.call(this)},hasParentEvent:function(e){let t=!1;const n=e.get("parentEventId"),i=e.get("calendarAlias"),s=this;return n&&(t=Boolean(this.main.getConnectionCollection().find((function(e){return e.get("calendarAlias")===i&&s.main.collection.get(e.get("calendarUid")+"_"+n)}),this))),t},hasLoadedAttendeeEvents:function(e){let t=!1,n=e.get("attendees");return n=i.isNull(n)?[]:n,e.hasChanged("attendees")&&!i.isEmpty(e.previous("attendees"))&&(n=i.union(n,e.previous("attendees"))),i.isEmpty(n)||(t=this.main.getConnectionCollection().filter((function(e){return i.findWhere(n,{userId:e.get("userId")})}),this).length>0),t},findAttendeeEventModels:function(e){return this.main.collection.where({parentEventId:""+e.originalId})},onEventAdded:function(e){e.set("editable",e.get("editable")&&!this.hasParentEvent(e),{silent:!0}),this.hasLoadedAttendeeEvents(e)&&this.main.refreshView()},onEventChanged:function(e){let t,n,s;if(e.set("editable",e.get("editable")&&!this.hasParentEvent(e),{silent:!0}),this.hasLoadedAttendeeEvents(e)){if(e.hasChanged("attendees"))return void this.listenToOnce(e,"sync",this.main.refreshView.bind(this.main));for(t=this.findAttendeeEventModels(e),s=i.pick(e.changedAttributes(),["start","end","allDay","title","description"]),n=0;n<t.length;n++)t[n].set(s)}},onEventDeleted:function(e){let t,n;if(this.hasLoadedAttendeeEvents(e))for(t=i.filter(this.findAttendeeEventModels(e),(function(t){return t.get("start")===e.get("start")})),n=0;n<t.length;n++)this.main.getCalendarElement().fullCalendar("removeEvents",t[n].id),this.main.collection.remove(t[n]),t[n].dispose()},onEventBeforeSave:function(e,n,s){if(this.hasLoadedAttendeeEvents(e)){let e;const o=t.Deferred();n.push(o),this.modal||(e=()=>{this.modal.dispose(),delete this.modal},this.modal=r.createConfirmNotificationDialog(),this.modal.on("ok",(()=>{s.notifyAttendees="all",o.resolve(),i.defer(e)})),this.modal.on("cancel",(()=>{s.notifyAttendees="none",o.resolve(),i.defer(e)})),this.modal.on("close",(()=>{o.reject(),i.defer(e)}))),this.modal.open()}}});return o}.call(t,n,t,e))||(e.exports=i)},"./bundles/orocalendar/js/app/plugins/calendar/event-recurrence-plugin.js":(e,t,n)=>{var i;void 0===(i=function(e){"use strict";const t=n("./bundles/orolocale/js/moment-l10n.js"),i=n("./bundles/oroui/js/extend/jquery.js"),s=n("./bundles/oroui/js/extend/underscore.js"),r=n("./bundles/orotranslation/js/translator.js"),o=n("./bundles/orocalendar/js/calendar/event/model.js"),a=n("./bundles/orowindows/js/widget/dialog-widget.js"),l=n("./bundles/orocalendar/js/calendar/event/action-target-select-view.js"),c=n("./bundles/oroui/js/app/plugins/base/plugin.js").extend({enable:function(){this.listenTo(this.main.commonEventBus,{"event:beforeSave":this.onEventBeforeSave,"event:beforeEdit":this.onEventBeforeEdit,"event:beforeDelete":this.onEventBeforeDelete,"eventForm:setupData":this.onEventFormSetupData,"eventForm:fetchData":this.onEventFormFetchData,"events:add":this.onEventUpdated,"events:destroy":this.onEventUpdated,"events:sync":this.onEventsSync}),c.__super__.enable.call(this)},onEventBeforeSave:function(e,n,i){let o,a,l;e.get("recurrence")&&(l={actionType:"edit",dialogTitle:r("Edit Event")},a=n=>{if("exception"===n)s.extend(i,{id:null,recurringEventId:e.originalId,originalStart:e.get("start"),recurrence:null}),e.originalId=null;else{const n=t(i.start).diff(e.get("start")),s=t(i.end).diff(i.start),r=this._calculateInitialEvenStartEnd(e.get("recurrence").startTime,i).start;i.start=t(r).add(n).tz("UTC").format(),i.end=t(i.start).add(s).tz("UTC").format(),i.recurrence=e.get("recurrence"),delete i.recurrence.id,i.recurrence.startTime=i.start,i.recurrence.endTime&&(i.recurrence.endTime=t(i.recurrence.endTime).add(n).tz("UTC").format())}},o=this._selectActionTarget(a,l),n.push(o))},onEventBeforeEdit:function(e,t,n){if(!e.get("recurrence"))return;const i={actionType:"edit",dialogTitle:r("Edit Event")},s=this._selectActionTarget((function(t){let n;return"exception"===t&&(n={isException:!0,originalStart:e.get("start")}),n}),i);t.push(s)},onEventBeforeDelete:function(e,t,n){if(!e.get("recurrence"))return;let s;const o=null!==e.get("parentEventId")&&null===e.get("recurringEventId"),a={actionType:"delete",dialogTitle:r("Delete Event"),restrictOnlyThisEventAction:o},l=function(t){let n;return"exception"!==t||o||(n={isException:!0,originalStart:e.get("start"),isCancelled:!0}),n};s=n.isException?i.Deferred().resolve(l("exception")):this._selectActionTarget(l,a),t.push(s)},onEventFormSetupData:function(e,t,n){s.extend(t,{editAsException:n.isException}),t.id&&t.recurrence&&!n.isException&&s.extend(t,this._calculateInitialEvenStartEnd(t.recurrence.startTime,t))},onEventFormFetchData:function(e,t,n){n.isException&&(s.extend(t,{id:null,recurringEventId:e.originalId,originalStart:n.originalStart,recurrence:null,isCancelled:s.result(n,"isCancelled")||null}),e.originalId=null)},onEventsSync:function(e){e instanceof o&&this.onEventUpdated(e)},onEventUpdated:function(e){e.get("recurrence")&&this.main.commonEventBus.trigger("toRefresh")},_selectActionTarget:function(e,t){const n=i.Deferred();t=s.defaults(t,{restrictOnlyThisEventAction:!1});const r=new l({autoRender:!0,actionType:t.actionType,restrictOnlyThisEventAction:t.restrictOnlyThisEventAction}),o=new a({autoRender:!0,el:r.$el.wrap('<div class="widget-content"/>').parent(),title:t.dialogTitle,stateEnabled:!1,incrementalPosition:!1,dialogOptions:{modal:!0,resizable:!1,width:375,autoResize:!0,close:function(){n.reject()}}});return o.subview("content",r),o.getAction("apply","adopted",(function(t){t.on("click",(function(){const t=r.getValue();n.resolve(e(t)),o.remove()}))})),n.promise()},_calculateInitialEvenStartEnd:function(e,n){const i=t(n.end).diff(n.start);return{start:e,end:t(e).add(i).tz("UTC").format()}}});return c}.call(t,n,t,e))||(e.exports=i)},"./bundles/orocalendar/js/app/views/all-day-view.js":(e,t,n)=>{var i,s;i=[n("./bundles/oroui/js/extend/jquery.js"),n("./bundles/oroui/js/app/views/base/view.js")],void 0===(s=function(e,t){"use strict";return t.extend({options:{},autoRender:!0,events:{'change input[name$="[allDay]"]':"onAllDayChange"},startAtTimeElement:null,oldStartAtValue:null,endAtTimeElement:null,oldEndAtValue:null,constructor:function e(t){e.__super__.constructor.call(this,t)},render:function(){this.handleAllDayEventFlag(this.$('input[name$="[allDay]"]'),0)},onAllDayChange:function(t){this.handleAllDayEventFlag(e(t.target),200)},handleAllDayEventFlag:function(t,n){if(!this.startAtTimeElement){const e=this.$('input[name$="[start]"]').closest(".control-group-datetime");this.startAtTimeElement=e.find(".timepicker-input")}if(!this.endAtTimeElement){const e=this.$('input[name$="[end]"]').closest(".control-group-datetime");this.endAtTimeElement=e.find(".timepicker-input")}t.prop("checked")?(this.oldStartAtValue=this.startAtTimeElement.timepicker("getTime"),this.oldEndAtValue=this.endAtTimeElement.timepicker("getTime"),this.startAtTimeElement.hide(n,(function(){e(this).timepicker("setTime",0).trigger("change")})),this.endAtTimeElement.hide(n,(function(){e(this).timepicker("setTime","11:59pm").trigger("change")}))):(this.startAtTimeElement.show({duration:n,start:function(){this.oldStartAtValue&&this.startAtTimeElement.timepicker("setTime",this.oldStartAtValue).trigger("change")}.bind(this)}),this.endAtTimeElement.show({duration:n,start:function(){this.oldEndAtValue&&this.endAtTimeElement.timepicker("setTime",this.oldEndAtValue).trigger("change")}.bind(this)}))}})}.apply(t,i))||(e.exports=s)},"./bundles/orocalendar/js/app/views/attendee-notifier-view.js":(e,t,n)=>{var i;void 0===(i=function(e){"use strict";const t=n("./bundles/oroui/js/extend/underscore.js"),i=n("./bundles/orotranslation/js/translator.js"),s=n("./bundles/oroui/js/app/views/base/view.js"),r=n("./bundles/oroui/js/modal.js"),o=n("../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/oroui/templates/three-buttons-modal.html"),a=s.extend({exclusions:['input[name="input_action"]','input[name$="[backgroundColor]"]','select[name*="[reminders]"]','input[name*="[reminders]"]','select[name*="[calendarUid]"]','input[name*="[notifyAttendees]"]'],options:{separator:"-|-"},constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){this.options=t.defaults(t.pick(e||{},t.keys(this.options)),this.options),this.$form=this.$el.closest("form"),this.$form.on("select2-data-loaded",this.updateInitialState.bind(this)),this.$notifyInput=this.$form.find('input[name*="[notifyAttendees]"]'),this.updateInitialState(),this.$form.parent().on("submit."+this.cid,(e=>{this.hasAttendees()&&(this.getFormState()!==this.formInitialState&&this.$notifyInput.val(""),t.isEmpty(this.$notifyInput.val())&&(this.getConfirmDialog().open(),e.preventDefault()))}))},updateInitialState:function(){this.formInitialState=this.getFormState(),this.attendeeInitialValues=this.getAttendeeValues(),this.notifyMessage=i(this.attendeeInitialValues.length?"Notify about update message":"Notify guests message")},dispose:function(){this.disposed||(this.$form&&this.$form.parent().off("."+this.cid),this.confirmModal&&(this.confirmModal.dispose(),delete this.confirmModal)),a.__super__.dispose.call(this)},getAttendeeValues:function(){const e=this.$form.find('input[name*="[attendees]"]').val();return e.length>0?e.split(this.options.separator):[]},hasAttendees:function(){return this.$form.find('input[name*="[attendees]"]').val().indexOf("entityId")>=0},getConfirmDialog:function(){return this.confirmModal||(this.confirmModal=a.createConfirmNotificationDialog(this.notifyMessage),this.listenTo(this.confirmModal,"ok",(()=>{this.$notifyInput.val("all"),this.updateInitialState(),this.$form.submit()})),this.listenTo(this.confirmModal,"buttonClick",(e=>{"secondary"===e&&(this.$notifyInput.val("none"),this.updateInitialState(),this.$form.submit())}))),this.confirmModal},getFormState:function(){return this.$form.find(":input:not("+this.exclusions.join(", ")+")").serialize()}},{createConfirmNotificationDialog:function(e){return e=e||i("Notify about update message"),new r({title:i("Notify guests title"),okText:i("Notify"),secondaryText:i("Don't notify"),secondaryButtonClass:"btn btn-primary",content:e,className:"modal modal-primary",template:o,disposeOnHidden:!1})}});return a}.call(t,n,t,e))||(e.exports=i)},"./bundles/orocalendar/js/app/views/change-status-view.js":(e,t,n)=>{var i,s;i=[n("./bundles/oroui/js/extend/jquery.js"),n("./bundles/oroui/js/extend/underscore.js"),n("./bundles/orotranslation/js/translator.js"),n("./bundles/oroui/js/mediator.js"),n("./bundles/oroui/js/app/views/base/view.js")],void 0===(s=function(e,t,n,i,s){"use strict";const r=s.extend({triggerEventName:"",events:{click:"sendUpdate"},constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){r.__super__.initialize.call(this,e),this.triggerEventName=t.isEmpty(e.triggerEventName)?"":e.triggerEventName},sendUpdate:function(n){n.preventDefault();const s=this.triggerEventName;e.ajax({url:this.$el.attr("href"),type:"POST",success:function(){t.isEmpty(s)?i.execute("refreshPage"):i.trigger(s)}})}});return r}.apply(t,i))||(e.exports=s)},"./bundles/orocalendar/js/calendar-view.js":(e,t,n)=>{var i;void 0===(i=function(e){"use strict";const t=n("./bundles/oroui/js/extend/underscore.js"),i=n("./bundles/oroui/js/extend/jquery.js"),s=n("./bundles/orolocale/js/moment-l10n.js"),r=n("./bundles/oroui/js/extend/backbone.js"),o=n("./bundles/orotranslation/js/translator.js"),a=n("./bundles/oroui/js/tools.js"),l=n("./bundles/oroui/js/messenger.js"),c=n("./bundles/oroui/js/mediator.js"),d=n("./bundles/oroui/js/app/views/loading-mask-view.js"),u=n("./bundles/oroui/js/app/views/base/view.js"),h=n("./bundles/orocalendar/js/calendar/event/collection.js"),p=n("./bundles/orocalendar/js/calendar/event/model.js"),f=n("./bundles/orocalendar/js/calendar/event/view.js"),g=n("./bundles/orocalendar/js/calendar/connection/view.js"),m=n("./bundles/orocalendar/js/calendar/event-decorator.js"),v=n("./bundles/orocalendar/js/calendar/color-manager.js"),_=n("./bundles/oroui/js/tools/color-util.js"),b=n("./bundles/orolocale/js/formatter/datetime.js"),y=n("./bundles/orolocale/js/locale-settings.js"),w=n("./bundles/oroui/js/app/plugins/plugin-manager.js"),E=n("./bundles/orocalendar/js/app/plugins/calendar/attendees-plugin.js"),C=n("./bundles/orocalendar/js/app/plugins/calendar/event-recurrence-plugin.js"),D=n("./bundles/oroui/js/persistent-storage.js");n("./bundles/orocalendar/js/fullcalendar.js");const S=n("./bundles/oroui/js/modal.js");n("./bundles/orocalendar/js/extend/fullcalendar.js");const T=u.extend({MOMENT_BACKEND_FORMAT:b.getBackendDateTimeFormat(),eventsTemplate:t.template('<div><div class="calendar-container"><div class="calendar"></div></div></div>'),events:{'click [data-role="show-connections-modal"]':"onConnectionsButtonClick"},selectors:{calendar:".calendar",loadingMask:".loading-mask",loadingMaskContent:".loading-content"},options:{timezone:y.getTimeZone(),eventsOptions:{defaultView:"agendaWeek",allDayText:o("oro.calendar.control.all_day"),buttonText:{today:o("oro.calendar.control.today"),month:o("oro.calendar.control.month"),week:o("oro.calendar.control.week"),day:o("oro.calendar.control.day")},editable:!0,removable:!0,collection:null,fixedWeekCount:!1,itemViewTemplateSelector:null,itemFormTemplateSelector:null,itemFormDeleteButtonSelector:null,calendar:null,subordinate:!0,defaultTimedEventDuration:s.duration("00:30:00"),defaultAllDayEventDuration:s.duration("23:59:00"),header:{ignoreTimezone:!1,allDayDefault:!1},firstDay:y.getCalendarFirstDayOfWeek()-1,monthNames:y.getCalendarMonthNames("wide",!0),monthNamesShort:y.getCalendarMonthNames("abbreviated",!0),dayNames:y.getCalendarDayOfWeekNames("wide",!0),dayNamesShort:y.getCalendarDayOfWeekNames("abbreviated",!0),recoverView:!0,eventOrder:["title","calendarUid"],enableAttendeesInvitations:!0},connectionsOptions:{collection:null,containerTemplateSelector:null},colorManagerOptions:{colors:null},invitationStatuses:[]},enableEventLoading:!1,fullCalendar:null,eventView:null,loadingMask:null,colorManager:null,childDialogOfModal:null,eventsLoaded:{},listen:{"layout:reposition mediator":"onWindowResize","widget_success:attendee_status:change mediator":"onAttendeeStatusChange","widget_dialog:open mediator":"onWidgetDialogOpen","widget_dialog:close mediator":"onWidgetDialogClose"},layout:void 0,constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){if(e||(e={}),e.eventsOptions&&t.defaults(e.eventsOptions,this.options.eventsOptions),this.options=t.defaults(e||{},this.options),this.collection=this.collection||new h,this.collection.setCalendar(this.options.calendar),this.collection.subordinate=this.options.eventsOptions.subordinate,this.options.newEventEditable=this.options.eventsOptions.editable,this.options.newEventRemovable=this.options.eventsOptions.removable,this.options.eventsOptions.recoverView){const e=this.getStorageKey("defaultView"),t=this.getStorageKey("defaultDate"),n=D.getItem(e);let i=D.getItem(t);n&&(this.options.eventsOptions.defaultView=n),i&&!isNaN(i)&&(i=s.unix(i),this.options.eventsOptions.defaultDate=i,this.enableEventLoading=i.format("M")!==s().format("M"))}this.listenTo(this.collection,"add",this.onEventAdded),this.listenTo(this.collection,"change",this.onEventChanged),this.listenTo(this.collection,"destroy",this.onEventDeleted),this.refreshView=t.throttle(this.refreshView.bind(this),10,{trailing:!1}),this.commonEventBus=Object.create(t.extend({},r.Events)),this.listenTo(this.commonEventBus,"toRefresh",t.debounce(this.refreshView,0)),this.listenTo(this,"all",(function(...e){this.commonEventBus.trigger(...e)})),this.listenTo(this.collection,"all",(function(e,...t){this.commonEventBus.trigger("events:"+e,...t)})),this.colorManager=new v(this.options.colorManagerOptions),this.pluginManager=new w(this),this.pluginManager.create(E,{enableAttendeesInvitations:e.eventsOptions.enableAttendeesInvitations}),this.pluginManager.enable(E),this.pluginManager.enable(C)},onWindowResize:function(){this.getCalendarElement().data("fullCalendar")&&(this.setTimeline(),this.updateLayout())},dispose:function(){this.disposed||("fullscreen"===this.layout&&this.setLayout("default"),this.pluginManager.dispose(),clearInterval(this.timelineUpdateIntervalId),this.getCalendarElement().data("fullCalendar")&&this.getCalendarElement().fullCalendar("destroy"),this.childDialogOfModal=null,T.__super__.dispose.call(this))},getEventView:function(e){if(!this.eventView){const n=this.getConnectionCollection().findWhere({calendarUid:e.get("calendarUid")}).get("options")||{};this.eventView=new f(t.extend({},n,{model:e,commonEventBus:this.commonEventBus,calendar:this.options.calendar,connections:this.getConnectionCollection(),viewTemplateSelector:this.options.eventsOptions.itemViewTemplateSelector,formTemplateSelector:this.options.eventsOptions.itemFormTemplateSelector,colorManager:this.colorManager,invitationStatuses:this.options.invitationStatuses})),this.listenTo(this.eventView,"addEvent",this.handleEventViewAdd),this.listenTo(this.eventView,"dispose",this.handleEventViewRemove)}return this.eventView},handleEventViewRemove:function(){delete this.eventView},getLoadingMask:function(){return this.loadingMask||(this.loadingMask=new d({container:this.getCalendarElement()})),this.loadingMask},getCollection:function(){return this.collection},getConnectionCollection:function(){return this.options.connectionsOptions.collection},getCalendarElement:function(){return this.fullCalendar||(this.fullCalendar=this.$el.find(this.selectors.calendar)),this.fullCalendar},handleEventViewAdd:function(e){this.collection.add(e)},addEventToCalendar:function(e){const t=this.createViewModel(e);this.getCalendarElement().fullCalendar("renderEvent",t)},getCalendarEvents:function(e){return this.getCalendarElement().fullCalendar("clientEvents",(function(t){return t.calendarUid===e}))},onEventAdded:function(e){const t=this.getConnectionCollection().findWhere({calendarUid:e.get("calendarUid")});t&&(e.set("editable",t.get("canEditEvent"),{silent:!0}),e.set("removable",t.get("canDeleteEvent"),{silent:!0}),this.trigger("event:added",e),this.addEventToCalendar(e),t.get("visible")||this.subview("connectionsView").showCalendar(t))},onEventChanged:function(e){const n=this.getConnectionCollection().findWhere({calendarUid:e.get("calendarUid")}),i=this.getCalendarElement();if(e.set("editable",n.get("canEditEvent")),e.set("removable",n.get("canDeleteEvent"),{silent:!0}),e.hasChanged("id"))return null!==e.previous("id")&&this.getCalendarElement().fullCalendar("removeEvents",e.previous("id")),void(null!==e.get("id")&&this.addEventToCalendar(e));const s=i.fullCalendar("clientEvents",e.id)[0];t.extend(s,this.createViewModel(e)),this.trigger("event:changed",e),i.fullCalendar("rerenderEvents")},onEventDeleted:function(e){e.has("id")&&this.getCalendarElement().fullCalendar("removeEvents",e.get("id")),this.trigger("event:deleted",e)},onAttendeeStatusChange:function(){this.refreshView()},onConnectionAdded:function(){this.refreshView()},onConnectionChanged:function(e){if(null!==e.reloadEventsRequest)return!0===e.reloadEventsRequest&&this.updateEvents(),void(e.reloadEventsRequest=null);const t=e.changedAttributes(),n=e.get("calendarUid");t.visible&&!this.eventsLoaded[n]?this.updateEvents():this.updateEventsWithoutReload()},onConnectionDeleted:function(){this.refreshView()},refreshView:function(){this.updateEvents(),this.updateLayout()},showAddEventDialog:function(e){let n;if(e.start._fullCalendar||(e.start=i.fullCalendar.moment(e.start.clone().utc().format())),e.end&&!e.end._fullCalendar&&(e.end=i.fullCalendar.moment(e.end.clone().utc().format())),!this.eventView)try{e.start=e.start.clone().utc().format(this.MOMENT_BACKEND_FORMAT),e.end=e.end.clone().utc().format(this.MOMENT_BACKEND_FORMAT),t.extend(e,{calendarAlias:"user",calendar:this.options.calendar,editable:this.options.newEventEditable,removable:this.options.newEventRemovable}),n=new p(e),this.getEventView(n).render()}catch(e){this.showMiscError(e)}},onFcSelect:function(e,t){const n={allDay:0===e.time().as("ms")&&0===t.time().as("ms"),start:e.clone().tz(this.options.timezone,!0),end:t.clone().tz(this.options.timezone,!0)};n.allDay&&(n.end=n.end.clone().subtract(1,"days")),this.showAddEventDialog(n)},onFcEventClick:function(e){if(!this.eventView)try{const t=this.collection.get(e.id);this.getEventView(t).render()}catch(e){this.showMiscError(e)}},onFcEventResize:function(e,t,n){this.saveFcEvent(e,n)},onFcEventDragStart:function(e){e._beforeDragState={allDay:e.allDay,start:e.start.clone(),end:e.end?e.end.clone():null}},onFcEventDrop:function(e,t,n,s){let r;const o=this.getCalendarElement().fullCalendar("getView"),a=e._beforeDragState;let l=0===e.start.time().as("ms")&&(null===e.end||null!==e.endTime);null===e.end&&!0===l&&0===e.start.time().as("ms")&&(l=!i(s.target).parents(".fc-time-grid-event").length),e.allDay="month"===o.name?a.allDay:l,r=l?a.allDay?null===e.end&&null===a.end?this.options.eventsOptions.defaultAllDayEventDuration:a.end.diff(a.start):"month"===o.name?a.end?a.end.diff(a.start):0:this.options.eventsOptions.defaultAllDayEventDuration:a.allDay?this.options.eventsOptions.defaultTimedEventDuration:a.end?a.end.diff(a.start):0,e.end=e.start.clone().tz(this.options.timezone,!0).add(r).tz("UTC",!0),this.saveFcEvent(e)},saveFcEvent:function(e){const t=[],n=this.MOMENT_BACKEND_FORMAT,s={allDay:e.allDay,start:e.start.clone().tz(this.options.timezone,!0).utc().format(n)};null!==e.end&&(s.end=e.end.clone().tz(this.options.timezone,!0).utc().format(n));const r=this.collection.get(e.id);this.trigger("event:beforeSave",r,t,s),i.when(...t).done(this._saveFcEvent.bind(this,r,s)).fail(this.updateEventsWithoutReload.bind(this))},_saveFcEvent:function(e,t){this.showSavingMask();try{e.save(t,{success:this._hideMask.bind(this),error:(e,t)=>{this.showSaveEventError(t.responseJSON||{}),this._hideMask()},wait:!0})}catch(e){this.showSaveEventError(e)}},updateEvents:function(){try{this.showLoadingMask(),this.collection.fetch({reset:!0,success:()=>{this.updateEventsLoadedCache(),this.updateEventsWithoutReload()},error:(e,t)=>{this.showLoadEventsError(t.responseJSON||{}),this._hideMask()}})}catch(e){this.showLoadEventsError(e)}},updateEventsLoadedCache:function(){this.eventsLoaded={},this.options.connectionsOptions.collection.each((function(e){e.get("visible")&&(this.eventsLoaded[e.get("calendarUid")]=!0)}),this)},updateEventsWithoutReload:function(){const e=this.enableEventLoading;this.enableEventLoading=!1,this.getCalendarElement().fullCalendar("refetchEvents"),this.enableEventLoading=e},loadEvents:function(e,n,i,s){const r=()=>{(this.enableEventLoading||0===t.size(this.eventsLoaded))&&this.updateEventsLoadedCache();const e=t.map(this.filterEvents(this.collection.models),(function(e){return this.createViewModel(e)}),this);this._hideMask(),s(e)};e=e.tz(i,!0).format(this.MOMENT_BACKEND_FORMAT),n=n.tz(i,!0).format(this.MOMENT_BACKEND_FORMAT);try{this.collection.setRange(e,n),this.enableEventLoading?this.collection.fetch({reset:!0,success:r,error:(e,t)=>{s({}),this.showLoadEventsError(t.responseJSON||{})}}):r()}catch(e){s({}),this.showLoadEventsError(e)}},filterEvents:function(e){const t=this.filterVisibleEvents(e);return this.filterCancelledEvents(t)},filterVisibleEvents:function(e){const n=[];return this.options.connectionsOptions.collection.each((function(e){e.get("visible")&&n.push(e.get("calendarUid"))}),this),t.filter(e,(function(e){return-1!==t.indexOf(n,e.get("calendarUid"))}))},filterCancelledEvents:function(e){return t.filter(e,(function(e){return!e.get("isCancelled")}))},createViewModel:function(e){const n=t.pick(e.attributes,["id","title","start","end","allDay","backgroundColor","calendarUid","editable","startEditable","durationEditable"]),r=this.colorManager.getCalendarColors(n.calendarUid);if(n.color=r.backgroundColor,n.backgroundColor?n.textColor=_.getContrastColor(n.backgroundColor):n.textColor=r.color,null===n.start||s.isMoment(n.start)||(n.start=i.fullCalendar.moment(n.start).tz(this.options.timezone)),null!==n.end&&!s.isMoment(n.end)){const e=i.fullCalendar.moment(n.end);n.end=e.tz(this.options.timezone),n.allDay?n.endTime=e.time():n.endTime=null}return n.end&&0===n.end.diff(n.start)&&(n.end=null,n.endTime=null),n},showSavingMask:function(){this.getLoadingMask().show(o("Saving..."))},showLoadingMask:function(){this.getLoadingMask().show(o("Loading..."))},_hideMask:function(){this.loadingMask&&this.loadingMask.hide()},showLoadEventsError:function(e){this._showError(o("Sorry, calendar events were not loaded correctly"),e)},showSaveEventError:function(e){this._showError(o("Sorry, calendar event was not saved correctly"),e)},showMiscError:function(e){this._showError(o("Sorry, an unexpected error has occurred."),e)},showUpdateError:function(e){this._showError(o("Sorry, the calendar update has failed."),e)},_showError:function(e,t){this._hideMask(),l.showErrorMessage(e,t)},initCalendarContainer:function(){const e=this.$el.find(this.options.eventsOptions.containerSelector);if(0===e.length)throw new Error('Cannot find container selector "'+this.options.eventsOptions.containerSelector+'" element.');e.empty(),e.append(i(this.eventsTemplate()))},_prepareFullCalendarOptions:function(){let e;const n={isRTL:t.isRTL(),timezone:this.options.timezone,selectLongPressDelay:30,displayEventEnd:{month:!0},selectHelper:!0,events:this.loadEvents.bind(this),select:this.onFcSelect.bind(this),eventClick:this.onFcEventClick.bind(this),eventDragStart:this.onFcEventDragStart.bind(this),eventDrop:this.onFcEventDrop.bind(this),eventResize:this.onFcEventResize.bind(this),loading:e=>{e?this.showLoadingMask():this._hideMask()},views:{}};t.extend(n,t.pick(this.options.eventsOptions,["defaultDate","defaultView","editable","selectable","header","allDayText","allDayHtml","allDaySlot","buttonText","selectLongPressDelay","titleFormat","columnFormat","timeFormat","slotLabelFormat","minTime","maxTime","scrollTime","slotEventOverlap","firstDay","monthNames","monthNamesShort","dayNames","dayNamesShort","aspectRatio","defaultAllDayEventDuration","defaultTimedEventDuration","fixedWeekCount","eventOrder"])),t.isUndefined(n.defaultDate)||(n.defaultDate=s.unix(s(n.defaultDate).unix())),n.aspectRatio||(n.contentHeight="auto",n.height="auto"),this.options.scrollToCurrentTime&&(e=s.tz(this.options.timezone),e.minutes()<10&&0!==e.hours()&&e.subtract(1,"h"),n.scrollTime=e.startOf("hour").format("HH:mm:ss"));const i=y.getVendorDateTimeFormat("moment","date","MMM D, YYYY"),r=y.getVendorDateTimeFormat("moment","time","h:mm A"),o="D"===i[0]?"D MMMM YYYY":"MMMM D YYYY";return t.extend(n.views,{month:{columnFormat:"ddd",titleFormat:"MMMM YYYY"},week:{columnFormat:"ddd "+i,titleFormat:o},day:{columnFormat:"dddd "+i,titleFormat:"dddd, "+i}}),n.timeFormat=r,n.smallTimeFormat=r,n.eventAfterAllRender=()=>{const e=this.setTimeline.bind(this);t.delay(e),clearInterval(this.timelineUpdateIntervalId),this.timelineUpdateIntervalId=setInterval(e,6e4)},n.eventAfterRender=(e,t)=>{const n=this.collection.get(e.id);n&&m.decorate(n,t)},n},initializeFullCalendar:function(){const e=this.getCalendarElement(),n=this._prepareFullCalendarOptions();e.fullCalendar(n);const s=e.data("fullCalendar");t.isObject(s)&&a.isMobile()&&i(document).off("dragstart",s.getView().documentDragStartProxy),this.updateLayout(),this.enableEventLoading=!0},prepareConnectionsContainer:function(){let e;if(this.options.connectionsOptions.modalContentTemplateId){const t=i("#"+this.options.connectionsOptions.modalContentTemplateId).html(),n=new u({el:i(t)});this.subview("innerModalView",n),n.render().initLayout(),e=n.$el}else e=this.$el;const t=e.find(this.options.connectionsOptions.containerSelector);if(0===t.length)throw new Error('Cannot find "'+this.options.connectionsOptions.containerSelector+'" element.');return t},initializeConnectionsView:function(e){const n=t.template(i(this.options.connectionsOptions.containerTemplateSelector).html());e.html(n());const s=new g({el:e,collection:this.options.connectionsOptions.collection,calendar:this.options.calendar,itemTemplateSelector:this.options.connectionsOptions.itemTemplateSelector,colorManager:this.colorManager});this.subview("connectionsView",s),this.listenTo(s,"connectionAdd",this.onConnectionAdded),this.listenTo(s,"connectionChange",this.onConnectionChanged),this.listenTo(s,"connectionRemove",this.onConnectionDeleted)},onConnectionsButtonClick:function(){let e=this.subview("connectionModal");e||(e=new S({autoRender:!0,content:this.subview("innerModalView"),title:o("oro.calendar.select"),allowOk:!1,className:"modal oro-modal-normal modal--fullscreen-small-device",disposeOnHidden:!1}),this.subview("connectionModal",e)),e.open()},onWidgetDialogOpen:function(e){const t=this.subview("connectionModal");t&&t.isOpen()&&!this.childDialogOfModal&&(t.suspend(),this.childDialogOfModal=e)},onWidgetDialogClose:function(e){const t=this.subview("connectionModal");t&&t.isOpen()&&this.childDialogOfModal===e&&(t.restore(),this.childDialogOfModal=null)},loadConnectionColors:function(){let e=null;this.getConnectionCollection().each((t=>{const n=t.toJSON();this.colorManager.applyColors(n,(function(){return e})),this.colorManager.setCalendarColors(n.calendarUid,n.backgroundColor),-1!==["user","system","public"].indexOf(n.calendarAlias)&&(e=n.backgroundColor)}))},render:function(){if(this.initCalendarContainer(),t.isUndefined(this.options.connectionsOptions.containerTemplateSelector))this.loadConnectionColors();else{const e=this.prepareConnectionsContainer();this.initializeConnectionsView(e)}return this.initializeFullCalendar(),this},setTimeline:function(){let e,t;const n=this.getCalendarElement(),r=n.fullCalendar("getView");this.options.eventsOptions.recoverView&&this.persistView();const o={start:r.intervalStart.clone().utc(),end:r.intervalEnd.clone().utc()},a=s.tz(this.options.timezone);if("month"===r.name)return;0===a.hours()&&a.minutes()<=2&&n.find(".fc-today").removeClass("fc-today fc-state-highlight").next().addClass("fc-today fc-state-highlight");const l=n.find(".fc-time-grid");e=l.children(".timeline-marker"),0===e.length&&(e=i('<hr class="timeline-marker">'),l.prepend(e)),o.start.isBefore(a)&&o.end.isAfter(a)?e.show():e.hide();const c=(3600*a.hours()+60*a.minutes()+a.seconds())/86400,d=Math.floor(l.height()*c);e.css("top",d+"px"),"agendaWeek"===r.name&&(t=n.find(".fc-today:visible"),0!==t.length&&null!==t.position()&&e.css({left:t.position().left+"px",width:t.width()+3+"px"}))},persistView:function(){const e=this.getCalendarElement(),t=e.fullCalendar("getDate"),n=e.fullCalendar("getView"),i=this.getStorageKey("defaultView"),s=this.getStorageKey("defaultDate");this.options.eventsOptions.recoverView&&(D.setItem(i,n.name),isNaN(t)||D.setItem(s,t.unix()))},getAvailableHeight:function(){const e=this.getCalendarElement().find(".fc-view:first");return c.execute("layout:getAvailableHeight",e)},updateLayout:function(){if(this.options.eventsOptions.aspectRatio)return void this.setLayout("default");const e=this.getCalendarElement().find(".fc-view:first"),t=i('[data-role="calendar-sidebar"]');let n=c.execute("layout:getPreferredLayout",e);"fullscreen"===n&&t.height()>c.execute("layout:getAvailableHeight",t)&&(n="scroll"),this.setLayout(n)},setLayout:function(e){if(e===this.layout)return void("fullscreen"===e&&this.getCalendarElement().fullCalendar("option","contentHeight",this.getAvailableHeight()));this.layout=e;const t=this.getCalendarElement();let n="",i="";switch(e){case"fullscreen":c.execute("layout:disablePageScroll",t),n=this.getAvailableHeight();break;case"scroll":i="auto",n="auto",c.execute("layout:enablePageScroll");break;case"default":c.execute("layout:enablePageScroll");break;default:throw new Error("Unknown calendar layout")}t.fullCalendar("option","height",i),t.fullCalendar("option","contentHeight",n)},getStorageKey:function(e){const t=this.options.calendar;return t?e+t:""}});return T}.call(t,n,t,e))||(e.exports=i)},"./bundles/orocalendar/js/calendar/color-manager.js":(e,t,n)=>{var i,s;i=[n("./bundles/oroui/js/extend/underscore.js"),n("./bundles/oroui/js/tools/color-util.js")],void 0===(s=function(e,t){"use strict";const n={colors:null,defaultColor:null,calendarColors:null,initialize:function(e){let t;if(this.colors=[],e.colors)for(t=0;e.colors[t];t++)this.colors[t]=e.colors[t];if(this.colors.length>0){const t=this.colors.length-1;this.defaultColor=e.colors[t]}this.calendarColors={}},setCalendarColors:function(e,t){this.calendarColors[e]={color:this.getContrastColor(t),backgroundColor:t}},removeCalendarColors:function(t){e.isUndefined(this.calendarColors[t])||delete this.calendarColors[t]},getCalendarColors:function(e){return this.calendarColors[e]},applyColors:function(t,n){e.isEmpty(t.color)&&e.isEmpty(t.backgroundColor)?(t.backgroundColor=this._findNextColor(n()),t.color=this.getContrastColor(t.backgroundColor)):e.isEmpty(t.color)?t.color=this.getContrastColor(this.defaultColor):e.isEmpty(t.backgroundColor)&&(t.backgroundColor=this.defaultColor)},getContrastColor:function(e){return t.getContrastColor(e)},_findColorIndex:function(t){let n=-1;return e.each(this.colors,(function(e,i){e===t&&(n=i)})),n},_findNextColor:function(t){let n,i;if(e.isEmpty(t))return this.defaultColor;t=t.toUpperCase(),n=this._findColorIndex(t),-1===n&&(n=this._findColorIndex(this.defaultColor));const s=e.difference(this.colors,e.pluck(this.calendarColors,"backgroundColor"));if(s.length>0){for(i=n+1;i<this.colors.length;i++)if(-1!==e.indexOf(s,this.colors[i]))return this.colors[i];for(i=0;i<n+1;i++)if(-1!==e.indexOf(s,this.colors[i]))return this.colors[i]}return this.colors[n+1%this.colors.length]}};return function(t){const i=e.extend({},n);return i.initialize(t),i}}.apply(t,i))||(e.exports=s)},"./bundles/orocalendar/js/calendar/connection/collection.js":(e,t,n)=>{var i,s;i=[n("./bundles/oroui/js/extend/backbone.js"),n("./bundles/fosjsrouting/js/router.js"),n("./bundles/orocalendar/js/calendar/connection/model.js")],void 0===(s=function(e,t,n){"use strict";return e.Collection.extend({route:"oro_api_get_calendar_connections",url:null,model:n,constructor:function e(...t){e.__super__.constructor.apply(this,t)},setCalendar:function(e){this.url=t.generate(this.route,{id:e})}})}.apply(t,i))||(e.exports=s)},"./bundles/orocalendar/js/calendar/connection/model.js":(e,t,n)=>{var i,s;i=[n("./bundles/oroui/js/extend/underscore.js"),n("./bundles/oroui/js/extend/backbone.js"),n("./bundles/fosjsrouting/js/router.js")],void 0===(s=function(e,t,n){"use strict";return t.Model.extend({route:"oro_api_post_calendar_connection",urlRoot:null,reloadEventsRequest:null,defaults:{id:null,targetCalendar:null,calendarAlias:null,calendar:null,calendarUid:null,position:0,visible:!0,backgroundColor:null,calendarName:null,userId:null,removable:!0,canAddEvent:!1,canEditEvent:!1,canDeleteEvent:!1,options:null},constructor:function e(t,n){e.__super__.constructor.call(this,t,n)},initialize:function(){this.urlRoot=n.generate(this.route),this._updateCalendarUidAttribute(),this.on("change:calendarAlias change:calendar",this._updateCalendarUidAttribute,this)},save:function(n,i,s){let r;null==n||"object"==typeof n?(r=n,s=i):(r={},r[n]=i),s.contentType="application/json",s.data=JSON.stringify(e.extend({},e.omit(this.toJSON(),["calendarUid","calendarName","userId","removable","canAddEvent","canEditEvent","canDeleteEvent"]),r||{})),t.Model.prototype.save.call(this,r,s)},toJSON:function(n){return e.omit(t.Model.prototype.toJSON.call(this,n),["options"])},_updateCalendarUidAttribute:function(){const e=this.get("calendarAlias"),t=this.get("calendar"),n=e&&t?e+"_"+t:null;this.set("calendarUid",n)}})}.apply(t,i))||(e.exports=s)},"./bundles/orocalendar/js/calendar/connection/view.js":(e,t,n)=>{var i;void 0===(i=function(e){"use strict";const t=n("./bundles/oroui/js/extend/jquery.js"),i=n("./bundles/oroui/js/extend/underscore.js"),s=n("./bundles/oroui/js/extend/backbone.js"),r=n("./bundles/orotranslation/js/translator.js"),o=n("./bundles/oroui/js/messenger.js"),a=n("./bundles/oroui/js/app/services/load-modules.js"),l=n("./bundles/orocalendar/js/calendar/connection/collection.js"),c=n("./bundles/orocalendar/js/calendar/connection/model.js");return s.View.extend({attrs:{calendarUid:"data-calendar-uid",calendarAlias:"data-calendar-alias",color:"data-color",backgroundColor:"data-bg-color",visible:"data-visible"},selectors:{container:".calendars",itemContainer:".connection-container",item:".connection-item",lastItem:".connection-item:last",findItemByCalendar:function(e){return'.connection-item[data-calendar-uid="'+e+'"]'},newCalendarSelector:"#new_calendar",contextMenuTemplate:"#template-calendar-menu"},events:{'mouseover [data-role="connection-label"]':"onOverCalendarLabel",'mouseout [data-role="connection-label"]':"onOutCalendarLabel","shown.bs.dropdown":"onOpenDropdown","hide.bs.dropdown":"onHideDropdown"},constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){this.options=i.defaults(e||{},this.options),this.collection=this.collection||new l,this.collection.setCalendar(this.options.calendar),this.options.connectionsView=this,this.template=i.template(t(this.options.itemTemplateSelector).html()),this.contextMenuTemplate=i.template(t(this.selectors.contextMenuTemplate).html()),this.collection.each(this.onModelAdded.bind(this)),this.listenTo(this.collection,"add",this.onModelAdded),this.listenTo(this.collection,"change",this.onModelChanged),this.listenTo(this.collection,"destroy",this.onModelDeleted),this.$el.closest(this.selectors.container).find(this.selectors.newCalendarSelector).on("change",(e=>{const n=t(e.target).inputWidget("data");n&&(this.addModel(e.val,n.fullName,n.userId),t(e.target).inputWidget("val",""))}))},dispose:function(){this.disposed||(t(document).off("."+this.cid),s.View.prototype.dispose.call(this))},getCollection:function(){return this.collection},findItem:function(e){return this.$el.find(this.selectors.findItemByCalendar(e.get("calendarUid")))},onOpenDropdown:function(e){t(e.relatedTarget).addClass("visible")},onHideDropdown:function(e){t(e.relatedTarget).removeClass("visible")},onOverCalendarLabel:function(e){t(e.currentTarget).find('[data-role="color-checkbox"]').trigger("focus")},onOutCalendarLabel:function(e){t(e.currentTarget).find('[data-role="color-checkbox"]').trigger("blur")},setItemVisibility:function(e,t){const n=e.find('[data-role="color-checkbox"]'),i=this.options.colorManager.getCalendarColors(e.attr(this.attrs.calendarUid));e.attr(this.attrs.visible,t.length?"true":"false").attr(this.attrs.backgroundColor,t||i.backgroundColor).attr(this.attrs.color,t?this.options.colorManager.getContrastColor(t):i.color),n.css({"--checkbox-skin-color":t||i.backgroundColor}).find('[data-role="color-checkbox"]').prop("checked",t.length).trigger("focus")},onModelAdded:function(e){const n=e.toJSON();this.options.colorManager.applyColors(n,(()=>{const e=this.$el.find(this.selectors.lastItem),t=e.attr(this.attrs.calendarAlias);return-1!==["user","system","public"].indexOf(t)?e.attr(this.attrs.backgroundColor):null})),this.options.colorManager.setCalendarColors(n.calendarUid,n.backgroundColor),e.set("backgroundColor",n.backgroundColor);const s=t(this.template(n));i.each(this.attrs,((e,t)=>{s.attr(e,n[t])})),s.on("shown.bs.dropdown",function(n){this.showContextMenu(t(n.currentTarget),e)}.bind(this)),this.$el.find(this.selectors.itemContainer).append(s),this._addVisibilityButtonEventListener(this.findItem(e),e),e.get("visible")&&this.trigger("connectionAdd",e),this.$el.trigger("content:changed")},onModelChanged:function(e){this.options.colorManager.setCalendarColors(e.get("calendarUid"),e.get("backgroundColor")),this.trigger("connectionChange",e)},onModelDeleted:function(e){this.options.colorManager.removeCalendarColors(e.get("calendarUid")),this.findItem(e).remove(),this.trigger("connectionRemove",e)},showCalendar:function(e){this._showItem(e,!0)},hideCalendar:function(e){this._showItem(e,!1)},toggleCalendar:function(e){e.get("visible")?this.hideCalendar(e):this.showCalendar(e)},showContextMenu:function(e,n){const s=e.find("[data-toggle=dropdown]"),r=e.find('[data-role="connection-menu-content"]');let o=t(this.contextMenuTemplate(n.toJSON()));const l=i.uniq(o.find("li[data-module]").map((function(){return t(this).data("module")})).get());let c;if(l.length>0){c=setTimeout((()=>{r.html('<span class="loading-indicator"></span>')}),100);const t=function(){o=null};e.one("hide.bs.dropdown",t),a(i.object(l,l),(function(a){clearTimeout(c),e.off("hide.bs.dropdown",t),null!==o&&(i.each(a,((e,t)=>{o.find('li[data-module="'+t+'"]').each(((t,i)=>{const s=new e({el:i,model:n,collection:this.options.collection,connectionsView:this.options.connectionsView,colorManager:this.options.colorManager});s.$el.one("click",".action",(()=>{this._initActionSyncObject()&&s.execute(n,this._actionSyncObject)}))}))})),r.html(o),s.dropdown("update"))}),this)}},addModel:function(e,t,n){let i,s;const a="user",l=a+"_"+e;if(this.$el.find(this.selectors.findItemByCalendar(l)).length>0)o.notificationFlashMessage("warning",r("oro.calendar.flash_message.calendar_already_exists"),{namespace:"calendar-ns"});else{i=o.notificationMessage("warning",r("oro.calendar.flash_message.calendar_adding"));try{s=new c({targetCalendar:this.options.calendar,calendarName:t,calendarAlias:a,calendar:e,calendarUid:l,userId:n}),this.collection.create(s,{wait:!0,success:()=>{i.close(),o.notificationFlashMessage("success",r("oro.calendar.flash_message.calendar_added"),{namespace:"calendar-ns"})},error:(e,t)=>{i.close(),this.showAddError(t.responseJSON||{})}})}catch(e){i.close(),this.showMiscError(e)}}},showAddError:function(e){this._showError(r("Sorry, the calendar addition has failed."),e)},showUpdateError:function(e){this._showError(r("Sorry, the calendar update has failed."),e)},showMiscError:function(e){this._showError(r("Sorry, an unexpected error has occurred."),e)},_showError:function(e,t){o.showErrorMessage(e,t)},_showItem:function(e,t){const n=o.notificationMessage("warning",r("oro.calendar.flash_message.calendar_updating")),i=this.findItem(e);this._removeVisibilityButtonEventListener(i,e),this.setItemVisibility(i,t?e.get("backgroundColor"):"");try{e.save("visible",t,{wait:!0,success:()=>{n.close(),o.notificationFlashMessage("success",r("oro.calendar.flash_message.calendar_updated"),{namespace:"calendar-ns"}),this._addVisibilityButtonEventListener(i,e),this._actionSyncObject&&this._actionSyncObject.resolve()},error:(e,s)=>{n.close(),this.showUpdateError(s.responseJSON||{}),this._addVisibilityButtonEventListener(i,e),this.setItemVisibility(i,t?"":e.get("backgroundColor")),this._actionSyncObject&&this._actionSyncObject.reject()}})}catch(s){n.close(),this.showMiscError(s),this._addVisibilityButtonEventListener(i,e),this.setItemVisibility(i,t?"":e.get("backgroundColor")),this._actionSyncObject&&this._actionSyncObject.reject()}},_addVisibilityButtonEventListener:function(e,t){e.find('[data-role="connection-label"]').on("click."+this.cid,(()=>{this._initActionSyncObject()&&this.toggleCalendar(t)}))},_removeVisibilityButtonEventListener:function(e,t){e.off("."+this.cid)},_initActionSyncObject:function(){return!this._actionSyncObject&&(this._actionSyncObject=t.Deferred(),this._actionSyncObject.always((()=>{delete this._actionSyncObject})),!0)}})}.call(t,n,t,e))||(e.exports=i)},"./bundles/orocalendar/js/calendar/event-decorator.js":(e,t,n)=>{var i,s;i=[n("./bundles/oroui/js/extend/underscore.js"),n("./bundles/orotranslation/js/translator.js")],void 0===(s=function(e,t){"use strict";return{templates:{reminderIcon:'<span class="reminder-status fa-bell-o" title="'+e.escape(t("Reminders"))+'"></span>',notRespondedIcon:'<span class="invitation-status fa-reply" title="'+e.escape(t("Not responded"))+'"></span>',tentativeIcon:'<span class="invitation-status fa-question-circle" title="'+e.escape(t("Tentatively accepted"))+'"></span>',acceptedIcon:'<span class="invitation-status fa-check" title="'+e.escape(t("Accepted"))+'"></span>'},decorate:function(t,n){const i=n.find(".fc-content");let s=n.find(".fc-time");const r=t.get("reminders"),o=t.getInvitationStatus();switch(s.length||(s=i),r&&e.keys(r).length?n.prepend(this.templates.reminderIcon):n.find(".reminder-status").remove(),o){case"none":s.prepend(this.templates.notRespondedIcon);break;case"accepted":s.prepend(this.templates.acceptedIcon);break;case"tentative":s.prepend(this.templates.tentativeIcon);break;case"declined":i.addClass("invitation-status-declined");break;default:i.find(".invitation-status").remove(),i.removeClass("invitation-status-declined"),t._isInvitationIconAdded=!1}}}}.apply(t,i))||(e.exports=s)},"./bundles/orocalendar/js/calendar/event/action-target-select-view.js":(e,t,n)=>{var i;void 0===(i=function(e){"use strict";const t=n("./bundles/oroui/js/extend/underscore.js"),i=n("./bundles/oroui/js/app/views/base/view.js").extend({template:n("../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orocalendar/templates/calendar/event/action-target-select.html"),actionType:null,restrictOnlyThisEventAction:null,constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){e=t.defaults(e,{restrictOnlyThisEventAction:!1}),this.actionType=e.actionType,this.restrictOnlyThisEventAction=e.restrictOnlyThisEventAction,i.__super__.initialize.call(this,e)},getTemplateData:function(){const e=i.__super__.getTemplateData.call(this);return e.actionType=this.actionType,e.restrictOnlyThisEventAction=this.restrictOnlyThisEventAction,e},getValue:function(){return this.$el.find('[name="action-target"]:checked').val()}});return i}.call(t,n,t,e))||(e.exports=i)},"./bundles/orocalendar/js/calendar/event/collection.js":(e,t,n)=>{var i,s;i=[n("./bundles/oroui/js/extend/backbone.js"),n("./bundles/fosjsrouting/js/router.js"),n("./bundles/orocalendar/js/calendar/event/model.js")],void 0===(s=function(e,t,n){"use strict";return e.Collection.extend({route:"oro_api_get_calendarevents",url:null,model:n,calendar:null,subordinate:!1,constructor:function e(...t){e.__super__.constructor.apply(this,t)},setRange:function(e,n){this.url=t.generate(this.route,{calendar:this.calendar,start:e,end:n,subordinate:this.subordinate})},setCalendar:function(e){this.calendar=e},getCalendar:function(){return this.calendar}})}.apply(t,i))||(e.exports=s)},"./bundles/orocalendar/js/calendar/event/model.js":(e,t,n)=>{var i;void 0===(i=function(e){"use strict";const t=n("./bundles/oroui/js/extend/underscore.js"),i=n("./bundles/fosjsrouting/js/router.js"),s=n("./bundles/orolocale/js/moment-l10n.js"),r=n("./bundles/oroui/js/app/models/base/model.js").extend({route:"oro_api_get_calendarevents",urlRoot:null,originalId:null,defaults:{id:null,title:null,description:null,start:null,end:null,allDay:!1,backgroundColor:null,reminders:{},parentEventId:null,invitationStatus:null,attendees:null,editable:!1,editableInvitationStatus:!1,removable:!1,calendarAlias:null,calendar:null,calendarUid:null,recurrence:null,recurrencePattern:null,recurringEventId:null,originalStart:null,isCancelled:null,updateExceptions:!0,notifyAttendees:"all"},constructor:function e(t,n){e.__super__.constructor.call(this,t,n)},initialize:function(){this.urlRoot=i.generate(this.route),this._updateComputableAttributes(),this.on("change:id change:calendarAlias change:calendar",this._updateComputableAttributes,this)},url:function(){const e=this.get(this.idAttribute);this.set(this.idAttribute,this.originalId,{silent:!0});const t=r.__super__.url.call(this);return this.set(this.idAttribute,e,{silent:!0}),t},save:function(e,n,i){let s;null==e||"object"==typeof e?(s=e||{},i=n):(s={},s[e]=n);const o=["id","editable","editableInvitationStatus","removable","calendarUid","parentEventId","invitationStatus","recurrencePattern","durationEditable","startEditable","isOrganizer","organizerUserId"];null!==this.get("recurringEventId")&&o.push("recurrence");const a=t.extend({id:this.originalId},t.omit(this.toJSON(),o),s||{});a.attendees=t.map(a.attendees,t.partial(t.pick,t,"displayName","email","status","type")),i.contentType="application/json",i.data=JSON.stringify(a),r.__super__.save.call(this,s,i)},_updateComputableAttributes:function(){const e=this.get("calendarAlias"),t=this.get("calendar"),n=e&&t?e+"_"+t:null;if(this.set("calendarUid",n),this.originalId||this.isNew()||!n||(this.originalId=this.id,this.set("id",n+"_"+this.originalId,{silent:!0})),this.get("recurrence")&&!this.isNew()){const e=new Date(this.get("start"));this.set("id",this.id+"_"+e.getTime(),{silent:!0})}},validate:function(e){const t=[];return s(e.end).diff(e.start)<0&&t.push("oro.calendar.error_message.event_model.end_date_earlier_than_start"),t.length?t:null},getInvitationStatus:function(){const e=this.get("invitationStatus");return""===e?null:e}});return r}.call(t,n,t,e))||(e.exports=i)},"./bundles/orocalendar/js/calendar/event/recurrence/abstract-recurrence-subview.js":(e,t,n)=>{var i;void 0===(i=function(e){"use strict";const t=n("./bundles/oroui/js/extend/underscore.js"),i=n("./bundles/oroui/js/extend/jquery.js"),s=n("./bundles/oroui/js/app/views/base/view.js").extend({_isEnabled:!0,events:{"change :input[data-related-field]":"updateModel"},constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){if("relatedFields"in this==0)throw new Error('Property "relatedFields" should be declare in successor class');"enabled"in e&&(this._isEnabled=Boolean(e.enabled)),s.__super__.initialize.call(this,e)},getTemplateData:function(){const e=s.__super__.getTemplateData.call(this);return this._isEnabled||t.extend(e,this.getDefaultValues()),e},dataInputs:function(){return this.findDataInputs(this.$el)},findDataInputs:function(e){return e.find(":input[data-related-field]").filter(((e,n)=>t.contains(this.relatedFields,i(n).attr("data-related-field"))))},getValue:function(){const e=this.getDefaultValues();return this.dataInputs().each((function(){e[i(this).data("related-field")]=i(this).val()||null})),e},getDefaultValues:function(){return t.mapObject(t.pick(this.model.defaults,this.relatedFields),t.clone)},updateModel:function(){this.model.set(this.getValue())},resetModel:function(){this.model.set(this.getDefaultValues())},enable:function(){this.$el.show(),this.updateModel(),this._isEnabled=!0},disable:function(){this.resetModel(),this.$el.hide(),this._isEnabled=!1},isEnabled:function(){return this._isEnabled}});return s}.call(t,n,t,e))||(e.exports=i)},"./bundles/orocalendar/js/calendar/event/recurrence/event-recurrence-model.js":(e,t,n)=>{var i;void 0===(i=function(e){"use strict";const t=n("./bundles/oroui/js/extend/underscore.js"),i=n("./bundles/orolocale/js/locale-settings.js"),s=i.getCalendarDayOfWeekNames("mnemonic",!0);return n("./bundles/oroui/js/app/models/base/model.js").extend({RECURRENCE_TYPES:["daily","weekly","monthly","monthnth","yearly","yearnth"],RECURRENCE_INSTANCE:{1:"first",2:"second",3:"third",4:"fourth",5:"last"},RECURRENCE_DAYOFWEEK:s,RECURRENCE_WEEKDAYS:s.slice(1,6),RECURRENCE_WEEKENDS:[s[0],s[6]],RECURRENCE_MONTHS:i.getCalendarMonthNames("wide"),defaults:{recurrenceType:null,interval:1,instance:null,dayOfWeek:[],dayOfMonth:null,monthOfYear:null,startTime:null,endTime:null,occurrences:null,timeZone:i.getTimeZone()},constructor:function e(...t){e.__super__.constructor.apply(this,t)},isEmptyRecurrence:function(){return-1===this.RECURRENCE_TYPES.indexOf(this.get("recurrenceType"))},isEqual:function(e){e=t.mapObject(e,this._fieldCast);const n=t.mapObject(this.attributes,this._fieldCast);return t.isEqual(e,n)},_fieldCast:function(e,n){return"dayOfWeek"===n?t.sortBy(e):t.contains(["interval","instance","dayOfMonth","monthOfYear","occurences"],n)?Number(e)||null:e}})}.call(t,n,t,e))||(e.exports=i)},"./bundles/orocalendar/js/calendar/event/recurrence/event-recurrence-view.js":(e,t,n)=>{var i;void 0===(i=function(e){"use strict";const t=n("./bundles/oroui/js/extend/underscore.js"),i=n("./bundles/orotranslation/js/translator.js"),s=n("../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orocalendar/templates/calendar/event/recurrence/recurrence.html"),r=n("../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orocalendar/templates/calendar/event/recurrence/recurrence-origin-values.html"),o=n("./bundles/oroui/js/app/views/base/view.js"),a=n("./bundles/orocalendar/js/calendar/event/recurrence/recurrence-ends-view.js"),l=n("./bundles/orocalendar/js/calendar/event/recurrence/recurrence-summary-view.js"),c=n("./bundles/orocalendar/js/calendar/event/recurrence/recurrence-daily-view.js"),d=n("./bundles/orocalendar/js/calendar/event/recurrence/recurrence-weekly-view.js"),u=n("./bundles/orocalendar/js/calendar/event/recurrence/recurrence-monthly-view.js"),h=n("./bundles/orocalendar/js/calendar/event/recurrence/recurrence-yearly-view.js"),p=o.extend({RECURRENCE_REPEATS:{daily:"daily",weekly:"weekly",monthly:"monthly",monthnth:"monthly",yearly:"yearly",yearnth:"yearly"},RECURRENCE_REPEAT_VIEWS:{daily:c,weekly:d,monthly:u,yearly:h},inputNamePrefixes:"",errors:null,_isCompletelyRendered:!1,_initModelData:null,template:s,events:{'change [data-name="recurrence-repeat"]':"onRecurrenceToggle",'change [data-name="recurrence-repeats"]':"onRepeatsChange"},listen:{"change model":"onModelChange"},constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){t.extend(this,t.pick(e,"inputNamePrefixes","errors")),this._initModelData=this.model.toJSON(),p.__super__.initialize.call(this,e),this.model.isEmptyRecurrence()&&this.syncRecurrenceStart()},delegateEvents:function(e){p.__super__.delegateEvents.call(this,e);const t=this.$el.closest("form");return this.$eventStart=t.find('[data-name="field__start"]'),this.$eventStart.on("change"+this.eventNamespace(),this.onEventStartChange.bind(this)),this.$eventEnd=t.find('[data-name="field__end"]'),this.$eventEnd.on("change"+this.eventNamespace(),this.onEventEndChange.bind(this)),this.$formParent=t.parent(),this.$formParent.on("change"+this.eventNamespace(),this.trigger.bind(this,"formChanged")),this.$formParent.on("submit"+this.eventNamespace(),this.trigger.bind(this,"formSubmit")),this},undelegateEvents:function(){return p.__super__.undelegateEvents.call(this),this.$eventStart&&(this.$eventStart.off(this.eventNamespace()),delete this.$eventStart),this.$eventEnd&&(this.$eventEnd.off(this.eventNamespace()),delete this.$eventEnd),this.$formParent&&(this.$formParent.off(this.eventNamespace()),delete this.$formParent),this},getTemplateData:function(){const e=p.__super__.getTemplateData.call(this),n=this.getRepeatViewName(e.recurrenceType);return e.errors=this.errors,e.cid=this.cid,e.repeatsOptions=t.map(t.keys(this.RECURRENCE_REPEAT_VIEWS),(function(e){return{value:e,label:i("oro.calendar.event.recurrence.repeat."+e),selected:e===n}})),e},render:function(){return p.__super__.render.call(this),this.model.isEmptyRecurrence()||(delete this._isCompletelyRendered,this.renderSubviews()),this.renderOriginValues(),this.$el.trigger("content:changed"),this},renderSubviews:function(){const e=this.getRepeatViewName(this.model.get("recurrenceType"))||t.keys(this.RECURRENCE_REPEAT_VIEWS)[0];t.each(this.RECURRENCE_REPEAT_VIEWS,(function(t,n){const i=this.findElement(n).hide();this.subview(n,new t({enabled:e===n,autoRender:!0,el:i,model:this.model}))}),this),this.subview("ends",new a({autoRender:!0,el:this.findElement("ends"),model:this.model,minDatetime:this.$eventEnd.val()})),this.subview("summary",new l({autoRender:!0,el:this.findElement("summary"),model:this.model})),this.switchRepeatView(e),this._isCompletelyRendered=!0},getOriginValuesTemplateData:function(){const e=p.__super__.getTemplateData.call(this);return e.inputNamePrefixes=this.inputNamePrefixes,e.recurrenceTypeOptions=t.map(this.model.RECURRENCE_TYPES,(function(t){return{value:t,label:t,selected:e.recurrenceType===t}})),e.instanceOptions=t.map(this.model.RECURRENCE_INSTANCE,(function(t,n){return{value:n,label:i("oro.calendar.event.recurrence.instance."+t),selected:Number(e.instance)===Number(n)}})),e.dayOfWeekOptions=t.map(this.model.RECURRENCE_DAYOFWEEK,(function(t){return{value:t,label:t,selected:-1!==e.dayOfWeek.indexOf(t)}})),this.$el.inputWidget("seekAndCreate"),e},renderOriginValues:function(){let e;e=!this.model.isEmptyRecurrence()&&this.findElement("repeat").is(":checked")?r(this.getOriginValuesTemplateData()):'<input name="'+this.inputNamePrefixes+'" value="" />',this.findElement("origin-values").html(e),this.$el.inputWidget("seekAndCreate")},findElement:function(e){return this.$('[data-name="recurrence-'+e+'"]')},onRecurrenceToggle:function(e){const t=e.target.checked;this._isCompletelyRendered||this.renderSubviews(),this.findElement("settings").toggle(t),this.updateWarning(),this.renderOriginValues(),this.toggleEventReminders(!t),this.$el.trigger("content:changed")},onRepeatsChange:function(e){const t=e.target.value;this.switchRepeatView(t)},onModelChange:function(e){this.updateWarning(),this.renderOriginValues(),this.$el.trigger("content:changed")},onEventStartChange:function(){this.syncRecurrenceStart()},updateWarning:function(){let e=null;this._initModelData.recurrenceType&&(this.$('[data-name="recurrence-repeat"]').is(":checked")?this.model.isEqual(this._initModelData)||(e=i("oro.calendar.event.recurrence.warning.removing-all-exceptions")):e=i("oro.calendar.event.recurrence.warning.removing-all-series")),this.setWarning(e)},onEventEndChange:function(){const e=this.subview("ends");e&&e.syncRecurrenceEnd(this.$eventEnd.val())},syncRecurrenceStart:function(){this.model.set("startTime",this.$eventStart.val())},switchRepeatView:function(e){t.each(t.keys(this.RECURRENCE_REPEAT_VIEWS),(function(t){const n=this.subview(t);n.isEnabled()&&e!==t&&n.disable()}),this),this.subview(e).enable()},getRepeatViewName:function(e){return this.RECURRENCE_REPEATS[e]},setWarning:function(e){e?this.findElement("warning").html(e).show():this.findElement("warning").hide()},toggleEventReminders:function(e){const t=this.$el.closest("form").find('[name$="[reminders]"]').closest(".control-group");t.find(':input[name*="[reminders]"]').each((function(){this.disabled=!e})),t.toggle(e)}});return p}.call(t,n,t,e))||(e.exports=i)},"./bundles/orocalendar/js/calendar/event/recurrence/recurrence-daily-view.js":(e,t,n)=>{var i;void 0===(i=function(e){"use strict";const t=n("./bundles/orocalendar/js/calendar/event/recurrence/switchable-recurrence-subview.js").extend({template:n("../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orocalendar/templates/calendar/event/recurrence/recurrence-daily.html"),relatedFields:["recurrenceType","interval","dayOfWeek"],constructor:function e(t){e.__super__.constructor.call(this,t)},getTemplateData:function(){const e=t.__super__.getTemplateData.call(this);return e.weekDays=this.model.RECURRENCE_DAYOFWEEK.slice(1,6),e}});return t}.call(t,n,t,e))||(e.exports=i)},"./bundles/orocalendar/js/calendar/event/recurrence/recurrence-ends-view.js":(e,t,n)=>{var i;void 0===(i=function(e){"use strict";const t=n("./bundles/oroui/js/extend/underscore.js"),i=n("./bundles/orotranslation/js/translator.js"),s=n("./bundles/orolocale/js/moment-l10n.js"),r=n("./bundles/oroui/js/app/views/datepicker/datetimepicker-view.js"),o=n("./bundles/orocalendar/js/calendar/event/recurrence/switchable-recurrence-subview.js").extend({template:n("../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orocalendar/templates/calendar/event/recurrence/recurrence-ends.html"),relatedFields:["occurrences","endTime"],minDatetime:null,constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){t.extend(this,t.pick(e,"minDatetime")),o.__super__.initialize.call(this,e)},render:function(){return o.__super__.render.call(this),this.setMinDatetime(this.minDatetime),this.subview("date-time-picker-view",new r({el:this.$('[data-related-field="endTime"]'),dateInputAttrs:{placeholder:i("oro.form.choose_date"),class:"datepicker-input","data-validation":JSON.stringify({Date:{}})},timeInputAttrs:{placeholder:i("oro.form.choose_time"),class:"timepicker-input","data-validation":JSON.stringify({Time:{}})},datePickerOptions:{altFormat:"yy-mm-dd",changeMonth:!0,changeYear:!0,yearRange:"-1:+80",showButtonPanel:!0,minDate:new Date(this.minDatetime)}})),this},setMinDatetime:function(e){this.$('[data-related-field="endTime"]').attr("data-validation",JSON.stringify({})).data("validation",{DateTime:{min:e},NotBlank:{}});const t=this.subview("date-time-picker-view");t&&t.setMinValue(new Date(e))},syncRecurrenceEnd:function(e){const t=this.subview("date-time-picker-view"),n=t.getOriginalMoment(),i=s.utc(e,t.backendFormat,!0);i&&n&&n.diff(i)<0&&t.setValue(e),this.setMinDatetime(e)},setInputsDisabled:function(e,t){o.__super__.setInputsDisabled.call(this,e,t);const n=this.subview("date-time-picker-view");n&&-1!==e.index(n.$el)&&n.setDisabled(t)}});return o}.call(t,n,t,e))||(e.exports=i)},"./bundles/orocalendar/js/calendar/event/recurrence/recurrence-monthly-view.js":(e,t,n)=>{var i;void 0===(i=function(e){"use strict";const t=n("./bundles/oroui/js/extend/underscore.js"),i=n("./bundles/orotranslation/js/translator.js"),s=n("./bundles/oroui/js/extend/jquery.js"),r=n("./bundles/orolocale/js/locale-settings.js"),o=n("./bundles/orocalendar/js/calendar/event/recurrence/abstract-recurrence-subview.js").extend({template:n("../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orocalendar/templates/calendar/event/recurrence/recurrence-monthly.html"),relatedFields:["recurrenceType","interval","instance","dayOfWeek","dayOfMonth"],events:{'change [data-related-field="instance"]':"onInstanceChange"},listen:{"change model":"onModelChange"},constructor:function e(t){e.__super__.constructor.call(this,t)},getTemplateData:function(){const e=o.__super__.getTemplateData.call(this);e.repeatOnOptions=t.map(this.model.RECURRENCE_INSTANCE,(function(t,n){return{value:n,text:t,selected:Number(n)===Number(e.instance)}}));const n=t.object(r.getSortedDayOfWeekNames("mnemonic"),r.getSortedDayOfWeekNames("wide"));return e.dayOfWeekOptions=t.map(n,(function(e,t){return{value:t,text:e}})),e.groupWeekDayOptions=[{value:"day",text:"day",selected:t.haveEqualSet(this.model.RECURRENCE_DAYOFWEEK,e.dayOfWeek)},{value:"weekday",text:"weekday",selected:t.haveEqualSet(this.model.RECURRENCE_WEEKDAYS,e.dayOfWeek)},{value:"weekend-day",text:"weekend-day",selected:t.haveEqualSet(this.model.RECURRENCE_WEEKENDS,e.dayOfWeek)}],e},render:function(){return o.__super__.render.call(this),this.updateControlBlocksState(),this},setFewerDaysWarning:function(e){e?this.$('[data-name="recurrence-fewer-days-warning"]').html(i("oro.calendar.event.recurrence.warning.some-months-have-fewer-days",{number:e})).show():this.$('[data-name="recurrence-fewer-days-warning"]').hide()},onInstanceChange:function(e){this.updateControlBlocksState()},updateControlBlocksState:function(){const e=!this.$('[data-related-field="instance"]').val();this.$el.toggleClass("repeat-day-visible",e),this.$el.toggleClass("repeat-instance-visible",!e),this.$('[data-name="repeat-on-day"]').toggle(e),this.$('[data-name="repeat-on-instance"]').toggle(!e)},dataInputs:function(){const e=o.__super__.dataInputs.call(this),t=this.$('[data-related-field="instance"]').val()?this.$('[data-name="repeat-on-day"]'):this.$('[data-name="repeat-on-instance"]');return e.filter((function(e,n){return!s.contains(t[0],n)}))},onModelChange:function(){const e=Number(this.model.get("dayOfMonth"));!this.model.get("instance")&&e>=29&&e<=31?this.setFewerDaysWarning(e):this.setFewerDaysWarning(!1)},getValue:function(){const e=o.__super__.getValue.call(this);return"weekday"===e.dayOfWeek?e.dayOfWeek=t.clone(this.model.RECURRENCE_WEEKDAYS):"weekend-day"===e.dayOfWeek?e.dayOfWeek=t.clone(this.model.RECURRENCE_WEEKENDS):"day"===e.dayOfWeek?e.dayOfWeek=t.clone(this.model.RECURRENCE_DAYOFWEEK):e.dayOfWeek&&!t.isArray(e.dayOfWeek)&&(e.dayOfWeek=[e.dayOfWeek]),e}});return o}.call(t,n,t,e))||(e.exports=i)},"./bundles/orocalendar/js/calendar/event/recurrence/recurrence-summary-view.js":(e,t,n)=>{var i;void 0===(i=function(e){"use strict";const t=n("./bundles/oroui/js/extend/underscore.js"),i=n("./bundles/orotranslation/js/translator.js"),s=n("./bundles/orolocale/js/locale-settings.js"),r=n("./bundles/orolocale/js/moment-l10n.js"),o=n("./bundles/orolocale/js/formatter/datetime.js"),a=n("./bundles/oroui/js/app/views/base/view.js").extend({daysTranslationCache:{},template:n("../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orocalendar/templates/calendar/event/recurrence/recurrence-summary.html"),listen:{"change model":"render"},constructor:function e(t){e.__super__.constructor.call(this,t)},getTemplateData:function(){let e=a.__super__.getTemplateData.call(this);if(null!==e.recurrenceType){const n=r(e.startTime).tz(e.timeZone),i=r(e.startTime).tz(s.getTimeZone());n.format("dm")!==i.format("dm")&&(e.timezone_offset=n.format("Z")),Number(e.interval)>0&&(e.count=e.interval),e.endTime&&(e.formattedEndTime=o.formatDate(e.endTime)),e.occurrences&&(e.occurrences=Number(e.occurrences)||"..."),0!==e.dayOfWeek.length&&(e.day=t.map(e.dayOfWeek,(e=>this._translateDayOfWeek(e,"wide"))).join(", "));const a="process"+t.capitalize(e.recurrenceType)+"RecurrenceData";a in this&&t.isFunction(this[a])&&(e=this[a](e)),t.defaults(e,{exclusion:null,count:"...",day:"...",timezone_offset:null})}return e},processWeeklyRecurrenceData:function(e){return"weekday"===this._getPresetDaysValue(e.dayOfWeek)&&1===Number(e.interval)&&(e.exclusion="weekday"),e},processMonthlyRecurrenceData:function(e){return Number(e.dayOfMonth)>0&&(e.day=e.dayOfMonth),e},processMonthnthRecurrenceData:function(e){const t=this._getPresetDaysValue(e.dayOfWeek);return null!==t&&(e.day=i("oro.calendar.event.recurrence.days."+t)),e.instance=i("oro.calendar.event.recurrence.instance."+this.model.RECURRENCE_INSTANCE[e.instance]).toLowerCase(),e},processYearlyRecurrenceData:function(e){if(Number(e.interval)>=12&&(e.count=Math.floor(e.interval/12)),Number(e.dayOfMonth)>0){const t=Number(new Date(new Date(e.startTime).getFullYear(),e.monthOfYear,0).getDate()),n=Number(e.dayOfMonth)>t?t:Number(e.dayOfMonth),i=new Date(e.startTime).getFullYear(),s=e.monthOfYear,a=r(i.toString()+"-"+s.toString()+"-"+n.toString(),"YYYY-M-D");e.day=a.format(o.getDayFormat())}return e},processYearnthRecurrenceData:function(e){e=this.processMonthnthRecurrenceData(e);const t=s.getCalendarMonthNames("wide");return Number(e.interval)>=12&&(e.count=Math.floor(e.interval/12)),e.month=t[e.monthOfYear],e},_getPresetDaysValue:function(e){return 7===e.length?"day":t.haveEqualSet(e,this.model.RECURRENCE_WEEKDAYS)?"weekday":t.haveEqualSet(e,this.model.RECURRENCE_WEEKENDS)?"weekend":null},_translateDayOfWeek:function(e,n){return n=n||"wide",this.daysTranslationCache.hasOwnProperty(n)||(this.daysTranslationCache[n]=t.object(this.model.RECURRENCE_DAYOFWEEK,s.getCalendarDayOfWeekNames(n,!0))),this.daysTranslationCache[n][e]}});return a}.call(t,n,t,e))||(e.exports=i)},"./bundles/orocalendar/js/calendar/event/recurrence/recurrence-weekly-view.js":(e,t,n)=>{var i;void 0===(i=function(e){"use strict";const t=n("./bundles/oroform/js/app/views/week-day-picker-view.js"),i=n("./bundles/orocalendar/js/calendar/event/recurrence/abstract-recurrence-subview.js").extend({template:n("../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orocalendar/templates/calendar/event/recurrence/recurrence-weekly.html"),relatedFields:["recurrenceType","interval","dayOfWeek"],constructor:function e(t){e.__super__.constructor.call(this,t)},render:function(){const e=this.getTemplateData();return i.__super__.render.call(this),this.subview("week-day-picker",new t({autoRender:!0,el:this.$('[data-name="recurrence-week-day-picker"]'),value:e.dayOfWeek,selectAttrs:{"data-related-field":"dayOfWeek",name:"recurrence[dayOfWeek]"}})),this},getValue:function(){const e=i.__super__.getValue.call(this);return e.dayOfWeek=this.subview("week-day-picker").getValue(),e}});return i}.call(t,n,t,e))||(e.exports=i)},"./bundles/orocalendar/js/calendar/event/recurrence/recurrence-yearly-view.js":(e,t,n)=>{var i;void 0===(i=function(e){"use strict";const t=n("./bundles/oroui/js/extend/underscore.js"),i=n("./bundles/orocalendar/js/calendar/event/recurrence/recurrence-monthly-view.js").extend({template:n("../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orocalendar/templates/calendar/event/recurrence/recurrence-yearly.html"),relatedFields:["recurrenceType","interval","instance","dayOfWeek","dayOfMonth","monthOfYear"],constructor:function e(t){e.__super__.constructor.call(this,t)},getTemplateData:function(){const e=i.__super__.getTemplateData.call(this);return e.interval&&e.interval>=12&&(e.interval/=12),e.monthsOptions=t.map(this.model.RECURRENCE_MONTHS,(function(t,n){return{value:n,text:t,selected:Number(n)===Number(e.monthOfYear)}})),e},onModelChange:function(e){const t=this.model.get("instance")?null:Number(this.model.get("dayOfMonth")),n=Number(this.model.get("monthOfYear")),i=this._daysInMonth(n),s=this.$('[data-related-field="dayOfMonth"]');(e.hasChanged("monthOfYear")||e.hasChanged("startTime"))&&(s.data("validation").Number.max=i,s.val()&&s.trigger("blur")),2===n&&29===t&&t===i?this.setFewerDaysWarning(t):this.setFewerDaysWarning(!1)},_daysInMonth:function(e){const t=new Date(this.model.get("startTime")).getFullYear();return new Date(t,e,0).getDate()},getValue:function(){const e=i.__super__.getValue.call(this);return e.interval&&(e.interval*=12),e}});return i}.call(t,n,t,e))||(e.exports=i)},"./bundles/orocalendar/js/calendar/event/recurrence/switchable-recurrence-subview.js":(e,t,n)=>{var i;void 0===(i=function(e){"use strict";const t=n("./bundles/oroui/js/extend/jquery.js"),i=n("./bundles/orocalendar/js/calendar/event/recurrence/abstract-recurrence-subview.js").extend({RADIOBUTTON_SELECTOR:'[data-role="control-section-switcher"] input[type="radio"]',SECTION_SELECTOR:'[data-role="control-section-switcher"]',events:{'change [data-role="control-section-switcher"] input[type="radio"]':"onSectionSwitch",'mousedown [data-role="control-section-switcher"]':"onSectionSwitchMousedown"},constructor:function(e){i.__super__.constructor.call(this,e)},onSectionSwitchMousedown:function(e){const t=this.$(e.target).closest(this.SECTION_SELECTOR).find('input[type="radio"]');this.$("input[type=radio]").not(t).prop("checked",!1),t.prop("checked",!0).trigger("change")},onSectionSwitch:function(e){this.$("input[type=radio]").not(e.target).prop("checked",!1),this.updateControlSectionsState(),this.updateModel()},updateControlSectionsState:function(){this.$('[data-name="control-sections"]').children().each(((e,n)=>{const i=t(n),s=!i.find(this.RADIOBUTTON_SELECTOR).prop("checked");this.setInputsDisabled(this.findDataInputs(i),s)}))},setInputsDisabled:function(e,t){e.prop("disabled",t).trigger(t?"disabled":"enabled")},render:function(){return i.__super__.render.call(this),this.updateControlSectionsState(),this},dataInputs:function(){const e=this.$(this.RADIOBUTTON_SELECTOR+":checked").closest('[data-name="control-sections"] > *');return this.findDataInputs(e)}});return i}.call(t,n,t,e))||(e.exports=i)},"./bundles/orocalendar/js/calendar/event/view.js":(e,t,n)=>{var i;void 0===(i=function(e){"use strict";const t=n("./bundles/oroui/js/extend/jquery.js"),i=n("./bundles/oroui/js/extend/underscore.js"),s=n("./bundles/oroui/js/app/views/base/view.js"),r=n("./bundles/orotranslation/js/translator.js"),o=n("./bundles/fosjsrouting/js/router.js"),a=n("./bundles/orowindows/js/widget/dialog-widget.js"),l=n("./bundles/oroui/js/mediator.js"),c=n("./bundles/oroui/js/app/views/loading-mask-view.js"),d=n("./bundles/orocalendar/js/form-validation.js"),u=n("./bundles/oroui/js/delete-confirmation.js"),h=n("./bundles/oroform/js/formatter/field.js"),p=n("./bundles/oroactivity/js/app/components/activity-context-activity-component.js"),f=n("../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orocalendar/templates/calendar/event/organizer.html"),g=s.extend({options:{calendar:null,commonEventBus:null,connections:null,colorManager:null,widgetRoute:null,widgetOptions:null,invitationStatuses:[],separator:"-|-"},selectors:{loadingMaskContent:".loading-content",backgroundColor:'input[name$="[backgroundColor]"]',calendarUid:'[name*="calendarUid"]',attendees:'input[name$="[attendees]"]',contexts:'input[name$="[contexts]"]'},predefinedAttrs:{isException:!1},userCalendarOnlyFields:[{fieldName:"reminders",emptyValue:{},selector:".reminders-collection"},{fieldName:"attendees",emptyValue:"",selector:'input[name$="[attendees]"]'}],constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){this.options=i.defaults(i.pick(e||{},i.keys(this.options)),this.options),this.viewTemplate=i.template(t(e.viewTemplateSelector).html()),this.template=i.template(t(e.formTemplateSelector).html()),this.setPredefinedAttrs({}),this.listenTo(this.model,"sync",this.onModelSave),this.listenTo(this.model,"destroy",this.onModelDelete),this.listenTo(l,"widget_success:attendee_status:change",this.onAttendeeStatusChange)},remove:function(){this._hideMask(),this.activityContext&&(this.activityContext.dispose(),delete this.activityContext),g.__super__.remove.call(this)},setPredefinedAttrs:function(e){this.predefinedAttrs=i.extend(Object.create(g.prototype.predefinedAttrs),e)},onModelSave:function(){this.trigger("addEvent",this.model),this.eventDialog.remove()},onModelDelete:function(){this.eventDialog.remove()},onAttendeeStatusChange:function(){this.eventDialog.remove()},render:function(){const e=this.options.widgetOptions||{},n={title:this.model.isNew()?r("Add New Event"):r("View Event"),stateEnabled:!1,incrementalPosition:!1,dialogOptions:i.defaults(e.dialogOptions||{},{modal:!0,resizable:!1,width:475,autoResize:!0,close:this.disposePageComponents.bind(this)}),initLayoutOptions:{model:this.model,commonEventBus:this.options.commonEventBus},submitHandler:this.onEventFormSubmit.bind(this)};return this.options.widgetRoute?(n.el=t("<div></div>"),n.url=o.generate(this.options.widgetRoute,{id:this.model.originalId}),n.type="Calendar"):(n.el=this.model.isNew()?this.getEventForm():this.getEventView(),this.setElement(n.el),this.model.isNew()&&(n.dialogOptions.width=1e3),n.loadingMaskEnabled=!1),this.eventDialog=new a(i.defaults(i.omit(e,["dialogOptions"]),n)),this.listenTo(this.eventDialog,"widgetRemove",this.dispose),this.listenTo(this.eventDialog,"widgetReady",this._hideMask),this.eventDialog.render(),this.eventDialog.getAction("delete","adopted",(e=>{e.on("click",this._onClickDeleteDialogAction.bind(this))})),this.eventDialog.getAction("edit","adopted",(e=>{e.on("click",this._onClickEditDialogAction.bind(this))})),this.loadingMask=new c({container:this.eventDialog.$el.closest(".ui-dialog")}),this.showLoadingMask(),this},_executePreAction:function(e){const n=[],s=this.eventDialog.widget.closest(".ui-dialog");return s.addClass("invisible"),this.options.commonEventBus.trigger("event:"+e,this.model,n,this.predefinedAttrs),t.when(...n).done(function(...e){const t=i.extend(...e);this.setPredefinedAttrs(t),s.removeClass("invisible")}.bind(this)).fail(this.eventDialog.remove.bind(this.eventDialog))},_onClickEditDialogAction:function(e){this._executePreAction("beforeEdit").then(this._onEditDialogAction.bind(this,e))},_onEditDialogAction:function(e){const t=this.getEventForm();t.wrapInner('<div data-layout="separate" />'),this.setElement(t.find(">*:first")),this.eventDialog.setTitle(r("Edit Event")),this.eventDialog.setContent(t),this.eventDialog.widget.dialog("option","width",1e3),this.eventDialog.getAction("delete","adopted",(e=>{e.on("click",this._onClickDeleteDialogAction.bind(this))})),this.showLoadingMask(),this.initLayout({model:this.model,commonEventBus:this.options.commonEventBus}).always(this._hideMask.bind(this))},_onClickDeleteDialogAction:function(e){this._executePreAction("beforeDelete").then(this._onDeleteDialogAction.bind(this,e))},_onDeleteDialogAction:function(e){const n=t(e.currentTarget),i=n.data("url"),s=n.data("message");this.model.get("recurrence")?this.predefinedAttrs.isException?(this.model.once("sync",(function(e){e.set({id:null}),e.originalId=e.get("recurringEventId"),e.destroy()}),this),this._saveEventFromData({})):(this.setPredefinedAttrs({}),this.deleteModel(i)):(this._confirmDeleteAction(s,this.deleteModel.bind(this,i)),e.preventDefault())},_confirmDeleteAction:function(e,t){this.model.get("recurringEventId")&&(e+="<br/>"+r("Only this particular event will be deleted from the series."));const n=new u({content:e});n.on("ok",t),n.open()},onEventFormSubmit:function(){this.eventDialog.$("form "+this.selectors.calendarUid).removeAttr("disabled"),this._saveEventFromData(this.getEventFormData())},_saveEventFromData:function(e){const t=this.model.toJSON();let n;if(this.options.commonEventBus.trigger("eventForm:fetchData",this.model,e,this.predefinedAttrs),this.model.set(e),this.model.isValid()){this.showSavingMask();try{this.model.save(null,{wait:!0,errorHandlerMessage:!1,success:this._onSaveEventSuccess.bind(this,t),error:this._handleResponseError.bind(this)})}catch(e){this.showError(e)}}else n=i.map(this.model.validationError,(function(e){return r(e)})),this.showError({errors:n})},_onSaveEventSuccess:function(e,t){(e.recurrence||t.get("recurrence"))&&this.options.commonEventBus.trigger("toRefresh")},deleteModel:function(e){this.showDeletingMask();try{const t={wait:!0,errorHandlerMessage:!1,error:this._handleResponseError.bind(this)};t.url=e?o.generate(e,{id:this.model.originalId}):this.model.url(),t.url+="?notifyAttendees=all",this.model.destroy(t)}catch(e){this.showError(e)}},showSavingMask:function(){this._showMask(r("Saving..."))},showDeletingMask:function(){this._showMask(r("Deleting..."))},showLoadingMask:function(){this._showMask(r("Loading..."))},_showMask:function(e){this.loadingMask&&this.loadingMask.show(e)},_hideMask:function(){this.loadingMask&&this.loadingMask.hide()},_handleResponseError:function(e,t){404===t.status&&l.execute("showMessage","error",r("Calendar event doesn't exist. Please refresh page.")),this.showError(t.responseJSON||{})},showError:function(e){this._hideMask(),this.eventDialog&&d.handleErrors(this.eventDialog.$el.parent(),e)},fillForm:function(e,n){const s=this;e=t(e),s.buildForm(e,n);const r=e.find("[name]"),o=/\[(\w+)\]/g;return i.isEmpty(n.attendees)||this.eventDialog.once("renderComplete",(function(){s.showLoadingMask()})),i.each(r,(function(e){const r=(e=t(e)).attr("name"),a=[];let l;for(;null!==(l=o.exec(r));)a.push(l[1]);if(a.length){const t=s.getValueByPath(n,a);e.is(":checkbox")?!1===t||!0===t?e.prop("checked",t):e.prop("checked",e.val()===t):"attendees"===i.first(a)?t&&t.length&&(e.on("select2-data-loaded",(function(){s._hideMask()})),e.val(s.model.originalId)):e.val(t),e.change()}}),this),e},buildForm:function(e,n){const s=this;e=t(e),i.each(n,(function(t,n){if("object"==typeof t){const r=e.find("."+n+"-collection");if(r){const e=r.data("prototype");e&&i.each(t,(function(t,n){r.append(e.replace(/__name__/g,n))}))}s.buildForm(e,t)}}))},getEventView:function(){const e=this.options.connections.findWhere({calendarUid:this.model.get("calendarUid")}),n=[];i.each(this.options.invitationStatuses,(function(e){n[e]=o.generate("oro_calendar_event_"+e,{id:this.model.originalId})}),this);const s=t(this.viewTemplate(i.extend(this.model.toJSON(),{organizerHTML:this._getOrganizerHTML(),formatter:h,connection:e?e.toJSON():null,invitationUrls:n,originalId:this.model.originalId}))),r=s.find(".activity-context-activity");return this.activityContext=new p({_sourceElement:r,checkTarget:!1,activityClassAlias:"calendarevents",entityId:this.model.originalId,editable:this.model.get("editable")}),s},getEventForm:function(){const e=this.getEventFormTemplateData(),n=this.fillForm(this.template(e),e),i=this.options.colorManager.getCalendarColors(this.model.get("calendarUid"));if(n.find(this.selectors.backgroundColor).data("page-component-options").emptyColor=i.backgroundColor,"user"!==e.calendarAlias&&this._showUserCalendarOnlyFields(n,!1),this._toggleCalendarUidByInvitedUsers(n),n.find(this.selectors.calendarUid).on("change",(e=>{const i=n.find(".empty-color"),s=t(e.currentTarget),r="SELECT"===s.prop("tagName").toUpperCase()||s.is(":checked")?s.val():this.model.get("calendarUid"),o=this.options.colorManager.getCalendarColors(r),a=this.parseCalendarUid(r);i.css({"background-color":o.backgroundColor,color:o.color}),"user"===a.calendarAlias?this._showUserCalendarOnlyFields(n):this._showUserCalendarOnlyFields(n,!1)})),n.find(this.selectors.attendees).on("change",(e=>{this._toggleCalendarUidByInvitedUsers(n)})),this.model.originalId){const e=n.find(this.selectors.contexts);t.ajax({url:o.generate("oro_api_get_activity_context",{activity:"calendarevents",id:this.model.originalId}),type:"GET",success:t=>{const n=[];t.forEach((function(e){const t={entityClass:e.targetClassName.split("_").join("\\"),entityId:e.targetId};n.push(JSON.stringify(t))})),e.val(n.join(this.options.separator)),e.trigger("change")}})}return n},getEventFormData:function(){const e=/^oro_calendar_event_form/,t=/\[(\w+)\]/g,n={},s=this.eventDialog.form;let r=this.eventDialog.form.serializeArray().filter((function(t){return e.test(t.name)}));if(r=r.concat(this.eventDialog.form.find("input[name][type=checkbox]:not(:checked)").filter((function(t,n){return e.test(n.name)})).map((function(){return{name:this.name,value:!1}})).get()),r=i.reduce(r,(function(e,t){const n=i.findWhere(e,{name:t.name});return!n&&i.isArray(s.find('[name="'+t.name+'"]').val())&&(t.value=[t.value]),n&&i.isArray(n.value)?n.value.push(t.value):e.push(t),e}),[]),i.each(r,(function(e){const i=[];let s;for(;null!==(s=t.exec(e.name));)i.push(s[1]);i.length&&this.setValueByPath(n,e.value,i)}),this),n.hasOwnProperty("calendarUid")&&(n.calendarUid&&(i.extend(n,this.parseCalendarUid(n.calendarUid)),"user"!==n.calendarAlias&&i.each(this.userCalendarOnlyFields,(function(e){e.fieldName&&(n[e.fieldName]=e.emptyValue)}))),delete n.calendarUid),n.hasOwnProperty("attendees")){const e=this.eventDialog.form.find('[name="oro_calendar_event_form[attendees]"]').select2("data");n.attendees=i.map(e,(function(e){return{displayName:e.displayName,email:e.email,fullName:e.text,status:e.status,type:e.type,userId:e.userId}}))}return i.defaults(n,{reminders:{},recurrence:null}),n},parseCalendarUid:function(e){return{calendarAlias:e.substr(0,e.lastIndexOf("_")),calendar:parseInt(e.substr(e.lastIndexOf("_")+1))}},_showUserCalendarOnlyFields:function(e,t){i.each(this.userCalendarOnlyFields,(function(n){n.selector&&(i.isUndefined(t)||t?e.find(n.selector).closest(".control-group").show():e.find(n.selector).closest(".control-group").hide())}))},_toggleCalendarUidByInvitedUsers:function(e){const t=e.find(this.selectors.calendarUid);if(!t.length)return;if(this.model.get("recurringEventId")||this.predefinedAttrs.isException)return void t.attr("disabled","disabled");const n=e.find(this.selectors.attendees);n.val()&&n.select2("data").length>0?(t.attr("disabled","disabled"),t.parent().attr("title",r("The calendar cannot be changed because the event has guests")),t.parent().hasClass("disabled")||t.parent().addClass("disabled"),"SELECT"!==t.prop("tagName").toUpperCase()&&t.parent().find("label").addClass("disabled")):(t.removeAttr("disabled"),t.parent().removeAttr("title"),t.parent().hasClass("disabled")&&t.parent().removeClass("disabled"),"SELECT"!==t.prop("tagName").toUpperCase()&&t.parent().find("label").removeClass("disabled"))},setValueByPath:function(e,t,n){let i,s=e;for(i=0;i<n.length-1;i++)void 0===s[n[i]]&&(s[n[i]]={}),s=s[n[i]];s[n[n.length-1]]=t},getValueByPath:function(e,t){let n,i=e;for(n=0;n<t.length;n++){if(void 0===i[t[n]]||null===i[t[n]])return;i=i[t[n]]}return i},getEventFormTemplateData:function(){const e=this.model.isNew(),t=this.model.toJSON();let n="";const s=[];let r=null;return this.options.connections.each((function(e){let t;e.get("canAddEvent")&&(t={uid:e.get("calendarUid"),name:e.get("calendarName")},!r&&function(e){return"user"===e.get("calendarAlias")&&e.get("calendar")===e.get("targetCalendar")}(e)?r=t:s.push(t))}),this),s.length&&(e&&1===s.length?n="single":(r&&s.unshift(r),n="multiple")),i.extend(t,{calendarUidTemplateType:n,calendars:s}),this.options.commonEventBus.trigger("eventForm:setupData",this.model,t,this.predefinedAttrs),t},_getOrganizerHTML:function(){const e=this.model;return f({routing:o,organizerUserId:e.get("organizerUserId"),organizerDisplayName:i.escape(e.get("organizerDisplayName")),organizerEmail:i.escape(e.get("organizerEmail"))})}});return g}.call(t,n,t,e))||(e.exports=i)},"./bundles/orocalendar/js/calendar/menu/change-calendar-color.js":(e,t,n)=>{var i,s;i=[n("./bundles/oroui/js/extend/jquery.js"),n("./bundles/oroui/js/extend/underscore.js"),n("./bundles/oroui/js/app/views/base/view.js"),n("./bundles/orotranslation/js/translator.js"),n("./bundles/oroui/js/messenger.js"),n("./bundles/oroui/lib/simplecolorpicker/jquery.simplecolorpicker.js"),n("./bundles/oroui/lib/minicolors/jquery.minicolors.js")],void 0===(s=function(e,t,n,i,s){"use strict";return n.extend({customColorPickerActionsTemplate:t.template('<div class="form-actions"><button class="btn btn-primary pull-right" data-action="ok" type="button"><%- __("OK") %></button><button class="btn pull-right" data-action="cancel" type="button"><%- __("Cancel") %></button></div>'),events:{"change .color-picker":"onChange","click .custom-color-link":"onOpen","click button[data-action=ok]":"onOk","click button[data-action=cancel]":"onCancel"},constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){this.colorManager=e.colorManager,this.connectionsView=e.connectionsView,this.$colorPicker=this.$el.find(".color-picker"),this.$customColor=this.$el.find(".custom-color"),this.$customColorParent=this.$customColor.parent(),this.customColor=this.model.get("backgroundColor"),-1!==t.indexOf(this.colorManager.colors,this.model.get("backgroundColor"))&&(this.customColor=null),this.initializeColorPicker(),this.initializeCustomColorPicker()},initializeColorPicker:function(){const e=t.map(this.colorManager.colors,(function(e){return{id:e,text:e}}));this.$colorPicker.simplecolorpicker({theme:"fontawesome",data:e}),this.customColor||this.$colorPicker.simplecolorpicker("selectColor",this.model.get("backgroundColor"))},initializeCustomColorPicker:function(){this.$customColor.minicolors({control:"wheel",letterCase:"uppercase",defaultValue:this.model.get("backgroundColor"),change:(e,t)=>{this.$customColor.css("color",this.colorManager.getContrastColor(e))},show:()=>{const t=this.customColor||this.model.get("backgroundColor"),n=this.$customColorParent.find(".minicolors-panel");n.css("top",0);const i=n.outerHeight()+39;n.css("top",e(document).height()<n.offset().top+i?-i:0),this.$colorPicker.simplecolorpicker("selectColor",null),this.$customColor.minicolors("value",t),this.$customColor.attr("data-selected",""),this.$customColorParent.find(".minicolors-picker").show()}}),this.$customColorParent.find(".minicolors-picker").hide(),this.customColor?(this.$customColor.attr("data-selected",""),this.$customColor.css("color",this.colorManager.getContrastColor(this.model.get("backgroundColor")))):this.$customColorParent.hide(),this.$customColorParent.find(".minicolors-panel").append(this.customColorPickerActionsTemplate({__:i}))},onChange:function(e){this.changeColor(e.currentTarget.value)},onOpen:function(e){e.stopPropagation(),this.$customColor.minicolors("show"),this.$customColorParent.show()},onOk:function(){this.$customColor.minicolors("hide"),this.changeColor(this.$customColor.minicolors("value"))},onCancel:function(){this.$customColor.minicolors("hide"),this.customColor?this.$customColor.css({"background-color":this.customColor,color:this.colorManager.getContrastColor(this.customColor)}):(this.$customColor.removeAttr("data-selected"),this.$colorPicker.simplecolorpicker("selectColor",this.model.get("backgroundColor")),this.$customColorParent.hide())},changeColor:function(e){if(this.connectionsView._initActionSyncObject()){const t=s.notificationMessage("warning",i("oro.calendar.flash_message.calendar_updating")),n=this.connectionsView.findItem(this.model),r={backgroundColor:e};this.model.get("visible")||(r.visible=!0),this.connectionsView.setItemVisibility(n,e);try{this.model.save(r,{wait:!0,success:()=>{t.close(),s.notificationFlashMessage("success",i("oro.calendar.flash_message.calendar_updated"),{namespace:"calendar-ns"}),this.colorManager.setCalendarColors(this.model.get("calendarUid"),e),this.connectionsView._actionSyncObject.resolve()},error:(e,s)=>{t.close(),this._showError(i("Sorry, the calendar update has failed."),s.responseJSON||{}),this.connectionsView.setItemVisibility(n,this.model.get("visible")?this.model.get("backgroundColor"):""),this.connectionsView._actionSyncObject.reject()}})}catch(e){t.close(),this._showError(i("Sorry, an unexpected error has occurred."),e),this.connectionsView.setItemVisibility(n,this.model.get("visible")?this.model.get("backgroundColor"):""),this.connectionsView._actionSyncObject.reject()}}else this._showError(i("Sorry, a synchronization error has occurred."),"")},_showError:function(e,t){s.showErrorMessage(e,t)}})}.apply(t,i))||(e.exports=s)},"./bundles/orocalendar/js/calendar/menu/remove-calendar.js":(e,t,n)=>{var i,s;i=[n("./bundles/oroui/js/extend/underscore.js"),n("./bundles/oroui/js/app/views/base/view.js"),n("./bundles/orotranslation/js/translator.js"),n("./bundles/oroui/js/messenger.js")],void 0===(s=function(e,t,n,i){"use strict";return t.extend({constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){this.connectionsView=e.connectionsView},execute:function(e,t){const s=i.notificationMessage("warning",n("oro.calendar.flash_message.calendar_removing")),r=this.connectionsView.findItem(e);try{r.hide(),e.destroy({wait:!0,success:()=>{s.close(),i.notificationFlashMessage("success",n("oro.calendar.flash_message.calendar_removed"),{namespace:"calendar-ns"}),t.resolve()},error:(e,i)=>{s.close(),this._showError(n("Sorry, the calendar removal has failed."),i.responseJSON||{}),r.show(),t.reject()}})}catch(e){s.close(),this._showError(n("Sorry, an unexpected error has occurred."),e),r.show(),this.actionSyncObject.reject()}},_showError:function(e,t){i.showErrorMessage(e,t)}})}.apply(t,i))||(e.exports=s)},"./bundles/orocalendar/js/calendar/menu/toggle-calendar.js":(e,t,n)=>{var i,s;i=[n("./bundles/oroui/js/app/views/base/view.js")],void 0===(s=function(e){"use strict";return e.extend({constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){this.connectionsView=e.connectionsView},execute:function(e){this.connectionsView.toggleCalendar(e)}})}.apply(t,i))||(e.exports=s)},"./bundles/orocalendar/js/extend/fullcalendar.js":(e,t,n)=>{var i;void 0===(i=function(e){const t=n("./bundles/oroui/js/extend/underscore.js"),i=n("../node_modules/fullcalendar/dist/fullcalendar.js"),s=i.htmlEscape,r=i.cssToStr;return i.AgendaView.mixin({renderSkeletonHtml:function(){return`<table>\n                <thead class="fc-head">\n                    <tr>\n                        <td class="fc-head-container ${this.widgetHeaderClass}"></td>\n                    </tr>\n                </thead>\n                <tbody class="fc-body">\n                    <tr>\n                        <td class="${this.widgetContentClass}">\n                        ${this.dayGrid?`\n                            <div class="fc-day-grid"></div>\n                            <hr class="fc-divider ${this.widgetHeaderClass}">\n                        `:""}\n                        </td>\n                    </tr>\n                </tbody>\n            </table>`}}),i.DayGrid.mixin({fgSegHtml:function(e,t){const n=this.view,i=e.event,o=n.isEventDraggable(i),a=!t&&i.allDay&&e.isStart&&n.isEventResizableFromStart(i),l=!t&&i.allDay&&e.isEnd&&n.isEventResizableFromEnd(i),c=this.getSegClasses(e,o,a||l),d=r(this.getSegSkinCss(e));let u,h="";c.unshift("fc-day-grid-event","fc-h-event"),e.isStart&&(u=this.getEventTimeText(i),u&&(h='<span class="fc-time">'+s(u)+"</span>"));const p=`<span class="fc-title">${s(i.title||"")||"&nbsp;"}</span>`;return`<a class="${c.join(" ")}"\n                       ${i.url?`href="${s(i.url)}"`:""}\n                       ${d?`style="${d}"`:""}\n            >\n                <div class="fc-content">${this.isRTL?`${p} ${h}`:`${h} ${p}`}</div>\n                ${a?'<div class="fc-resizer fc-start-resizer"></div>':""}\n                ${l?'<div class="fc-resizer fc-end-resizer"></div>':""}\n            </a>`}}),i.TimeGrid.mixin({fgSegHtml:function(e,t){const n=this.view,i=e.event,o=n.isEventDraggable(i),a=!t&&e.isStart&&n.isEventResizableFromStart(i),l=!t&&e.isEnd&&n.isEventResizableFromEnd(i),c=this.getSegClasses(e,o,a||l),d=r(this.getSegSkinCss(e));let u,h,p;return c.unshift("fc-time-grid-event","fc-v-event"),n.isMultiDayEvent(i)?(e.isStart||e.isEnd)&&(u=this.getEventTimeText(e),h=this.getEventTimeText(e,"LT"),p=this.getEventTimeText(e,null,!1)):(u=this.getEventTimeText(i),h=this.getEventTimeText(i,"LT"),p=this.getEventTimeText(i,null,!1)),`<a class="${c.join(" ")}"\n                       ${i.url?`href="${s(i.url)}"`:""}\n                       ${d?`style="${d}"`:""}\n            >\n                <div class="fc-content">\n                 ${u?`\n                    <div class="fc-time"\n                         data-start="${s(p)}"\n                         data-full="${s(h)}"\n                         >\n                            <span>${s(u)}</span>\n                         </div>\n                 `:""}\n                 ${i.title?`\n                        <div class="fc-title">${s(i.title)}</div>\n                 `:""}\n                </div>\n                <div class="fc-bg"></div>\n                ${l?'\n                    <div class="fc-resizer fc-end-resizer"></div>\n                ':""}\n            </a>`}}),i.Calendar.mixin({renderHeader:function(){const e=this.header;if(e.setToolbarOptions(this.computeHeaderOptions()),e.render(),e.el&&(this.el.prepend(e.el),t.isRTL())){const t=e.el.find(".fc-left .fc-button-group .fc-next-button");t.after(t.prev())}}}),i}.call(t,n,t,e))||(e.exports=i)},"./bundles/orocalendar/js/form-validation.js":(e,t,n)=>{var i,s;i=[n("./bundles/oroui/js/extend/jquery.js"),n("./bundles/oroui/js/extend/underscore.js"),n("./bundles/orotranslation/js/translator.js"),n("./bundles/oroui/js/tools.js"),n("./bundles/oroui/js/error.js")],void 0===(s=function(e,t,n,i,s){"use strict";return{handleErrors:function(r,o,a){t.isString(r)&&(r=e(r)),this.removeErrors(r);const l=[];if(i.debug&&s.showErrorInConsole(o),t.isString(o)&&l.push(o),t.isUndefined(o.message)?l.push(n("Unexpected error was occurred")):l.push(o.message),t.isUndefined(o.errors))this.addErrors(r,l);else if(t.isArray(o.errors))t.each(o.errors,(function(e){l.push(e)}));else if(t.isObject(o.errors)){const e=r.is("form")?r:r.find("form"),t=e.data("validator");t&&t.showBackendErrors(o.errors,e.attr("name"))}t.isUndefined(o.children)||(t.isUndefined(a)&&(a=this.getFormFieldPrefix(r)),t.each(o.children,((e,n)=>{const i=r.find("#"+a+n);this.removeFieldErrors(i),!t.isUndefined(e.errors)&&t.isArray(e.errors)&&this.addFieldErrors(i,e.errors)})),this.setFocusOnFirstErrorField(r))},getFormFieldPrefix:function(e){let n="",i=null;return i="form"===e.prop("tagName").toLowerCase()?e:e.find("form"),t.isNull(i)||(n=i.attr("id"),t.isUndefined(n)?n="":n+="_"),n},removeFieldErrors:function(t){e(t).closest(".controls").removeClass("validation-error").find(".error").removeClass("error")},addFieldErrors:function(n,i){let s=e(n);const r=s.closest("div.controls");s.is(":visible")||(s=r.children(":input"));let o=s.siblings(".validation-failed");o.length||(o=e('<span class="validation-failed"></span>'),s.after(o)),o.show().text(t.isArray(i)?i.join("; "):i),s.addClass("error"),r.addClass("validation-error")},removeErrors:function(n){t.isString(n)&&(n=e(n));const i=n.find(".alert-error");i.length>0&&(i.hide(),i.find("ul").empty())},addErrors:function(n,i){t.isString(n)&&(n=e(n));const s=n.find(".alert-error");if(s.length>0){let n=s.find("ul");t.size(i)>0&&(0===n.length&&(n=e("<ul>"),s.append(n)),t.each(i,(function(t){this.append(e("<li>").text(t))}),n),s.show())}},setFocusOnFirstErrorField:function(n){t.isString(n)&&(n=e(n)),n.find(".error>:input,:input.error").first().focus()}}}.apply(t,i))||(e.exports=s)},"./bundles/orocalendar/js/fullcalendar.js":(e,t,n)=>{var i;void 0===(i=function(e){"use strict";const t=n("./bundles/oroui/js/extend/jquery.js");n("./bundles/orocalendar/js/extend/fullcalendar.js"),t.fullCalendar.Calendar.prototype.normalizeEvent=function(e){e.allDay&&e.end&&(e.end.time(e.endTime),e._end.time(e.endTime))}}.call(t,n,t,e))||(e.exports=i)},"./bundles/oroform/js/app/views/datepair-view.js":(e,t,n)=>{var i;void 0===(i=function(e){"use strict";const t=n("./bundles/oroui/js/extend/jquery.js"),i=n("./bundles/oroui/js/extend/underscore.js"),s=n("./bundles/orolocale/js/moment-l10n.js"),r=n("./bundles/oroui/js/app/views/base/view.js"),o=n("../node_modules/datepair.js/dist/datepair.js");n("./bundles/oroui/js/extend/jquery.timepicker.js");const a=r.extend({nativeMode:!1,nativeTimeFormat:"HH:mm",nativeDateFormat:"YYYY-MM-DD",options:{startClass:"start",endClass:"end",timeClass:"timepicker-input",dateClass:"datepicker-input",defaultDateDelta:0,defaultTimeDelta:36e5},events:{rangeError:"handleRangeError"},constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){i.extend(this,i.pick(e,["nativeMode"])),this.options=i.defaults(i.pick(e,i.keys(this.options)),this.options),a.__super__.initialize.call(this,e),this.initDatepair()},initDatepair:function(){const e=i.extend(i.pick(this.options,"startClass","endClass","timeClass","dateClass"),{parseTime:this._parseTime.bind(this),updateTime:this._updateTime.bind(this),setMinTime:this._setMinTime.bind(this),parseDate:this._parseDate.bind(this),updateDate:this._updateDate.bind(this)});this.datepair=new o(this.el,e)},_parseTime:function(e){return this.nativeMode?s(t(e).val(),this.nativeTimeFormat,!0).toDate():t(e).timepicker("getTime")},_parseDate:function(e){return this.nativeMode?s(t(e).val(),this.nativeDateFormat,!0).toDate():t(e).datepicker("getDate")},_setMinTime:function(e,n){this.nativeMode||t(e).timepicker("option","minTime",n)},_updateTime:function(e,n){if(this.nativeMode){const i=s(n);t(e).val(i.format(this.nativeTimeFormat))}else t(e).timepicker("setTime",n);t(e).trigger("change")},_updateDate:function(e,n){if(this.nativeMode){const i=s(n);t(e).val(i.format(this.nativeDateFormat))}else t(e).datepicker("setDate",n);t(e).trigger("change")},handleRangeError:function(){const e=this.$("."+this.options.startClass+"."+this.options.dateClass),n=this.$("."+this.options.endClass+"."+this.options.dateClass),i=this.$("."+this.options.startClass+"."+this.options.timeClass),s=this.$("."+this.options.endClass+"."+this.options.timeClass),r=this._parseDate(t(e)),o=this._parseTime(t(i)),a=new Date(r.getTime()+864e5*this.options.defaultDateDelta),l=new Date(o.getTime()+this.options.defaultTimeDelta);this._updateDate(t(n),a),this._updateTime(t(s),l)}});return a}.call(t,n,t,e))||(e.exports=i)},"./bundles/oroform/js/app/views/multi-checkbox-view.js":(e,t,n)=>{var i;void 0===(i=function(e){"use strict";const t=n("./bundles/oroui/js/extend/jquery.js"),i=n("./bundles/oroui/js/extend/underscore.js"),s=n("./bundles/oroui/js/app/views/base/view.js").extend({defaults:{selectAttrs:{},value:[],items:null},template:n("../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/oroform/templates/multi-checkbox-view.html"),events:{"change input[type=checkbox]":"onCheckboxToggle"},constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){const n={};t.extend(!0,n,this.defaults,e),i.extend(this,i.pick(n,"items","value","selectAttrs")),s.__super__.initialize.call(this,e)},getTemplateData:function(){const e=s.__super__.getTemplateData.call(this);return e.name=this.selectAttrs.name||i.uniqueId("multi-checkbox"),e.values=this.value,e.options=this.items,e},render:function(){return s.__super__.render.call(this),this.getSelectElement().attr(this.selectAttrs),this},onCheckboxToggle:function(e){let t=this.getValue();e.target.checked&&-1===i.indexOf(t,e.target.value)?t.push(e.target.value):e.target.checked||-1===i.indexOf(t,e.target.value)||(t=i.without(t,e.target.value)),this.setValue(t)},getSelectElement:function(){return this.$('[data-name="multi-checkbox-value-keeper"]')},getValue:function(){return this.getSelectElement().val()},setValue:function(e){const t=this.getValue();i.haveEqualSet(t,e)||(this.value=e,this.getSelectElement().val(e).trigger("change"))}});return s}.call(t,n,t,e))||(e.exports=i)},"./bundles/oroform/js/app/views/week-day-picker-view.js":(e,t,n)=>{var i;void 0===(i=function(e){"use strict";const t=n("./bundles/oroui/js/extend/underscore.js"),i=n("./bundles/orolocale/js/locale-settings.js"),s=n("./bundles/oroform/js/app/views/multi-checkbox-view.js").extend({constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){const n=this.createItems();s.__super__.initialize.call(this,t.extend({items:n},e))},createItems:function(){const e=i.getSortedDayOfWeekNames("mnemonic"),n=i.getSortedDayOfWeekNames("narrow");return t.map(t.object(e,n),(function(e,t){return{value:t,text:e}}))}});return s}.call(t,n,t,e))||(e.exports=i)},"./bundles/oroform/js/formatter/field.js":(e,t,n)=>{var i,s;i=[n("./bundles/oroui/js/extend/underscore.js"),n("./bundles/orotranslation/js/translator.js"),n("./bundles/orolocale/js/formatter/number.js"),n("./bundles/orolocale/js/formatter/datetime.js")],void 0===(s=function(e,t,n,i){"use strict";function s(e){return e.replace(/\n/g,"<br />\n")}return{bool:function(e){return t(e?"Yes":"No")},string:function(n){return e.isNull(n)||e.isUndefined(n)?t("N/A"):e.escape(n)},text:function(n){return e.isNull(n)||e.isUndefined(n)?t("N/A"):s(e.escape(n))},html:function(n){if(e.isNull(n)||e.isUndefined(n))return t("N/A");{const e=document.createElement("div");return e.innerHTML=n,e.childElementCount>0?n:s(n)}},integer:function(i){return e.isNull(i)||e.isUndefined(i)?t("N/A"):n.formatInteger(i)},decimal:function(i){return e.isNull(i)||e.isUndefined(i)?t("N/A"):n.formatDecimal(i)},percent:function(i){return e.isNull(i)||e.isUndefined(i)?t("N/A"):n.formatPercent(i)},currency:function(i){return e.isNull(i)||e.isUndefined(i)?t("N/A"):n.formatCurrency(i)},date:function(n){return e.isNull(n)||e.isUndefined(n)?t("N/A"):i.formatDate(n)},time:function(n){return e.isNull(n)||e.isUndefined(n)?t("N/A"):i.formatTime(n)},dateTime:function(n){return e.isNull(n)||e.isUndefined(n)?t("N/A"):i.formatDateTime(n)},color:function(e){return e?'<i class="color hide-text" title="'+e+'" style="background-color: '+e+';">'+e+"</i>":t("N/A")}}}.apply(t,i))||(e.exports=s)}}]);